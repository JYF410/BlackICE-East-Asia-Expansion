

scripted_gui = {

	ai_difficulty_country = {
		context_type = player_context

		window_name = "ai_difficulty_country_container"
 
		dynamic_lists = {
			setting_target = {
				array = ai_setting_target
				#array = global.countries
				change_scope = yes
				entry_container = "setting_target_window"
			}
			setting_target_countries = {
				array = ai_setting_target_countries
				#array = global.countries
				change_scope = yes
				entry_container = "setting_target_countries_window"
			}
		} 
		  
		visible = {
			has_country_flag = ui_show_ai_bonuses
		}
		
		dirty = ui_difficulty
		
		properties = {
			setting_target_button = { 
				frame = frame_var 
			}
			flag = {
				image = "[This.GetFlag]"
			}
			
			division_spawn_civilian = {
				frame = division_spawn_civilian
			}
			division_spawn_recruits = {
				frame = division_spawn_recruit
			}
			division_spawn_regular = {
				frame = division_spawn_regular
			}
			division_spawn_veteran = {
				frame = division_spawn_veteran
			}
			division_spawn_elite = {
				frame = division_spawn_elite
			}
			
			equipment_spawn_civilian = {
				frame = equipment_spawn_civilian
			}
			equipment_spawn_recruits = {
				frame = equipment_spawn_recruit
			}
			equipment_spawn_regular = {
				frame = equipment_spawn_regular
			}
			equipment_spawn_veteran = {
				frame = equipment_spawn_veteran
			}
			equipment_spawn_elite = {
				frame = equipment_spawn_elite
			}
			
			convoy_spawn_civilian = {
				frame = convoy_spawn_civilian
			}
			convoy_spawn_recruits = {
				frame = convoy_spawn_recruit
			}
			convoy_spawn_regular = {
				frame = convoy_spawn_regular
			}
			convoy_spawn_veteran = {
				frame = convoy_spawn_veteran
			}
			convoy_spawn_elite = {
				frame = convoy_spawn_elite
			}
			
			fuel_spawn_civilian = {
				frame = fuel_spawn_civilian
			}
			fuel_spawn_recruits = {  
				frame = fuel_spawn_recruit
			}
			fuel_spawn_regular = {
				frame = fuel_spawn_regular
			}
			fuel_spawn_veteran = {
				frame = fuel_spawn_veteran
			}
			fuel_spawn_elite = {
				frame = fuel_spawn_elite
			}
			
			strengthen_bar = {
				frame = strengthen_bar
			}
			weaken_bar = { 
				frame = weaken_bar
			}
			politics_bar = { 
				frame = politics_bar
			}
			army_bar = { 
				frame = army_bar
			}
			air_bar = { 
				frame = air_bar
			}
			navy_bar = { 
				frame = navy_bar
			}
			fuel_bar = { 
				frame = fuel_bar
			}
			construction_bar = { 
				frame = construction_bar
			}
			production_bar = { 
				frame = production_bar
			}
		} 
		
		triggers = {
			strengthen_bar_click_enabled = {
				var:ROOT.selected_target = {
					set_temp_variable = { strengthen_bar = ai_diff_strengthen }
				}
			}
			weaken_bar_click_enabled = {
				var:ROOT.selected_target = { 
					set_temp_variable = { weaken_bar = ai_diff_weaken }
				}
			}
			politics_bar_click_enabled = {
				var:ROOT.selected_target = { 
					set_temp_variable = { politics_bar = ai_diff_politics }
				}
			}
			army_bar_click_enabled = {
				var:ROOT.selected_target = { 
					set_temp_variable = { army_bar = ai_diff_army }
				}
			}
			air_bar_click_enabled = {
				var:ROOT.selected_target = { 
					set_temp_variable = { air_bar = ai_diff_air }
				}
			}
			navy_bar_click_enabled = {
				var:ROOT.selected_target = { 
					set_temp_variable = { navy_bar = ai_diff_navy }
				}
			}
			fuel_bar_click_enabled = {
				var:ROOT.selected_target = { 
					set_temp_variable = { fuel_bar = ai_diff_fuel }
				}
			}
			production_bar_click_enabled = {
				var:ROOT.selected_target = { 
					set_temp_variable = { production_bar = ai_diff_production }
				}
			}
			construction_bar_click_enabled = {
				var:ROOT.selected_target = { 
					set_temp_variable = { construction_bar = ai_diff_construction }
				}
			}
			setting_target_button_click_enabled = {
				set_temp_variable = { frame_var = 2 }
				if = {
					limit = {
						check_variable = { ROOT.selected_target = THIS }
					}
					set_temp_variable = { frame_var = 1 }
				}
			}
			
			division_spawn_civilian_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:division_spawn value = 1 }
						}
					}
					set_temp_variable = { division_spawn_civilian = 2 }
				}
			}
			division_spawn_recruits_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:division_spawn value = 2 }
						}
					}
					set_temp_variable = { division_spawn_recruit = 2 }
				}
			}
			division_spawn_regular_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:division_spawn value = 3 }
						}
					}
					set_temp_variable = { division_spawn_regular = 2 }
				}
			}
			division_spawn_veteran_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:division_spawn value = 4 }
						}
					}
					set_temp_variable = { division_spawn_veteran = 2 }
				}
			}
			division_spawn_elite_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:division_spawn value = 5 }
						}
					}
					set_temp_variable = { division_spawn_elite = 2 }
				}
			}
			
			
			equipment_spawn_civilian_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:equipment_spawn value = 1 }
						}
					}
					set_temp_variable = { equipment_spawn_civilian = 2 }
				}
			}
			equipment_spawn_recruits_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:equipment_spawn value = 2 }
						}
					}
					set_temp_variable = { equipment_spawn_recruit = 2 }
				}
			}
			equipment_spawn_regular_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:equipment_spawn value = 3 }
						}
					}
					set_temp_variable = { equipment_spawn_regular = 2 }
				}
			}
			equipment_spawn_veteran_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:equipment_spawn value = 4 }
						}
					}
					set_temp_variable = { equipment_spawn_veteran = 2 }
				}
			}
			equipment_spawn_elite_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:equipment_spawn value = 5 }
						}
					}
					set_temp_variable = { equipment_spawn_elite = 2 }
				}
			}
			
			
			convoy_spawn_civilian_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:convoy_spawn value = 1 }
						}
					}
					set_temp_variable = { convoy_spawn_civilian = 2 }
				}
			}
			convoy_spawn_recruits_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:convoy_spawn value = 2 }
						}
					}
					set_temp_variable = { convoy_spawn_recruit = 2 }
				}
			}
			convoy_spawn_regular_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:convoy_spawn value = 3 }
						}
					}
					set_temp_variable = { convoy_spawn_regular = 2 }
				}
			}
			convoy_spawn_veteran_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:convoy_spawn value = 4 }
						}
					}
					set_temp_variable = { convoy_spawn_veteran = 2 }
				}
			}
			convoy_spawn_elite_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:convoy_spawn value = 5 }
						}
					}
					set_temp_variable = { convoy_spawn_elite = 2 }
				}
			}
			
			
			fuel_spawn_civilian_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:fuel_spawn value = 1 }
						}
					}
					set_temp_variable = { fuel_spawn_civilian = 2 }
				}
			}
			fuel_spawn_recruits_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:fuel_spawn value = 2 }
						}
					}
					set_temp_variable = { fuel_spawn_recruit = 2 }
				}
			}
			fuel_spawn_regular_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:fuel_spawn value = 3 }
						}
					}
					set_temp_variable = { fuel_spawn_regular = 2 }
				}
			}
			fuel_spawn_veteran_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:fuel_spawn value = 4 }
						}
					}
					set_temp_variable = { fuel_spawn_veteran = 2 }
				}
			}
			fuel_spawn_elite_click_enabled = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:fuel_spawn value = 5 }
						}
					}
					set_temp_variable = { fuel_spawn_elite = 2 }
				}
			}
			
			debug_button_visible = {
				always = no 
			}
		}
		
		effects = {
			close_button_click = {
				clear_array = ai_setting_target
				clear_array = ai_setting_target_countries
				clear_variable = ROOT.selected_target
				clr_country_flag = ui_show_ai_bonuses
				
				if = {
					limit = {
						is_in_array = { global.player_adjusting_difficulty = ROOT }
					}
					remove_from_array = { global.player_adjusting_difficulty = ROOT }
					if = {
						limit = {
							check_variable = { global.player_adjusting_difficulty^num = 0 }
						}
						clear_array = global.player_adjusting_difficulty
						
						every_country = {
							limit = {
								is_in_array = { notification = token:notif_difficulty }
							}
							for_each_loop = {
								array = notification 
								
								if = {
									limit = {
										check_variable = { v = token:notif_difficulty }
									}
									remove_from_array = { notification = v }
									remove_from_array = { array = notification_sender index = i }
									remove_from_array = { array = notification_target index = i }
								}
							}
						}
					}
				}
			}
			open_modifier_button_click = {
				if = {
					limit = {
						has_country_flag = ui_show_ai_modifier
					}
					clr_country_flag = ui_show_ai_modifier
					clear_array = ai_diff_modifier_display
				}
				else = {
					set_country_flag = ui_show_ai_modifier
					
					ROOT = {
						clear_array = ai_diff_modifier_display
						var:ROOT.selected_target = {
							for_each_loop = {
								array = BI_AI_modifier_list
								
								add_to_array = { ROOT.ai_diff_modifier_display = v }
							}
						}
					}
				}
				
				add_to_variable = { ui_difficulty = 1 }
			}
			add_countries_button_click = {
				if = {
					limit = {
						has_country_flag = ai_difficulty_add_countries
					}
					clr_country_flag = ai_difficulty_add_countries
					clr_country_flag = ui_country_selection
				}
				else = {
					BI_filter_effect = yes
					set_country_flag = ai_difficulty_add_countries
					set_country_flag = ui_country_selection
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			flag_right_click = {
				if = {
					limit = {
						check_variable = { ROOT.ai_setting_target_countries^num < 2 }
					}
				
					clear_variable = ROOT.selected_target
					clr_country_flag = ai_difficulty_setting_target 
					remove_from_array = { ROOT.ai_setting_target = THIS }
					clear_array = ai_difficulty_setting_targets
					clear_array = ROOT.ai_setting_target_countries
					clear_array = PREV.name_array
					
					ui_ai_remove_country_from_settings = yes
				}
				else_if = {
					limit = {
						has_country_flag = ai_difficulty_setting_target
					}
					for_each_scope_loop = {
						array = ai_difficulty_setting_targets
						break = small_break
						
						if = {
							limit = {
								NOT = { tag = PREV }
							}
							set_temp_variable = { new_storer = THIS }
							clear_array = ai_difficulty_setting_targets
							set_country_flag = ai_difficulty_setting_target
							for_each_loop = {
								array = PREV.ai_difficulty_setting_targets
								
								if = {
									limit = {
										NOT = { check_variable = { v = THIS } }
									}
									add_to_array = { ai_difficulty_setting_targets = v }
								}
							}
							for_each_loop = {
								array = PREV.name_array
								
								add_to_array = { name_array = v }
							}
							set_variable = { ai_diff_strengthen = PREV.ai_diff_strengthen }
							set_variable = { ai_diff_weaken = PREV.ai_diff_weaken }
							set_variable = { ai_diff_politics = PREV.ai_diff_politics }
							set_variable = { ai_diff_army = PREV.ai_diff_army }
							set_variable = { ai_diff_air = PREV.ai_diff_air }
							set_variable = { ai_diff_navy = PREV.ai_diff_navy }
							set_variable = { ai_diff_fuel = PREV.ai_diff_fuel }
							set_variable = { ai_diff_construction = PREV.ai_diff_construction }
							set_variable = { ai_diff_production = PREV.ai_diff_production }
							clear_array = PREV.name_array
							set_temp_variable = { small_break = 1 }
						}
					}
					
					for_each_loop = {
						array = ROOT.ai_setting_target
						
						if = {
							limit = {
								check_variable = { v = THIS }
							}
							add_to_array = { 
								array = ROOT.ai_setting_target
								value = new_storer
								index = i
							}
							set_temp_variable = { break = 1 }
						}
					}
					remove_from_array = { ROOT.ai_setting_target = THIS.id }
					clear_array = ai_difficulty_setting_targets
					clr_country_flag = ai_difficulty_setting_target
					
					var:new_storer = {
						set_variable = { ROOT.selected_target = THIS }
						clear_array = ROOT.ai_setting_target_countries
						add_to_array = { ROOT.ai_setting_target_countries = THIS }
						for_each_scope_loop = {
							array = ai_difficulty_setting_targets
							
							add_to_array = { ROOT.ai_setting_target_countries = THIS }
						}
					}
					
					ui_ai_remove_country_from_settings = yes
				}
				else = {
					var:ROOT.selected_target = {
						remove_from_array = { ai_difficulty_setting_targets = PREV }
						
						
						clear_array = ROOT.ai_setting_target_countries
						add_to_array = { ROOT.ai_setting_target_countries = THIS }
						for_each_scope_loop = {
							array = ai_difficulty_setting_targets
							
							add_to_array = { ROOT.ai_setting_target_countries = THIS }
						}
					}
					clear_array = PREV.name_array
					
					ui_ai_remove_country_from_settings = yes
				}
				add_to_variable = { ROOT.ui_difficulty = 1 }
			}
			flag_shift_click = {
				if = {
					limit = {
						check_variable = { ROOT.ai_setting_target_countries^num > 1 }
					}
						
					if = {
						limit = {
							has_country_flag = ai_difficulty_setting_target
						}
						for_each_scope_loop = {
							array = ai_difficulty_setting_targets
							break = small_break
							
							if = {
								limit = {
									NOT = { tag = PREV }
								}
								set_temp_variable = { new_storer = THIS }
								clear_array = ai_difficulty_setting_targets
								set_country_flag = ai_difficulty_setting_target
								for_each_loop = {
									array = PREV.ai_difficulty_setting_targets
									
									if = {
										limit = {
											NOT = { check_variable = { v = THIS } }
										}
										add_to_array = { ai_difficulty_setting_targets = v }
									}
								}
								for_each_loop = {
									array = PREV.name_array
									
									add_to_array = { name_array = v }
								}
								set_variable = { ai_diff_strengthen = PREV.ai_diff_strengthen }
								set_variable = { ai_diff_weaken = PREV.ai_diff_weaken }
								set_variable = { ai_diff_politics = PREV.ai_diff_politics }
								set_variable = { ai_diff_army = PREV.ai_diff_army }
								set_variable = { ai_diff_air = PREV.ai_diff_air }
								set_variable = { ai_diff_navy = PREV.ai_diff_navy }
								set_variable = { ai_diff_fuel = PREV.ai_diff_fuel }
								set_variable = { ai_diff_construction = PREV.ai_diff_construction }
								set_variable = { ai_diff_production = PREV.ai_diff_production }
								clear_array = PREV.name_array
								set_temp_variable = { small_break = 1 }
							}
						}
						
						for_each_loop = {
							array = ROOT.ai_setting_target
							
							if = {
								limit = {
									check_variable = { v = THIS }
								}
								add_to_array = { 
									array = ROOT.ai_setting_target
									value = new_storer
									index = i
								}
								set_temp_variable = { break = 1 }
							}
						}
						remove_from_array = { ROOT.ai_setting_target = THIS.id }
						clear_array = ai_difficulty_setting_targets
						clr_country_flag = ai_difficulty_setting_target
						
						var:new_storer = {
							set_variable = { ROOT.selected_target = THIS }
							clear_array = ROOT.ai_setting_target_countries
							add_to_array = { ROOT.ai_setting_target_countries = THIS }
							for_each_scope_loop = {
								array = ai_difficulty_setting_targets
								
								add_to_array = { ROOT.ai_setting_target_countries = THIS }
							}
						}
						remove_from_array = { array = ROOT.ai_setting_target }
						add_to_array = { ROOT.ai_setting_target = THIS }
						add_to_array = { ROOT.ai_setting_target = 1 }
						set_variable = { ROOT.selected_target = THIS }
						set_country_flag = ai_difficulty_setting_target
						
						clear_array = ROOT.ai_setting_target_countries
						add_to_array = { ROOT.ai_setting_target_countries = THIS }
						for_each_scope_loop = {
							array = ai_difficulty_setting_targets
							
							add_to_array = { ROOT.ai_setting_target_countries = THIS }
						}
					}
					else = {
						var:ROOT.selected_target = {
							remove_from_array = { ai_difficulty_setting_targets = PREV }
							
							remove_from_array = { array = ROOT.ai_setting_target }
							add_to_array = { ROOT.ai_setting_target = PREV }
							add_to_array = { ROOT.ai_setting_target = 1 }
							
							clear_array = ROOT.ai_setting_target_countries
							add_to_array = { ROOT.ai_setting_target_countries = THIS }
							for_each_scope_loop = {
								array = ai_difficulty_setting_targets
								
								add_to_array = { ROOT.ai_setting_target_countries = THIS }
							}
							
							PREV = {
								set_variable = { ai_diff_strengthen = PREV.ai_diff_strengthen }
								set_variable = { ai_diff_weaken = PREV.ai_diff_weaken }
								set_variable = { ai_diff_politics = PREV.ai_diff_politics }
								set_variable = { ai_diff_army = PREV.ai_diff_army }
								set_variable = { ai_diff_air = PREV.ai_diff_air }
								set_variable = { ai_diff_navy = PREV.ai_diff_navy }
								set_variable = { ai_diff_fuel = PREV.ai_diff_fuel }
								set_variable = { ai_diff_construction = PREV.ai_diff_construction }
								set_variable = { ai_diff_production = PREV.ai_diff_production }
							}
						}
						set_variable = { ROOT.selected_target = THIS }
						
						set_country_flag = ai_difficulty_setting_target
						
						clear_array = ROOT.ai_setting_target_countries
						add_to_array = { ROOT.ai_setting_target_countries = THIS }
						for_each_scope_loop = {
							array = ai_difficulty_setting_targets
							
							add_to_array = { ROOT.ai_setting_target_countries = THIS }
						}
					}
				}
				add_to_variable = { ROOT.ui_difficulty = 1 }
			}
			
			setting_target_button_click = {
				if = {
					limit = {
						check_variable = { v = 1 }
					}
					set_variable = { ROOT.selected_target = THIS }
					clear_array = ROOT.ai_setting_target_countries
					
					ROOT = { set_country_flag = ai_difficulty_add_countries set_country_flag = ui_country_selection }
					
					BI_filter_effect = yes
					
					clear_array = ai_diff_modifier_display
				}
				else = {
					ROOT = { clr_country_flag = ai_difficulty_add_countries clr_country_flag = ui_country_selection }
					
					set_variable = { ROOT.selected_target = THIS }
					
					clear_array = ROOT.ai_setting_target_countries
					add_to_array = { ROOT.ai_setting_target_countries = THIS }
					for_each_scope_loop = {
						array = ai_difficulty_setting_targets
				 		
						add_to_array = { ROOT.ai_setting_target_countries = THIS }
					} 
					clear_array = ROOT.ai_diff_modifier_display
					var:ROOT.selected_target = {
						for_each_loop = {
							array = BI_AI_modifier_list
							
							add_to_array = { ROOT.ai_diff_modifier_display = v }
						}
					}
				} 
				add_to_variable = { ROOT.ui_difficulty = 1 }
			} 
			setting_target_button_right_click = {
				if = {
					limit = {
						NOT = { check_variable = { v = 1 } }
					}
					
					if = {
						limit = {
							has_country_flag = setting_type_name
						}
						clr_country_flag = setting_type_name
						clear_variable = ROOT.setting_name_target
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target
							
							clr_country_flag = setting_type_name
						}
						set_country_flag = setting_type_name
						set_variable = { ROOT.setting_name_target = THIS }
					}
				}
				add_to_variable = { ROOT.ui_difficulty = 1 }
			} 
			
			strengthen_bar_click = { 
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
					 			has_idea = ai_diff_strengthen_1
		 					}
							show_ideas_tooltip = ai_diff_strengthen_1
						}
						else_if = {
							limit = {
								has_idea = ai_diff_strengthen_2
							}
							show_ideas_tooltip = ai_diff_strengthen_2
						}
						else_if = {
							limit = {
								has_idea = ai_diff_strengthen_3
							}
							show_ideas_tooltip = ai_diff_strengthen_3
						}
						else_if = {
							limit = {
								has_idea = ai_diff_strengthen_4
							}
							show_ideas_tooltip = ai_diff_strengthen_4
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			strengthen_up_click = {
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_strengthen_1
							}
							swap_ideas = {
								add_idea = ai_diff_strengthen_2
								remove_idea = ai_diff_strengthen_1
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_strengthen_2
							}
							swap_ideas = {
								add_idea = ai_diff_strengthen_3
								remove_idea = ai_diff_strengthen_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_strengthen_3
							}
							swap_ideas = {
								add_idea = ai_diff_strengthen_4
								remove_idea = ai_diff_strengthen_3
							}
						}
						else_if = {
							limit = {
								NOT = { has_idea = ai_diff_strengthen_4 }
							}
							add_ideas = ai_diff_strengthen_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_strengthen = 25 }
					clamp_variable = { var = ai_diff_strengthen max = 100 }
					
					set_temp_variable = { lvl = ai_diff_strengthen }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_strengthen_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_strengthen_1
									ai_diff_strengthen_2
									ai_diff_strengthen_3
									ai_diff_strengthen_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_strengthen_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							remove_ideas = {
								ai_diff_strengthen_1
								ai_diff_strengthen_2
								ai_diff_strengthen_3
								ai_diff_strengthen_4
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
				
			}
			strengthen_down_click = {		
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_strengthen_4
							}
							swap_ideas = {
								add_idea = ai_diff_strengthen_3
								remove_idea = ai_diff_strengthen_4
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_strengthen_3
							}
							swap_ideas = {
								add_idea = ai_diff_strengthen_2
								remove_idea = ai_diff_strengthen_3
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_strengthen_2
							}
							swap_ideas = {
								add_idea = ai_diff_strengthen_1
								remove_idea = ai_diff_strengthen_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_strengthen_1
							}
							remove_ideas = ai_diff_strengthen_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_strengthen = -25 }
					clamp_variable = { var = ai_diff_strengthen min = 0 }
						
					set_temp_variable = { lvl = ai_diff_strengthen }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_strengthen_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_strengthen_1
									ai_diff_strengthen_2
									ai_diff_strengthen_3
									ai_diff_strengthen_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_strengthen_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							remove_ideas = {
								ai_diff_strengthen_1
								ai_diff_strengthen_2
								ai_diff_strengthen_3
								ai_diff_strengthen_4
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			weaken_bar_click = { 
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
					 			has_idea = ai_diff_weaken_1
		 					}
							show_ideas_tooltip = ai_diff_weaken_1
						}
						else_if = {
							limit = {
								has_idea = ai_diff_weaken_2
							}
							show_ideas_tooltip = ai_diff_weaken_2
						}
						else_if = {
							limit = {
								has_idea = ai_diff_weaken_3
							}
							show_ideas_tooltip = ai_diff_weaken_3
						}
						else_if = {
							limit = {
								has_idea = ai_diff_weaken_4
							}
							show_ideas_tooltip = ai_diff_weaken_4
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			weaken_up_click = {
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_weaken_1
							}
							swap_ideas = {
								add_idea = ai_diff_weaken_2
								remove_idea = ai_diff_weaken_1
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_weaken_2
							}
							swap_ideas = {
								add_idea = ai_diff_weaken_3
								remove_idea = ai_diff_weaken_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_weaken_3
							}
							swap_ideas = {
								add_idea = ai_diff_weaken_4
								remove_idea = ai_diff_weaken_3
							}
						}
						else_if = {
							limit = {
								NOT = { has_idea = ai_diff_weaken_4 }
							}
							add_ideas = ai_diff_weaken_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_weaken = 25 }
					clamp_variable = { var = ai_diff_weaken max = 100 }
					
					set_temp_variable = { lvl = ai_diff_weaken }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_weaken_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_weaken_1
									ai_diff_weaken_2
									ai_diff_weaken_3
									ai_diff_weaken_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_weaken_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			weaken_down_click = {		
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_weaken_4
							}
							swap_ideas = {
								add_idea = ai_diff_weaken_3
								remove_idea = ai_diff_weaken_4
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_weaken_3
							}
							swap_ideas = {
								add_idea = ai_diff_weaken_2
								remove_idea = ai_diff_weaken_3
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_weaken_2
							}
							swap_ideas = {
								add_idea = ai_diff_weaken_1
								remove_idea = ai_diff_weaken_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_weaken_1
							}
							remove_ideas = ai_diff_weaken_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_weaken = -25 }
					clamp_variable = { var = ai_diff_weaken min = 0 }
					
					set_temp_variable = { lvl = ai_diff_weaken }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_weaken_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_weaken_1
									ai_diff_weaken_2
									ai_diff_weaken_3
									ai_diff_weaken_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_weaken_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							remove_ideas = {
								ai_diff_weaken_1
								ai_diff_weaken_2
								ai_diff_weaken_3
								ai_diff_weaken_4
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			politics_bar_click = { 
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
					 			has_idea = ai_diff_politics_1
		 					}
							show_ideas_tooltip = ai_diff_politics_1
						}
						else_if = {
							limit = {
								has_idea = ai_diff_politics_2
							}
							show_ideas_tooltip = ai_diff_politics_2
						}
						else_if = {
							limit = {
								has_idea = ai_diff_politics_3
							}
							show_ideas_tooltip = ai_diff_politics_3
						}
						else_if = {
							limit = {
								has_idea = ai_diff_politics_4
							}
							show_ideas_tooltip = ai_diff_politics_4
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			politics_up_click = {
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_politics_1
							}
							swap_ideas = {
								add_idea = ai_diff_politics_2
								remove_idea = ai_diff_politics_1
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_politics_2
							}
							swap_ideas = {
								add_idea = ai_diff_politics_3
								remove_idea = ai_diff_politics_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_politics_3
							}
							swap_ideas = {
								add_idea = ai_diff_politics_4
								remove_idea = ai_diff_politics_3
							}
						}
						else_if = {
							limit = {
								NOT = { has_idea = ai_diff_politics_4 }
							}
							add_ideas = ai_diff_politics_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_politics = 25 }
					clamp_variable = { var = ai_diff_politics max = 100 }
					
					set_temp_variable = { lvl = ai_diff_politics }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_politics_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_politics_1
									ai_diff_politics_2
									ai_diff_politics_3
									ai_diff_politics_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_politics_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			politics_down_click = {		
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_politics_4
							}
							swap_ideas = {
								add_idea = ai_diff_politics_3
								remove_idea = ai_diff_politics_4
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_politics_3
							}
							swap_ideas = {
								add_idea = ai_diff_politics_2
								remove_idea = ai_diff_politics_3
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_politics_2
							}
							swap_ideas = {
								add_idea = ai_diff_politics_1
								remove_idea = ai_diff_politics_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_politics_1
							}
							remove_ideas = ai_diff_politics_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_politics = -25 }
					clamp_variable = { var = ai_diff_politics min = 0 }
					
					set_temp_variable = { lvl = ai_diff_politics }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_politics_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_politics_1
									ai_diff_politics_2
									ai_diff_politics_3
									ai_diff_politics_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_politics_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							remove_ideas = {
								ai_diff_politics_1
								ai_diff_politics_2
								ai_diff_politics_3
								ai_diff_politics_4
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			army_bar_click = { 
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
					 			has_idea = ai_diff_army_1
		 					}
							show_ideas_tooltip = ai_diff_army_1
						}
						else_if = {
							limit = {
								has_idea = ai_diff_army_2
							}
							show_ideas_tooltip = ai_diff_army_2
						}
						else_if = {
							limit = {
								has_idea = ai_diff_army_3
							}
							show_ideas_tooltip = ai_diff_army_3
						}
						else_if = {
							limit = {
								has_idea = ai_diff_army_4
							}
							show_ideas_tooltip = ai_diff_army_4
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			army_up_click = {
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_army_1
							}
							swap_ideas = {
								add_idea = ai_diff_army_2
								remove_idea = ai_diff_army_1
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_army_2
							}
							swap_ideas = {
								add_idea = ai_diff_army_3
								remove_idea = ai_diff_army_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_army_3
							}
							swap_ideas = {
								add_idea = ai_diff_army_4
								remove_idea = ai_diff_army_3
							}
						}
						else_if = {
							limit = {
								NOT = { has_idea = ai_diff_army_4 }
							}
							add_ideas = ai_diff_army_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_army = 25 }
					clamp_variable = { var = ai_diff_army max = 100 }
					
					set_temp_variable = { lvl = ai_diff_army }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_army_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_army_1
									ai_diff_army_2
									ai_diff_army_3
									ai_diff_army_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_army_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			army_down_click = {		
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_army_4
							}
							swap_ideas = {
								add_idea = ai_diff_army_3
								remove_idea = ai_diff_army_4
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_army_3
							}
							swap_ideas = {
								add_idea = ai_diff_army_2
								remove_idea = ai_diff_army_3
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_army_2
							}
							swap_ideas = {
								add_idea = ai_diff_army_1
								remove_idea = ai_diff_army_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_army_1
							}
							remove_ideas = ai_diff_army_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_army = -25 }
					clamp_variable = { var = ai_diff_army min = 0 }
					
					set_temp_variable = { lvl = ai_diff_army }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_army_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_army_1
									ai_diff_army_2
									ai_diff_army_3
									ai_diff_army_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_army_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							remove_ideas = {
								ai_diff_army_1
								ai_diff_army_2
								ai_diff_army_3
								ai_diff_army_4
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			air_bar_click = { 
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
					 			has_idea = ai_diff_air_1
		 					}
							show_ideas_tooltip = ai_diff_air_1
						}
						else_if = {
							limit = {
								has_idea = ai_diff_air_2
							}
							show_ideas_tooltip = ai_diff_air_2
						}
						else_if = {
							limit = {
								has_idea = ai_diff_air_3
							}
							show_ideas_tooltip = ai_diff_air_3
						}
						else_if = {
							limit = {
								has_idea = ai_diff_air_4
							}
							show_ideas_tooltip = ai_diff_air_4
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			air_up_click = {
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_air_1
							}
							swap_ideas = {
								add_idea = ai_diff_air_2
								remove_idea = ai_diff_air_1
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_air_2
							}
							swap_ideas = {
								add_idea = ai_diff_air_3
								remove_idea = ai_diff_air_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_air_3
							}
							swap_ideas = {
								add_idea = ai_diff_air_4
								remove_idea = ai_diff_air_3
							}
						}
						else_if = {
							limit = {
								NOT = { has_idea = ai_diff_air_4 }
							}
							add_ideas = ai_diff_air_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_air = 25 }
					clamp_variable = { var = ai_diff_air max = 100 }
					
					set_temp_variable = { lvl = ai_diff_air }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_air_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_air_1
									ai_diff_air_2
									ai_diff_air_3
									ai_diff_air_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_air_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			air_down_click = {		
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_air_4
							}
							swap_ideas = {
								add_idea = ai_diff_air_3
								remove_idea = ai_diff_air_4
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_air_3
							}
							swap_ideas = {
								add_idea = ai_diff_air_2
								remove_idea = ai_diff_air_3
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_air_2
							}
							swap_ideas = {
								add_idea = ai_diff_air_1
								remove_idea = ai_diff_air_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_air_1
							}
							remove_ideas = ai_diff_air_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_air = -25 }
					clamp_variable = { var = ai_diff_air min = 0 }
					
					set_temp_variable = { lvl = ai_diff_air }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_air_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_air_1
									ai_diff_air_2
									ai_diff_air_3
									ai_diff_air_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_air_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							remove_ideas = {
								ai_diff_air_1
								ai_diff_air_2
								ai_diff_air_3
								ai_diff_air_4
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			navy_bar_click = { 
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
					 			has_idea = ai_diff_navy_1
		 					}
							show_ideas_tooltip = ai_diff_navy_1
						}
						else_if = {
							limit = {
								has_idea = ai_diff_navy_2
							}
							show_ideas_tooltip = ai_diff_navy_2
						}
						else_if = {
							limit = {
								has_idea = ai_diff_navy_3
							}
							show_ideas_tooltip = ai_diff_navy_3
						}
						else_if = {
							limit = {
								has_idea = ai_diff_navy_4
							}
							show_ideas_tooltip = ai_diff_navy_4
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			navy_up_click = {
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_navy_1
							}
							swap_ideas = {
								add_idea = ai_diff_navy_2
								remove_idea = ai_diff_navy_1
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_navy_2
							}
							swap_ideas = {
								add_idea = ai_diff_navy_3
								remove_idea = ai_diff_navy_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_navy_3
							}
							swap_ideas = {
								add_idea = ai_diff_navy_4
								remove_idea = ai_diff_navy_3
							}
						}
						else_if = {
							limit = {
								NOT = { has_idea = ai_diff_navy_4 }
							}
							add_ideas = ai_diff_navy_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_navy = 25 }
					clamp_variable = { var = ai_diff_navy max = 100 }
					
					set_temp_variable = { lvl = ai_diff_navy }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_navy_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_navy_1
									ai_diff_navy_2
									ai_diff_navy_3
									ai_diff_navy_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_navy_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			navy_down_click = {		
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_navy_4
							}
							swap_ideas = {
								add_idea = ai_diff_navy_3
								remove_idea = ai_diff_navy_4
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_navy_3
							}
							swap_ideas = {
								add_idea = ai_diff_navy_2
								remove_idea = ai_diff_navy_3
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_navy_2
							}
							swap_ideas = {
								add_idea = ai_diff_navy_1
								remove_idea = ai_diff_navy_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_navy_1
							}
							remove_ideas = ai_diff_navy_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_navy = -25 }
					clamp_variable = { var = ai_diff_navy min = 0 }
					
					set_temp_variable = { lvl = ai_diff_navy }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_navy_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_navy_1
									ai_diff_navy_2
									ai_diff_navy_3
									ai_diff_navy_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_navy_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							remove_ideas = {
								ai_diff_navy_1
								ai_diff_navy_2
								ai_diff_navy_3
								ai_diff_navy_4
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			fuel_bar_click = { 
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
					 			has_idea = ai_diff_fuel_1
		 					}
							show_ideas_tooltip = ai_diff_fuel_1
						}
						else_if = {
							limit = {
								has_idea = ai_diff_fuel_2
							}
							show_ideas_tooltip = ai_diff_fuel_2
						}
						else_if = {
							limit = {
								has_idea = ai_diff_fuel_3
							}
							show_ideas_tooltip = ai_diff_fuel_3
						}
						else_if = {
							limit = {
								has_idea = ai_diff_fuel_4
							}
							show_ideas_tooltip = ai_diff_fuel_4
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			fuel_up_click = {
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_fuel_1
							}
							swap_ideas = {
								add_idea = ai_diff_fuel_2
								remove_idea = ai_diff_fuel_1
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_fuel_2
							}
							swap_ideas = {
								add_idea = ai_diff_fuel_3
								remove_idea = ai_diff_fuel_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_fuel_3
							}
							swap_ideas = {
								add_idea = ai_diff_fuel_4
								remove_idea = ai_diff_fuel_3
							}
						}
						else_if = {
							limit = {
								NOT = { has_idea = ai_diff_fuel_4 }
							}
							add_ideas = ai_diff_fuel_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_fuel = 25 }
					clamp_variable = { var = ai_diff_fuel max = 100 }
					
					set_temp_variable = { lvl = ai_diff_fuel }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_fuel_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_fuel_1
									ai_diff_fuel_2
									ai_diff_fuel_3
									ai_diff_fuel_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_fuel_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			fuel_down_click = {		
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_fuel_4
							}
							swap_ideas = {
								add_idea = ai_diff_fuel_3
								remove_idea = ai_diff_fuel_4
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_fuel_3
							}
							swap_ideas = {
								add_idea = ai_diff_fuel_2
								remove_idea = ai_diff_fuel_3
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_fuel_2
							}
							swap_ideas = {
								add_idea = ai_diff_fuel_1
								remove_idea = ai_diff_fuel_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_fuel_1
							}
							remove_ideas = ai_diff_fuel_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_fuel = -25 }
					clamp_variable = { var = ai_diff_fuel min = 0 }
					
					set_temp_variable = { lvl = ai_diff_fuel }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_fuel_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_fuel_1
									ai_diff_fuel_2
									ai_diff_fuel_3
									ai_diff_fuel_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_fuel_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							remove_ideas = {
								ai_diff_fuel_1
								ai_diff_fuel_2
								ai_diff_fuel_3
								ai_diff_fuel_4
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			construction_bar_click = { 
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
					 			has_idea = ai_diff_construction_1
		 					}
							show_ideas_tooltip = ai_diff_construction_1
						}
						else_if = {
							limit = {
								has_idea = ai_diff_construction_2
							}
							show_ideas_tooltip = ai_diff_construction_2
						}
						else_if = {
							limit = {
								has_idea = ai_diff_construction_3
							}
							show_ideas_tooltip = ai_diff_construction_3
						}
						else_if = {
							limit = {
								has_idea = ai_diff_construction_4
							}
							show_ideas_tooltip = ai_diff_construction_4
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			construction_up_click = {
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_construction_1
							}
							swap_ideas = {
								add_idea = ai_diff_construction_2
								remove_idea = ai_diff_construction_1
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_construction_2
							}
							swap_ideas = {
								add_idea = ai_diff_construction_3
								remove_idea = ai_diff_construction_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_construction_3
							}
							swap_ideas = {
								add_idea = ai_diff_construction_4
								remove_idea = ai_diff_construction_3
							}
						}
						else_if = {
							limit = {
								NOT = { has_idea = ai_diff_construction_4 }
							}
							add_ideas = ai_diff_construction_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_construction = 25 }
					clamp_variable = { var = ai_diff_construction max = 100 }
					
					set_temp_variable = { lvl = ai_diff_construction }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_construction_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_construction_1
									ai_diff_construction_2
									ai_diff_construction_3
									ai_diff_construction_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_construction_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			construction_down_click = {		
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_construction_4
							}
							swap_ideas = {
								add_idea = ai_diff_construction_3
								remove_idea = ai_diff_construction_4
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_construction_3
							}
							swap_ideas = {
								add_idea = ai_diff_construction_2
								remove_idea = ai_diff_construction_3
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_construction_2
							}
							swap_ideas = {
								add_idea = ai_diff_construction_1
								remove_idea = ai_diff_construction_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_construction_1
							}
							remove_ideas = ai_diff_construction_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_construction = -25 }
					clamp_variable = { var = ai_diff_construction min = 0 }
					
					set_temp_variable = { lvl = ai_diff_construction }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_construction_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_construction_1
									ai_diff_construction_2
									ai_diff_construction_3
									ai_diff_construction_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_construction_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							remove_ideas = {
								ai_diff_construction_1
								ai_diff_construction_2
								ai_diff_construction_3
								ai_diff_construction_4
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			production_bar_click = { 
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
					 			has_idea = ai_diff_production_1
		 					}
							show_ideas_tooltip = ai_diff_production_1
						}
						else_if = {
							limit = {
								has_idea = ai_diff_production_2
							}
							show_ideas_tooltip = ai_diff_production_2
						}
						else_if = {
							limit = {
								has_idea = ai_diff_production_3
							}
							show_ideas_tooltip = ai_diff_production_3
						}
						else_if = {
							limit = {
								has_idea = ai_diff_production_4
							}
							show_ideas_tooltip = ai_diff_production_4
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			production_up_click = {
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_production_1
							}
							swap_ideas = {
								add_idea = ai_diff_production_2
								remove_idea = ai_diff_production_1
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_production_2
							}
							swap_ideas = {
								add_idea = ai_diff_production_3
								remove_idea = ai_diff_production_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_production_3
							}
							swap_ideas = {
								add_idea = ai_diff_production_4
								remove_idea = ai_diff_production_3
							}
						}
						else_if = {
							limit = {
								NOT = { has_idea = ai_diff_production_4 }
							}
							add_ideas = ai_diff_production_1
						}
					}
				}
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_production = 25 }
					clamp_variable = { var = ai_diff_production max = 100 }
					
					set_temp_variable = { lvl = ai_diff_production }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_production_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_production_1
									ai_diff_production_2
									ai_diff_production_3
									ai_diff_production_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_production_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			production_down_click = {			
				effect_tooltip = {
					every_country = { limit = { is_in_array = { ROOT.ai_setting_target_countries = THIS } }
						if = {
							limit = {
								has_idea = ai_diff_production_4
							}
							swap_ideas = {
								add_idea = ai_diff_production_3
								remove_idea = ai_diff_production_4
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_production_3
							}
							swap_ideas = {
								add_idea = ai_diff_production_2
								remove_idea = ai_diff_production_3
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_production_2
							}
							swap_ideas = {
								add_idea = ai_diff_production_1
								remove_idea = ai_diff_production_2
							}
						}
						else_if = {
							limit = {
								has_idea = ai_diff_production_1
							}
							remove_ideas = ai_diff_production_1
						}
					}
				}
								
				var:ROOT.selected_target = {
					add_to_variable = { ai_diff_production = -25 }
					clamp_variable = { var = ai_diff_production min = 0 }
					
					set_temp_variable = { lvl = ai_diff_production }
					
					if = {
						limit = {
							check_variable = { lvl > 0 }
						}
						divide_temp_variable = { lvl = 25 }
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							if = {
								limit = {
									meta_trigger = {
										text = {
											NOT = { has_idea = ai_diff_production_[X] }
										}
										X = "[?lvl]"
									}
								}
								remove_ideas = {
									ai_diff_production_1
									ai_diff_production_2
									ai_diff_production_3
									ai_diff_production_4
								}
								meta_effect = {
									text = {
										add_ideas = ai_diff_production_[X]
									}
									X = "[?lvl]"
								}
							}
						}
					}
					else = {
						for_each_scope_loop = {
							array = ROOT.ai_setting_target_countries
								
							remove_ideas = {
								ai_diff_production_1
								ai_diff_production_2
								ai_diff_production_3
								ai_diff_production_4
							}
						}
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			} 
			
			division_spawn_civilian_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:division_spawn value = 1 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:division_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:division_spawn value = 1 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			division_spawn_recruits_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:division_spawn value = 2 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:division_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:division_spawn value = 2 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			division_spawn_regular_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:division_spawn value = 3 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:division_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:division_spawn value = 3 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			division_spawn_veteran_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:division_spawn value = 4 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:division_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:division_spawn value = 4 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			division_spawn_elite_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:division_spawn value = 5 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:division_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:division_spawn value = 5 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			
			equipment_spawn_civilian_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:equipment_spawn value = 1 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:equipment_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:equipment_spawn value = 1 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			equipment_spawn_recruits_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:equipment_spawn value = 2 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:equipment_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:equipment_spawn value = 2 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			equipment_spawn_regular_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:equipment_spawn value = 3 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:equipment_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:equipment_spawn value = 3 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			equipment_spawn_veteran_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:equipment_spawn value = 4 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:equipment_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:equipment_spawn value = 4 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			equipment_spawn_elite_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:equipment_spawn value = 5 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:equipment_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:equipment_spawn value = 5 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			
			convoy_spawn_civilian_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:convoy_spawn value = 1 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:convoy_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:convoy_spawn value = 1 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			convoy_spawn_recruits_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:convoy_spawn value = 2 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:convoy_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:convoy_spawn value = 2 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			convoy_spawn_regular_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:convoy_spawn value = 3 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:convoy_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:convoy_spawn value = 3 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			convoy_spawn_veteran_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:convoy_spawn value = 4 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:convoy_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:convoy_spawn value = 4 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			convoy_spawn_elite_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:convoy_spawn value = 5 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:convoy_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:convoy_spawn value = 5 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
			
			fuel_spawn_civilian_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:fuel_spawn value = 1 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:fuel_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:fuel_spawn value = 1 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			fuel_spawn_recruits_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:fuel_spawn value = 2 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:fuel_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:fuel_spawn value = 2 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			fuel_spawn_regular_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:fuel_spawn value = 3 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:fuel_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:fuel_spawn value = 3 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			fuel_spawn_veteran_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:fuel_spawn value = 4 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:fuel_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:fuel_spawn value = 4 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			fuel_spawn_elite_click = {
				if = {
					limit = {
						any_of_scopes = {
							array = ai_setting_target_countries
							
							has_country_flag = { flag = ai_diff:fuel_spawn value = 5 }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						clr_country_flag = ai_diff:fuel_spawn
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						set_country_flag = { flag = ai_diff:fuel_spawn value = 5 }
					}
				}
				add_to_variable = { ui_difficulty = 1 }
			}
		}
	}
		
	BI_textbox = {
		context_type = player_context

		window_name = "BI_textbox_type"
		parent_scripted_gui = ai_difficulty_country
 
		visible = { 
			var:ROOT.setting_name_target = {
				has_country_flag = setting_type_name
			} 
		}
		
		effects = {
			1_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 40 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			2_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 41 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			3_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 42 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			4_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 43 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			5_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 44 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			6_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 45 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			7_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 46 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			8_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 47 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			9_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 48 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			0_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 49 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			a_click = { 
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 1 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			b_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 2 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			c_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 3 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			d_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 4 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			e_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 5 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			f_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 6 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			g_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 7 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			h_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 8 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			i_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 9 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			j_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 10 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			k_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 11 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			l_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 12 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			m_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 13 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			n_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 14 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			o_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 15 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			p_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 16 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			q_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 17 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			r_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 18 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			s_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 19 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			t_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 20 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			u_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 21 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			v_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 22 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			w_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 23 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			x_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 24 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			y_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 25 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			z_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 26 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			delete_click = {
				var:ROOT.setting_name_target = {
					remove_from_array = { array = name_array }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			space_click = {
				var:ROOT.setting_name_target = {
					add_to_array = { name_array = 30 }
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			enter_click = {
				var:ROOT.setting_name_target = {
					clr_country_flag = setting_type_name
				}
				add_to_variable = { ui_difficulty = 1 }
			}
			
		}
	}
	 
	BI_main_menu_ai_gui = {
		context_type = player_context  
		  
		window_name = "BI_main_menu_ai_gui"
		parent_scripted_gui = ai_difficulty_country
		
		visible = {
			has_country_flag = ui_show_ai_modifier
		}
		
		dynamic_lists = { 
			
			BI_AI_modifier_list = { 
				#array = global.BI_AI_modifier_list
				array = ROOT.ai_diff_modifier_display
				change_scope = yes
				entry_container = "BI_AI_army_modifier_container"
			}   
			
		} 
		
		properties = {
			
		}
		
		effects = {
			BI_close_modifier_list_button_click = {
				clr_country_flag = ui_show_ai_modifier
				clr_country_flag = ui_show_select_ai_modifier
				clear_array = ai_diff_modifier_display
			}
			BI_open_modifier_list_button_click = {
				if = {
					limit = {
						has_country_flag = ui_show_select_ai_modifier
					}
					clr_country_flag = ui_show_select_ai_modifier
					clear_array = BI_modifier_list
				}
				else = {
					set_country_flag = ui_show_select_ai_modifier
						
					clear_array = BI_modifier_list
					add_to_array = { BI_modifier_list = token:army_attack_factor }
					add_to_array = { BI_modifier_list = token:army_defence_factor }
					add_to_array = { BI_modifier_list = token:army_core_attack_factor }
					add_to_array = { BI_modifier_list = token:army_core_defence_factor }
					add_to_array = { BI_modifier_list = token:breakthrough_factor }
					add_to_array = { BI_modifier_list = token:army_speed_factor }
					add_to_array = { BI_modifier_list = token:army_org_factor }
					add_to_array = { BI_modifier_list = token:army_morale_factor }
					add_to_array = { BI_modifier_list = token:land_reinforce_rate }
					add_to_array = { BI_modifier_list = token:dig_in_speed }
					add_to_array = { BI_modifier_list = token:dig_in_speed_factor }
					add_to_array = { BI_modifier_list = token:max_planning }
					add_to_array = { BI_modifier_list = token:max_planning_factor }
					add_to_array = { BI_modifier_list = token:planning_speed }
					add_to_array = { BI_modifier_list = token:supply_consumption_factor }
					add_to_array = { BI_modifier_list = token:out_of_supply_factor }
					add_to_array = { BI_modifier_list = token:no_supply_grace }
					add_to_array = { BI_modifier_list = token:attrition }
					add_to_array = { BI_modifier_list = token:winter_attrition }
					add_to_array = { BI_modifier_list = token:heat_attrition }
					add_to_array = { BI_modifier_list = token:training_time_army_factor }
					add_to_array = { BI_modifier_list = token:special_forces_cap }
					add_to_array = { BI_modifier_list = token:experience_gain_army_unit_factor }
					add_to_array = { BI_modifier_list = token:conscription }
					add_to_array = { BI_modifier_list = token:conscription_factor }
				}
				clear_array = BI_saved_number
			}
			BI_clear_army_modifier_list_button_click = {
				for_each_scope_loop = {
					array = ai_setting_target_countries
						
					for_each_loop = {
						array = BI_AI_modifier_list
						
						meta_effect = { 
							text = {
								clear_variable = BI_AI_mod/[v]
							}
							v = "[?v.GetTokenKey]"
						}
					}
					clear_array = BI_AI_modifier_list
				}
					
				clear_array = ai_diff_modifier_display
				var:ROOT.selected_target = {
					for_each_loop = {
						array = BI_AI_modifier_list
						
						add_to_array = { ROOT.ai_diff_modifier_display = v }
					}
				}
			}
			BI_clear_current_modifier_button_click = {
				set_temp_variable = { current = v }
				for_each_scope_loop = {
					array = ai_setting_target_countries
					
					meta_effect = { 
						text = {
							clear_variable = BI_AI_mod/[v]
						}
						v = "[?v.GetTokenKey]"
					}
					remove_from_array = { BI_AI_modifier_list = v }
				}
				
				clear_array = ai_diff_modifier_display
				var:ROOT.selected_target = {
					for_each_loop = {
						array = BI_AI_modifier_list
						
						add_to_array = { ROOT.ai_diff_modifier_display = v }
					}
				}
			}
			BI_add_to_current_modifier_button_click = {
				set_temp_variable = { current = v }
				
				if = {
					limit = {
						OR = {
							check_variable = { v = token:air_production_capacity }
							check_variable = { v = token:tank_production_capacity }
							check_variable = { v = token:engine_production_capacity }
							check_variable = { v = token:artillery_production_capacity }
							check_variable = { v = token:global_building_slots }
							check_variable = { v = token:naval_invasion_capacity }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						meta_effect = { 
							text = {
								add_to_variable = { BI_AI_mod/[X] = 1 }
							}
							X = "[?current.GetTokenKey]"
						}
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						meta_effect = { 
							text = {
								add_to_variable = { BI_AI_mod/[X] = 0.01 }
							}
							X = "[?current.GetTokenKey]"
						}
					}
				}
			}
			BI_add_to_current_modifier_button_shift_click = {
				set_temp_variable = { current = v }
				
				if = {
					limit = {
						OR = {
							check_variable = { v = token:air_production_capacity }
							check_variable = { v = token:tank_production_capacity }
							check_variable = { v = token:engine_production_capacity }
							check_variable = { v = token:artillery_production_capacity }
							check_variable = { v = token:global_building_slots }
							check_variable = { v = token:naval_invasion_capacity }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						meta_effect = { 
							text = {
								add_to_variable = { BI_AI_mod/[X] = 5 }
							}
							X = "[?current.GetTokenKey]"
						}
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						meta_effect = { 
							text = {
								add_to_variable = { BI_AI_mod/[X] = 0.05 }
							}
							X = "[?current.GetTokenKey]"
						}
					}
				}
			}
			BI_subtract_from_current_modifier_button_click = {
				set_temp_variable = { current = v }
				
				if = {
					limit = {
						OR = {
							check_variable = { v = token:air_production_capacity }
							check_variable = { v = token:tank_production_capacity }
							check_variable = { v = token:engine_production_capacity }
							check_variable = { v = token:artillery_production_capacity }
							check_variable = { v = token:global_building_slots }
							check_variable = { v = token:naval_invasion_capacity }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						meta_effect = { 
							text = {
								add_to_variable = { BI_AI_mod/[X] = -1 }
							}
							X = "[?current.GetTokenKey]"
						}
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						meta_effect = { 
							text = {
								add_to_variable = { BI_AI_mod/[X] = -0.01 }
							}
							X = "[?current.GetTokenKey]"
						}
					}
				}
			}
			BI_subtract_from_current_modifier_button_shift_click = {
				set_temp_variable = { current = v }
				
				if = {
					limit = {
						OR = {
							check_variable = { v = token:air_production_capacity }
							check_variable = { v = token:tank_production_capacity }
							check_variable = { v = token:engine_production_capacity }
							check_variable = { v = token:artillery_production_capacity }
							check_variable = { v = token:global_building_slots }
							check_variable = { v = token:naval_invasion_capacity }
						}
					}
					
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						meta_effect = { 
							text = {
								add_to_variable = { BI_AI_mod/[X] = -5 }
							}
							X = "[?current.GetTokenKey]"
						}
					}
				}
				else = {
					for_each_scope_loop = {
						array = ai_setting_target_countries
						
						meta_effect = { 
							text = {
								add_to_variable = { BI_AI_mod/[X] = -0.05 }
							}
							X = "[?current.GetTokenKey]"
						}
					}
				}
			}
			value_bg_click = {
				set_variable = { BI_selected_modifier_for_value = v }
			}
		}
		
		triggers = {
		}
	}
	BI_select_modifier_gui = { 
		context_type = player_context 
		
		window_name = "BI_select_modifier_gui_container"
		parent_scripted_gui = ai_difficulty_country
		
		visible = {
			has_country_flag = ui_show_select_ai_modifier
		}
		
		dynamic_lists = {
			BI_AI_select_modifier_list = { 
				array = BI_modifier_list
				change_scope = yes
				entry_container = "BI_AI_select_modifier_container"
			}
		} 
		
		effects = {
			BI_select_modifier_button_click = {
				for_each_scope_loop = {
					array = ai_setting_target_countries
					
					if = {
						limit = {
							NOT = { is_in_array = { BI_AI_modifier_list = v } }
						}
						add_to_array = { BI_AI_modifier_list = v }
					}
				}
				ROOT = {
					clear_array = ai_diff_modifier_display
					var:ROOT.selected_target = {
						for_each_loop = {
							array = BI_AI_modifier_list
							
							add_to_array = { ROOT.ai_diff_modifier_display = v }
						}
					}
				}
				clr_country_flag = ui_show_select_ai_modifier
			}
			BI_select_modifier_button_shift_click = {
				for_each_scope_loop = {
					array = ai_setting_target_countries
					
					if = {
						limit = {
							NOT = { is_in_array = { BI_AI_modifier_list = v } }
						}
						add_to_array = { BI_AI_modifier_list = v }
					}
				}
				ROOT = {
					clear_array = ai_diff_modifier_display
					var:ROOT.selected_target = {
						for_each_loop = {
							array = BI_AI_modifier_list
							
							add_to_array = { ROOT.ai_diff_modifier_display = v }
						}
					}
				}
			}
			
			land_click = { 
				clear_array = BI_modifier_list   
				add_to_array = { BI_modifier_list = token:army_attack_factor }
				add_to_array = { BI_modifier_list = token:army_defence_factor }
				add_to_array = { BI_modifier_list = token:army_core_attack_factor }
				add_to_array = { BI_modifier_list = token:army_core_defence_factor }
				add_to_array = { BI_modifier_list = token:breakthrough_factor }
				add_to_array = { BI_modifier_list = token:army_speed_factor }
				add_to_array = { BI_modifier_list = token:army_org_factor }
				add_to_array = { BI_modifier_list = token:army_morale_factor } 
				add_to_array = { BI_modifier_list = token:land_reinforce_rate }
				add_to_array = { BI_modifier_list = token:dig_in_speed }
				add_to_array = { BI_modifier_list = token:dig_in_speed_factor }
				add_to_array = { BI_modifier_list = token:max_planning }
				add_to_array = { BI_modifier_list = token:max_planning_factor }
				add_to_array = { BI_modifier_list = token:planning_speed } 
				add_to_array = { BI_modifier_list = token:supply_consumption_factor }
				add_to_array = { BI_modifier_list = token:out_of_supply_factor }
				add_to_array = { BI_modifier_list = token:no_supply_grace }
				add_to_array = { BI_modifier_list = token:attrition }
				add_to_array = { BI_modifier_list = token:winter_attrition }
				add_to_array = { BI_modifier_list = token:heat_attrition }
				add_to_array = { BI_modifier_list = token:training_time_army_factor }
				add_to_array = { BI_modifier_list = token:special_forces_cap }
				add_to_array = { BI_modifier_list = token:experience_gain_army_unit_factor }
				add_to_array = { BI_modifier_list = token:conscription }
				add_to_array = { BI_modifier_list = token:conscription_factor }
				
			}
			air_click = {
				clear_array = BI_modifier_list 
				add_to_array = { BI_modifier_list = token:air_accidents_factor }
				add_to_array = { BI_modifier_list = token:air_ace_generation_chance_factor }
				add_to_array = { BI_modifier_list = token:air_agility_factor }
				add_to_array = { BI_modifier_list = token:air_attack_factor }
				add_to_array = { BI_modifier_list = token:air_defence_factor }
				add_to_array = { BI_modifier_list = token:air_bombing_targetting }
				add_to_array = { BI_modifier_list = token:air_cas_efficiency }
				add_to_array = { BI_modifier_list = token:air_cas_present_factor }
				add_to_array = { BI_modifier_list = token:air_detection }
				add_to_array = { BI_modifier_list = token:air_escort_efficiency }
				add_to_array = { BI_modifier_list = token:air_intercept_efficiency }
				add_to_array = { BI_modifier_list = token:air_mission_efficiency }
				add_to_array = { BI_modifier_list = token:air_nav_efficiency }
				add_to_array = { BI_modifier_list = token:air_night_penalty }
				add_to_array = { BI_modifier_list = token:air_superiority_efficiency }
				add_to_array = { BI_modifier_list = token:air_superiority_bonus_in_combat }
				add_to_array = { BI_modifier_list = token:air_mission_xp_gain_factor } 
				
			}
			navy_click = {
				clear_array = BI_modifier_list
				add_to_array = { BI_modifier_list = token:naval_invasion_capacity }
				add_to_array = { BI_modifier_list = token:naval_invasion_penalty }
				add_to_array = { BI_modifier_list = token:naval_invasion_prep_speed }
				add_to_array = { BI_modifier_list = token:convoy_escort_efficiency }
				add_to_array = { BI_modifier_list = token:convoy_raiding_efficiency_factor }
				add_to_array = { BI_modifier_list = token:navy_capital_ship_attack_factor }
				add_to_array = { BI_modifier_list = token:navy_screen_attack_factor }
				add_to_array = { BI_modifier_list = token:navy_org_factor }
				add_to_array = { BI_modifier_list = token:positioning }
				add_to_array = { BI_modifier_list = token:sortie_efficiency }
				add_to_array = { BI_modifier_list = token:screening_efficiency }
				add_to_array = { BI_modifier_list = token:experience_gain_navy_unit_factor }
				add_to_array = { BI_modifier_list = token:refit_speed }
				
			} 
			industry_click = {
				clear_array = BI_modifier_list   
				add_to_array = { BI_modifier_list = token:production_factory_max_efficiency_factor }
				add_to_array = { BI_modifier_list = token:line_change_production_efficiency_factor }
				add_to_array = { BI_modifier_list = token:production_factory_efficiency_gain_factor }
				add_to_array = { BI_modifier_list = token:production_factory_start_efficiency_factor }
				add_to_array = { BI_modifier_list = token:industrial_capacity_factory }
				add_to_array = { BI_modifier_list = token:industrial_capacity_dockyard }
				add_to_array = { BI_modifier_list = token:industry_air_damage_factor }
				add_to_array = { BI_modifier_list = token:industry_free_repair_factor }
				add_to_array = { BI_modifier_list = token:production_speed_buildings_factor }
				add_to_array = { BI_modifier_list = token:consumer_goods_expected_value }
				add_to_array = { BI_modifier_list = token:resources_factor }
				add_to_array = { BI_modifier_list = token:research_speed_factor }
				add_to_array = { BI_modifier_list = token:air_production_capacity }
				add_to_array = { BI_modifier_list = token:tank_production_capacity }
				add_to_array = { BI_modifier_list = token:engine_production_capacity }
				add_to_array = { BI_modifier_list = token:artillery_production_capacity }
				add_to_array = { BI_modifier_list = token:global_building_slots }
				add_to_array = { BI_modifier_list = token:global_building_slots_factor }
				add_to_array = { BI_modifier_list = token:civilian_fuel_use_factor }
				
			}
			
			special_click = {
				clear_array = BI_modifier_list 
				add_to_array = { BI_modifier_list = token:ai_focus_aggressive_factor }
				add_to_array = { BI_modifier_list = token:ai_focus_defense_factor }
				add_to_array = { BI_modifier_list = token:ai_desired_units }
				add_to_array = { BI_modifier_list = token:ai_desired_planes }
			}
					
		}
		
		triggers = {
		}
	}
	BI_type_number_gui = { 
		context_type = player_context 
		 
		window_name = "BI_type_number_gui_container"
		parent_scripted_gui = ai_difficulty_country
		
		visible = {
			has_variable = BI_selected_modifier_for_value
		}
		effects = {
			enter_button_click = { 
				meta_effect = { 
					text = {
						set_temp_variable = { temp = [0][1][2][3][4] }
						
					} 
					0 = "[BI_GetTypedNum0]"
					1 = "[BI_GetTypedNum1]"
					2 = "[BI_GetTypedNum2]"
					3 = "[BI_GetTypedNum3]"
					4 = "[BI_GetTypedNum4]"
				}
				
				for_each_scope_loop = {
					array = ai_setting_target_countries
					
			 		meta_effect = { 
						text = {
							set_variable = { BI_AI_mod/[X] = temp }
						}
						X = "[?Root.BI_selected_modifier_for_value.GetTokenKey]"
					}
				}
				#else = {
				#	meta_effect = { 
				#		text = {	
				#			set_variable = { global.BI_AI_mod/[v] = temp }
				#		}
				#		v = "[?Root.BI_selected_modifier_for_value.GetTokenKey]"
				#	}
			 	#}
				clear_variable = BI_selected_modifier_for_value
				clear_array = BI_saved_number
				log = "[?temp] TEMP" 
			}
			point_click = {
				add_to_array = { BI_saved_number = -1 }
			}
			minus_click = { 
				add_to_array = { BI_saved_number = -2 }
			}
			zero_click = {
				add_to_array = { BI_saved_number = 0 }
			}
			one_click = {
				add_to_array = { BI_saved_number = 1 }
			}
			two_click = {
				add_to_array = { BI_saved_number = 2 }
			}
			three_click = {
				add_to_array = { BI_saved_number = 3 }
			}
			four_click = {
				add_to_array = { BI_saved_number = 4 }
			}
			five_click = {
				add_to_array = { BI_saved_number = 5 }
			}
			six_click = {
				add_to_array = { BI_saved_number = 6 }
			}
			seven_click = {
				add_to_array = { BI_saved_number = 7 }
			}
			eight_click = {
				add_to_array = { BI_saved_number = 8 }
			}
			nine_click = {
				add_to_array = { BI_saved_number = 9 }
			}
		}
		 
	}  
}
