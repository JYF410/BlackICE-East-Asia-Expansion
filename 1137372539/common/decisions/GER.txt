@MAX_DECISION_CP_COST = 120
#Category only allowed for GER
GER_mefo_bills_category = {

	GER_mefo_bills_mission = {

		allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			NOT = { democratic_govt = yes }
			GER_can_delay_mefo_payment = yes
			has_political_power > 0
			hidden_trigger = { always = no }
		}

		#cost = GER_mefo_bill_counter?10

		days_mission_timeout = 180
		is_good = yes
		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { GER_has_mefo_bills = yes }
					has_idea = GER_mefo_bills_ended
				}
			}
		}

		
		timeout_effect = {
			if = {
				limit = {
					has_country_flag = ger_has_cancelled_mefo
				}
				GER_remove_mefo_bills = yes
				#1
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
					}
					add_political_power = -20
					add_timed_idea = { idea = GER_mefo_bills_ended days = 120 }
				}
				#2
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 20 compare = equals }
					}
					add_political_power = -40
					add_timed_idea = { idea = GER_mefo_bills_ended days = 130 }
				}
				#3
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 30 compare = equals }
					}
					add_political_power = -60
					add_timed_idea = { idea = GER_mefo_bills_ended days = 140 }
				}
				#4
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 40 compare = equals }
					}
					add_political_power = -80
					add_timed_idea = { idea = GER_mefo_bills_ended days = 150 }
				}
				#5
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 50 compare = equals }
					}
					add_political_power = -100
					add_timed_idea = { idea = GER_mefo_bills_ended days = 160 }
				}
				#6
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 60 compare = equals }
					}
					add_political_power = -120
					add_timed_idea = { idea = GER_mefo_bills_ended days = 170 }
				}
				#7
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 70 compare = equals }
					}
					add_political_power = -140
					add_timed_idea = { idea = GER_mefo_bills_ended days = 180 }
				}
				#8
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 80 compare = equals }
					}
					add_political_power = -160
					add_timed_idea = { idea = GER_mefo_bills_ended days = 200 }
				}
				#9
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 90 compare = equals }
					}
					add_political_power = -180
					add_timed_idea = { idea = GER_mefo_bills_ended days = 220 }
				}
				#10
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 100 compare = equals }
					}
					add_political_power = -200
					add_timed_idea = { idea = GER_mefo_bills_ended days = 240 }
				}
				#11
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 110 compare = equals }
					}
					add_political_power = -220
					add_timed_idea = { idea = GER_mefo_bills_ended days = 260 }
				}
				#12
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 120 compare = equals }
					}
					add_political_power = -240
					add_timed_idea = { idea = GER_mefo_bills_ended days = 280 }
				}
				#13
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 130 compare = equals }
					}
					add_political_power = -260
					add_timed_idea = { idea = GER_mefo_bills_ended days = 300 }
				}
				#14
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 140 compare = equals }
					}
					add_political_power = -280
					add_timed_idea = { idea = GER_mefo_bills_ended days = 320 }
				}
				#15
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 150 compare = equals }
					}
					add_political_power = -300
					add_timed_idea = { idea = GER_mefo_bills_ended days = 340 }
				}
				#16
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 160 compare = equals }
					}
					add_political_power = -320
					add_timed_idea = { idea = GER_mefo_bills_ended days = 360 }
				}
				#17
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 170 compare = equals }
					}
					add_political_power = -340
					add_timed_idea = { idea = GER_mefo_bills_ended days = 380 }
				}
				#18
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 180 compare = equals }
					}
					add_political_power = -360
					add_timed_idea = { idea = GER_mefo_bills_ended days = 400 }
				}
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 180 compare = greater_than }
					}
					add_political_power = -380
					add_timed_idea = { idea = GER_mefo_bills_ended days = 420 }
				}
			}
			else = {
				custom_effect_tooltip = GER_mefo_bills_mission_tt
				custom_effect_tooltip = GER_mefo_bills_effect_in_days
				hidden_effect = {
					set_variable = { GER_extend_mefo_bills_days = days_mission_timeout@GER_mefo_bills_mission }
					set_country_flag = paid_for_mefo
				}
				GER_mefo_bills_level_up = yes
				if = {
					limit = {
						check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
					}
					hidden_effect = { set_variable = { var = GER_mefo_bill_counter value = 10 } }
				}
				add_to_variable = { var = GER_mefo_bill_counter value = 10 }

				hidden_effect = {
					activate_mission = GER_mefo_bills_mission
				}
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	
	GER_cancel_mefos = {

		icon = ger_mefo_bills

		available = {
			hidden_trigger = { 
				NOT = { has_country_flag = ger_has_cancelled_mefo } 
				NOT = {
					OR = {
						NOT = { GER_has_mefo_bills = yes }
						has_idea = GER_mefo_bills_ended
					}
				}
			}
		}

		cost = 0

		fire_only_once = no

		visible = {
			hidden_trigger = { 
				NOT = { has_country_flag = ger_has_cancelled_mefo } 
				NOT = {
					OR = {
						NOT = { GER_has_mefo_bills = yes }
						has_idea = GER_mefo_bills_ended
					}
				}
			}
		}

		cancel_if_not_visible = yes

		remove_effect = {
			set_country_flag = ger_has_cancelled_mefo
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	GER_renew_mefos = {

		icon = ger_mefo_bills

		available = {
			hidden_trigger = { 
				has_country_flag = ger_has_cancelled_mefo
				NOT = {
					OR = {
						NOT = { GER_has_mefo_bills = yes }
						has_idea = GER_mefo_bills_ended
					}
				}
			}
		}

		cost = 0

		fire_only_once = no

		visible = {
			hidden_trigger = { 
				has_country_flag = ger_has_cancelled_mefo
				NOT = {
					OR = {
						NOT = { GER_has_mefo_bills = yes }
						has_idea = GER_mefo_bills_ended
					}
				}
			}
		}

		cancel_if_not_visible = yes

		remove_effect = {
			clr_country_flag = ger_has_cancelled_mefo
		}

		ai_will_do = {
			factor = 200
		}
	}
}

GER_goering_four_year_plan_category = {

	GER_goering_four_year_plan = {

		allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			NOT = { has_idea = GER_hermann_goering_political_advisor }
		}

		#cost = GER_goering_four_year_plan?10

		days_mission_timeout = 2
		is_good = yes
		fire_only_once = yes

		days_remove = GER_extend_mefo_bills_days?0
		
		remove_effect = {
			
		}

		timeout_effect = {
			if = {
				limit = {
					has_idea = Goering_four_year_plan_begin
				}
				swap_ideas = {
					remove_idea = Goering_four_year_plan_begin
					add_idea = Goering_four_year_plan_37
				}
				hidden_effect = { activate_mission = GER_goering_four_year_plan }
			}
			else_if = {
				limit = {
					has_idea = Goering_four_year_plan_37
				}
				swap_ideas = {
					remove_idea = Goering_four_year_plan_37
					add_idea = Goering_four_year_plan_38
				}
				hidden_effect = { activate_mission = GER_goering_four_year_plan }
			}
			else_if = {
				limit = {
					has_idea = Goering_four_year_plan_38
				}
				swap_ideas = {
					remove_idea = Goering_four_year_plan_38
					add_idea = Goering_four_year_plan_39
				}
				hidden_effect = { activate_mission = GER_goering_four_year_plan }
			}
			else_if = {
				limit = {
					has_idea = Goering_four_year_plan_39
				}
				swap_ideas = {
					remove_idea = Goering_four_year_plan_39
					add_idea = Goering_four_year_plan_40
				}
				hidden_effect = { activate_mission = GER_goering_four_year_plan }
			}
			else_if = {
				limit = {
					has_idea = Goering_four_year_plan_40
				}
				remove_ideas = Goering_four_year_plan_40
			}
		}

		timeout_effect = {
		
		}
	}
	
}

operations = {
	GER_case_anton = {

		icon = generic_operation
		
		allowed = { tag = GER }

		available = {
			VIC = {
				NOT = { has_war_with = GER }
			}
			if = {
				limit = {
					is_ai = no
				}
				custom_trigger_tooltip = {
					tooltip = vichy_border_tt		
					num_battalions_in_states = {
						count > 24
						states = { 19 23 24 27 17 }
					}
				}
			}
		}

		cost = 50
		fire_only_once = yes

		visible = { 
			has_country_flag = case_anton
		}
		ai_will_do = {
			factor = 1000

			modifier = {
				factor = 0
				VIC = { is_ai = no }
			}
		}
		complete_effect = {
			custom_effect_tooltip = GER_case_anton_tt
			hidden_effect = {
				country_event = { id = vichy.34 hours = 6 }
				country_event =  { id = vichy.11 days = 1 }
			}
		}
	}
	
	GER_take_moscow = {

		icon = generic_civil_support

		cosmetic_tag = SOV
		cosmetic_ideology = communism
		allowed = {
			original_tag = GER
		}

		#Success trigger
		available = {
			845 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = no

		activation = {
			has_war = yes
			845 = {
				is_controlled_by = SOV
				any_neighbor_state = {
					GER = {
						divisions_in_state = {
							size > 0
							state = PREV
						}
					}
				}
			}
		}

		#Fail
		timeout_effect = {
			add_war_support = -0.1
			
			SOV = { 
				effect_tooltip = { add_war_support = 0.1 }
				#set_country_flag = SOV_rschew_wjasma_operation
				#unlock_decision_tooltip = SOV_rschew_wjasma_operation
			}
		}
		#Success
		complete_effect = {
			add_war_support = 0.1
			
			SOV = { 
				effect_tooltip = { add_war_support = -0.1 }
			}
		}
	}

	GER_take_leningrad = {

		icon = generic_civil_support

		cosmetic_tag = SOV
		cosmetic_ideology = communism
		allowed = {
			original_tag = GER
		}

		#Success trigger
		available = {
			195 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = no

		activation = {
			has_war = yes
			195 = {
				is_controlled_by = SOV
				any_neighbor_state = {
					GER = {
						divisions_in_state = {
							size > 0
							state = PREV
						}
					}
				}
			}
		}

		#Fail
		timeout_effect = {
			add_war_support = -0.1
			
			SOV = { 
				effect_tooltip = { add_war_support = 0.1 }
				#set_country_flag = SOV_operation_leningrad_nowgorod
				#unlock_decision_tooltip = SOV_operation_leningrad_nowgorod
			}
		}
		#Success
		complete_effect = {
			add_war_support = 0.1
			
			SOV = { 
				effect_tooltip = { add_war_support = -0.1 }
			}
		}
	}

	GER_take_stalingrad = {

		icon = generic_civil_support

		cosmetic_tag = SOV
		cosmetic_ideology = communism
		allowed = {
			original_tag = GER
		}

		#Success trigger
		available = {
			217 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = no

		activation = {
			has_war = yes
			217 = {
				is_controlled_by = SOV
				any_neighbor_state = {
					GER = {
						divisions_in_state = {
							size > 0
							state = PREV
						}
					}
				}
			}
		}

		#Fail
		timeout_effect = {
			add_war_support = -0.1
			
			SOV = { 
				effect_tooltip = { add_war_support = 0.1 }
				#set_country_flag = SOV_operation_uranus
				#unlock_decision_tooltip = SOV_operation_uranus
			}
		}
		#Success
		complete_effect = {
			add_war_support = 0.1
			
			SOV = {
				effect_tooltip = { add_war_support = -0.1 }
			}
		}
	}

	GER_barbarossa_mission = {

		icon = generic_operation

		cosmetic_tag = SOV
		cosmetic_ideology = communism
		allowed = {
			always = no
			#added through on_action
		}

		available = {
			845 = { is_controlled_by_ROOT_or_ally = yes }
			195 = { is_controlled_by_ROOT_or_ally = yes }
			877 = { is_controlled_by_ROOT_or_ally = yes }
			217 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 180
		fire_only_once = yes

		activation = {

		}

		is_good = no

		complete_effect = {
			add_war_support = 0.1
			#custom_effect_tooltip = barbarossa_mission_tt
			
			hidden_effect = {
				SOV = {
					every_owned_state = {
						remove_claim_by = GER
					}
				}
			}
		}

		timeout_effect = {
			
			hidden_effect = {
				SOV = {
					every_owned_state = {
						remove_claim_by = GER
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	GER_operation_25 = {

		icon = generic_operation
		
		allowed = {
			original_tag = GER
		}
		
		available = {
			date > 1941.3.1
			is_in_faction_with = ROM
			is_in_faction_with = ITA
			is_in_faction_with = HUN
			
			YUG = {
				OR = {
					has_country_flag = coup_d_etat 
					NOT = { is_in_faction_with = GER }
				}
				exists = yes
				is_puppet = no
				controls_state = 903
				has_capitulated = no
			}
		}
		
		modifier = {
			#max_planning = 0.3 #this goes away after the decision ends anyway lol
			planning_speed = 0.6
		}
		
		cosmetic_tag = YUG
		cosmetic_ideology = monarchism
		
		days_remove = 16

		cost = 0
		fire_only_once = yes
		war_with_on_remove = YUG

		visible = {
			has_government = fascism
			is_in_faction_with = ROM
			is_in_faction_with = ITA
			is_in_faction_with = HUN
			NOT = { is_in_faction_with = YUG }
			date > 1941.2.1
			YUG = {
				NOT = { 
					is_in_faction_with = GER 
					has_war_with = GER
				}
				exists = yes
				controls_state = 903
				has_capitulated = no
			}
		}
		ai_will_do = {
			factor = 150
			modifier = {
				factor = 0 
				has_war_with = SOV
				SOV = { surrender_progress < 0.7 }
			}
			modifier = {
				factor = 0 
				has_war_with = FRA
				FRA = { has_capitulated = no }
			}
			modifier = {
				factor = 0 
				has_war_with = POL
				POL = { has_capitulated = no }
			}
			modifier = {
				factor = 0 
				YUG = {
					NOT = { has_country_flag = coup_d_etat }
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				set_country_flag = { flag = ai_prepare_YUG value = 1 days = 7 }
				ITA = { set_country_flag = { flag = ai_prepare_YUG value = 1 days = 7 } }
				ROM = { set_country_flag = { flag = ai_prepare_YUG value = 1 days = 7 } }
				HUN = { set_country_flag = { flag = ai_prepare_YUG value = 1 days = 7 } }
				if = {
					limit = {
						is_in_faction_with = BUL
					}
					BUL = { set_country_flag = { flag = ai_prepare_YUG value = 1 days = 7 } }
				}
			}
		}
		remove_effect = {
			declare_war_on = {
				target = YUG
				type = annex_everything
			}
			if = {
				limit = {
					ITA = { 
						has_war_together_with = GER
					}
				}
				ITA = { 
					add_to_war = { 
						targeted_alliance = GER 
						enemy = YUG 
						hostility_reason = asked_to_join
					} 
				}
			}
			if = {
				limit = {
					HUN = { 
						has_war_together_with = GER
					}
				}
				HUN = { 
					add_to_war = { 
						targeted_alliance = GER 
						enemy = YUG 
						hostility_reason = asked_to_join
					} 
				}
			}
			if = {
				limit = {
					ROM = { 
						has_war_together_with = GER
					}
				}
				ROM = { 
					add_to_war = { 
						targeted_alliance = GER 
						enemy = YUG 
						hostility_reason = asked_to_join
					} 
				}
			}
			if = {
				limit = {
					BUL = { 
						is_in_faction_with = GER 
						has_war_together_with = GER
					}
				}
				BUL = { 
					add_to_war = { 
						targeted_alliance = GER 
						enemy = YUG 
						hostility_reason = asked_to_join
					} 
				}
			}
			
		}
	}
	
	GER_croatian_puppet = {
		allowed = { always = no } #activated via event

		icon = ger_reichskommissariats

		available = {
			has_war_with = YUG
			45 = { is_controlled_by_ROOT_or_ally = yes }
			914 = { is_controlled_by_ROOT_or_ally = yes }
			900 = { is_controlled_by_ROOT_or_ally = yes }
			904 = { is_controlled_by_ROOT_or_ally = yes }
			913 = { is_controlled_by_ROOT_or_ally = yes }
			916 = { is_controlled_by_ROOT_or_ally = yes }
			105 = { is_controlled_by_ROOT_or_ally = yes }
			106 = { is_controlled_by_ROOT_or_ally = yes }
			905 = { is_controlled_by_ROOT_or_ally = yes }
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 109
			}
		}
		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				YUG = { has_capitulated = yes }
			}
		}
		fire_only_once = yes
		visible = {
			has_war_with = YUG
			has_government = fascism
			is_puppet = no
		}

		complete_effect = {
			hidden_effect = {
				CRO = {
					transfer_state = 109
					transfer_state = 103
					transfer_state = 902
					transfer_state = 104
					transfer_state = 908
					transfer_state = 915
					transfer_state = 901
					transfer_state = 917
					add_state_core = 109
					add_state_core = 103
					add_state_core = 902
					add_state_core = 104
					add_state_core = 908
					add_state_core = 915
					add_state_core = 901
					add_state_core = 917
				}
			}
			#release = CRO
				
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = CRO
					autonomous_state = autonomy_reichsprotectorate
					end_wars = no
				}
			}
			else = {
				puppet = CRO
			}		
			CRO = { 
				hidden_effect = { load_oob = CRO_1936 }
				add_ideas = GER_reichskommissariat
				inherit_technology = YUG	
				set_temp_variable = { slots = YUG.amount_research_slots }
				if = {
					limit = { check_variable = { slots > 2 } }
					subtract_from_temp_variable = { slots = 2 }
					multiply_temp_variable = { slots = -1 }
					meta_effect = {
						text = {
							CRO = { add_research_slot = [NUM] }
						}
						NUM = "[?slots]"
					}
				}				
			}
			YUG = {
				swap_ideas = {
					add_idea = YUG_resistance_cro
					remove_idea = YUG_resistance
				}
			}
		}
	}
}
foreign_politics = {

	## Push the Luna Rally
	GER_arg_rally = {
		allowed = {
			original_tag = GER
			has_dlc = "Waking the Tiger" 
		}

		cosmetic_tag = ARG
		cosmetic_ideology = neutrality
		available = {
			ARG = { has_country_flag = luna_nazi }			
		}

		cost = 35

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			ARG = { has_country_flag = luna_nazi }	
			NOT =  { has_war_with = ARG }
		}
		days_remove = 40
		
		modifier = {
			civilian_factory_use = 3
		}
		
		complete_effect = {
			ARG = {
				set_country_flag = luna_funded
				add_timed_idea = {
					idea = Arab_fascist_drift
					days = 90
				}
			}
		}
	}
	
	## Trade Ties with Sweden
	GER_swed_trade = {
		allowed = {
			original_tag = GER
		}

		cosmetic_tag = SWE
		cosmetic_ideology = socialism
		available = {
			SWE = { has_completed_focus = SWE_liberty_ethos }			
		}

		cost = 25

		fire_only_once = yes

		ai_will_do = {
			factor = 10
		}

		visible = {
			SWE = { has_completed_focus = SWE_hansson_3 }
			NOT =  { has_war_with = SWE }
		}

		complete_effect = {
			reverse_add_opinion_modifier = {
				target = SWE
				modifier = trade_partner
			}
		}
	}
	GER_help_per = {
		allowed = {
			original_tag = GER
		}

		cosmetic_tag = PER
		cosmetic_ideology = monarchism
		available = {
			PER = {
				not = { 
					or = {
						is_in_faction_with = ENG
						is_in_faction_with = SOV
					}
				}
			}
		}

		cost = 25

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			PER = { 
				exists = yes
				not = { 
					or = {
						is_in_faction_with = ENG
						is_in_faction_with = SOV
					}
				}
				or = {
					has_government = monarchism
					has_government = fascism
				}
				has_country_flag = industry_aid_removed
			}
			has_dlc = "Waking the Tiger" 
		}
		days_remove = 90
		modifier = {
			civilian_factory_use = 1
		}
		complete_effect = {
			add_tech_bonus = {
				name = industry_bonus
				bonus = 0.15
				ahead_reduction = 0.5
				uses = 1
				category = industry
			}
			reverse_add_opinion_modifier = {
				target = PER
				modifier = aided_industry
			}
			PER = {
				swap_ideas = {
					remove_idea = PER_german_investment
					add_idea = PER_german_investment2
				}			
				hidden_effect = {
					if = {
						limit = {
							PER = { is_ai = yes }
						}
						swap_ideas = {
							remove_idea = PER_neutral
							add_idea = neutrality_idea
						}
					}
				}
			}
		}
	}
}
#Category only allowed for GER
war_measures = {
	GER_War_games_Army = {
		name = War_games_Army
		icon = ger_military_buildup
		allowed = { tag = GER }
		cancel_if_not_visible = yes
		visible = {
			has_idea = GER_sitzkrieg
		}
		available = {
			set_temp_variable = { cost = 25 }
			set_temp_variable = { mod = modifier@war_games_cost }
			add_to_temp_variable = { mod = 1 }
			multiply_temp_variable = { cost = mod }
			set_temp_variable = { limit = @MAX_DECISION_CP_COST }
			clamp_temp_variable = { var = cost max = limit }
			hidden_trigger = { command_power > cost }
		}
		fixed_random_seed = no
		fire_only_once = no
		#cost = 25
		
		days_remove = 25
		days_re_enable = 5
		
		modifier = {
			experience_gain_army = 0.14
		}

		complete_effect = {
			hidden_effect = {
				set_temp_variable = { cost = 25 }
				set_temp_variable = { mod = modifier@war_games_cost }
				add_to_temp_variable = { mod = 1 }
				multiply_temp_variable = { cost = mod }
				set_temp_variable = { limit = @MAX_DECISION_CP_COST }
				clamp_temp_variable = { var = cost max = limit }
				multiply_temp_variable = { cost = -1 }
				add_command_power = cost
				
				every_army_leader = {
					set_unit_leader_flag = { 
						flag = has_army_games
						value = 1
						days = 35
					}
				}
			}
		}
		
		remove_effect = { 
			army_experience = 5
			
			if = { limit = { has_idea = officer_train_none }
				set_temp_variable = { xp_mult = 0.8 }
			}
			else_if = { limit = { has_idea = officer_train_high }
				set_temp_variable = { xp_mult = 1.1 }
			}
			else_if = { limit = { has_idea = officer_train_elite }
				set_temp_variable = { xp_mult = 1.2 }
			}
					
			if = {
				limit = {
					has_country_flag = army_war_games_leader
				}
				random_army_leader = {
					limit = { has_trait = army_war_games }
					
					set_temp_variable = { xp_gained = 150 }
					
					set_temp_variable = { per_level = 50 }
					multiply_temp_variable = { per_level = skill_level }
					clamp_temp_variable = { var = per_level max = 150 }
					add_to_temp_variable = { xp_gained = per_level }
					
					set_temp_variable = { xp_random = global.daily_random }
					multiply_temp_variable = { xp_random = 100 }
					add_to_temp_variable = { xp_gained = xp_random }
					multiply_temp_variable = { xp_gained = xp_mult?1 }
					
					meta_effect = {
						text = {
							gain_xp = [X]
						}
						X = "[?xp_gained]"
					}
					remove_unit_leader_trait = army_war_games
					ROOT = { clr_country_flag = army_war_games_leader }
				}
			}
			else = {
				random_army_leader = {
					set_temp_variable = { xp_gained = 150 }
					
					set_temp_variable = { per_level = 50 }
					multiply_temp_variable = { per_level = skill_level }
					clamp_temp_variable = { var = per_level max = 150 }
					add_to_temp_variable = { xp_gained = per_level }
					
					set_temp_variable = { xp_random = global.daily_random }
					multiply_temp_variable = { xp_random = 100 }
					add_to_temp_variable = { xp_gained = xp_random }
					multiply_temp_variable = { xp_gained = xp_mult?1 }
					
					meta_effect = {
						text = {
							gain_xp = [X]
						}
						X = "[?xp_gained]"
					}
				}
			}
			if = { 
				limit = {
					check_variable = { training_done > 4 }
					
				}
				country_event = germany.32
			}
			else = {
				set_temp_variable = { training_needed = 5 }
				subtract_from_temp_variable = { training_needed = training_done }
				custom_effect_tooltip = training_done_tt
				
				event_option_tooltip = germany.32.a
				custom_effect_tooltip = Line_break_keep_formating
				event_option_tooltip = germany.32.b
				custom_effect_tooltip = Line_break_keep_formating
				event_option_tooltip = germany.32.c
			}
			add_to_variable = { training_done = 1 }
		}
		
		custom_cost_trigger = {
			set_temp_variable = { cost = 25 }
			set_temp_variable = { mod = modifier@war_games_cost }
			add_to_temp_variable = { mod = 1 }
			multiply_temp_variable = { cost = mod }
			set_temp_variable = { limit = @MAX_DECISION_CP_COST }
			clamp_temp_variable = { var = cost max = limit }
			command_power > cost
		}
		custom_cost_text = cp_atleast
	}	
}
GER_military_buildup = {
	GER_Aufstellungswelle_1 = {
		
		icon = ger_military_buildup
		
		available = {
			date > 1936.2.1
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_aw_1
			hidden_effect = { update_all_subunits = yes }
			set_country_flag = welle_one
		}
	}
	
	GER_motorise_29_infdiv = {
		
		icon = ger_29_infdiv
		
		available = {
			has_manpower > 15050
			date > 1937.10.11
			has_army_size = {
				size > 49
			}
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 60
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		visible = {
			has_country_flag = GERinfdiv_II
			NOT = { has_country_flag = mot_29 }
			date > 1937.7.1
		}

		complete_effect = {
			add_war_support = 0.02
			custom_effect_tooltip = GER_mot_29_dec_tt
			division_template = {
				name = "Infanterie-Division(mot.) event"		
				division_names_group = GER_MOT_01
				priority = 2
				template_counter = 174
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }

					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot = { x = 3 y = 2 }
					artillery_brigade_mot_med = { x = 3 y = 3 }
					anti_tank_brigade_mot =  { x = 3 y = 4 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_mot = { x = 0 y = 1 }
					engineer_mot = { x = 0 y = 2 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			hidden_effect = { update_all_subunits = yes }
			country_event = { id = germany.253 hours = 6 }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_motorise_2_infdiv = {
		
		icon = ger_2_infdiv
		
		available = {
			date > 1937.10.13
			has_manpower > 15050
		}
		
		visible = {
			has_country_flag = mot_29
			date > 1937.7.13
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 894
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			add_war_support = 0.01
			custom_effect_tooltip = GER_mot_2_dec_tt
			hidden_effect = { update_all_subunits = yes }
			country_event = { id = germany.254 hours = 6 }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_motorise_13_infdiv = {
		
		icon = ger_13_pzdiv
		
		available = {
			date > 1937.10.16
			has_manpower > 15050
		}
		
		visible = {
			has_country_flag = mot_29
			date > 1937.7.16
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 64
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_mot_13_dec_tt
			add_war_support = 0.01
			hidden_effect = { update_all_subunits = yes }
			country_event = { id = germany.255 hours = 6 }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_motorise_20_infdiv = {
		
		icon = ger_20_infdiv
		
		available = {
			date > 1937.10.19
			has_manpower > 15050
		}
		
		visible = {
			has_country_flag = mot_29
			date > 1937.7.19
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 58
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_mot_20_dec_tt
			add_war_support = 0.01
			hidden_effect = { update_all_subunits = yes }
			country_event = { id = germany.256 hours = 6 }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_1_L_div = {
		icon = ger_1_Ldiv
		
		available = {
			date > 1938.11.10
			has_completed_focus = GER_demand_sudetenland
			51 = { is_owned_by_ROOT_or_subject = yes }
			has_manpower > 9650
			
		}
		
		visible = {
			has_completed_focus = GER_anschluss
			NOT = { has_country_flag = GER_1_LDIV }
			date > 1938.8.10
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 51
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_1_L_DIV_dec_tt
			division_template = {
				name = "L-Div 1"
				division_names_group = GER_LTARM_01
				priority = 2
				template_counter = 238
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					trm_light_armor = { x = 1 y = 0 }
					trm_light_armor = { x = 1 y = 1 }

					motorcycle_infantry = { x = 2 y = 0 }
					
					trm_light_armor = { x = 3 y = 0 } # Panzerabteilung 65
					
					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					anti_tank_brigade_mot =  { x = 4 y = 2 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					engineer_mot = { x = 0 y = 1 }
					recon_mot = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			
			country_event = { id = germany.228 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_1_L_div_pz35 = {
		icon = ger_1_Ldiv
		
		available = {
			has_completed_focus = GER_end_of_czechoslovakia
			51 = { is_owned_by_ROOT_or_subject = yes }
			has_country_flag = czech_equipment
			has_tech = tech_trm_cavalry_tank_chassis_ger_pz35_1
		}
		
		visible = {
			NOT = { has_country_flag = GER_1_LDIV_Pz35 }
			has_country_flag = GER_1_LDIV
			has_completed_focus = GER_demand_sudetenland
			date > 1939.1.1
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 51
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_1_L_DIV_dec_tt
			division_template = {
				name = "L-Div 1 Pz35t"
				division_names_group = GER_LTARM_01
				priority = 2
				template_counter = 238
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					trm_cavalry_armor = { x = 1 y = 0 } 	# Czech Pz35(t) tanks
					trm_light_armor = { x = 1 y = 1 }
					trm_light_armor = { x = 1 y = 2 }

					motorcycle_infantry = { x = 2 y = 0 }
					
					trm_cavalry_armor = { x = 3 y = 0 } # Panzerabteilung 65
					
					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					anti_tank_brigade_mot =  { x = 4 y = 2 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					engineer_mot = { x = 0 y = 1 }
					recon_mot = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			
			country_event = { id = germany.234 hours = 6 }
			hidden_effect = {
				update_all_subunits = yes
			}
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_2_L_div = {
		icon = ger_2_Ldiv
		
		available = {
			date > 1938.11.10
			has_completed_focus = GER_demand_sudetenland
			60 = { is_owned_by_ROOT_or_subject = yes }
			has_manpower > 11100
		}
		
		visible = {
			has_completed_focus = GER_anschluss
			not = { has_country_flag = GER_2_LDIV }
			date > 1938.8.10
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 60
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_2_L_DIV_dec_tt
			division_template = {
				name = "L-Div 2"
				division_names_group = GER_LTARM_01
				priority = 2
				template_counter = 238  #7 Pz-Div
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					
					trm_light_armor = { x = 2 y = 0 } 	#Panzerabteilung 66
					
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					anti_tank_brigade_mot =  { x = 3 y = 2 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					engineer_mot = { x = 0 y = 1 }
					recon_mot = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			
			country_event = { id = germany.229 hours = 8 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_2_L_div_pz38 = {
		icon = ger_2_Ldiv
		
		available = {
			has_completed_focus = GER_end_of_czechoslovakia
			51 = { is_owned_by_ROOT_or_subject = yes }
			has_country_flag = czech_equipment
			has_tech = tech_trm_cavalry_tank_chassis_ger_pz38_1
		}
		
		visible = {
			has_completed_focus = GER_demand_sudetenland
			has_country_flag = GER_2_LDIV
			NOT = { has_country_flag = GER_2_LDIV_Pz38 }
			date > 1939.1.1
		}
		
		cost = 5
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_2_L_DIV_dec_tt
			division_template = {
				name = "L-Div 2 Pz38t"
				division_names_group = GER_LTARM_01
				priority = 2
				template_counter = 238
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					trm_cavalry_armor = { x = 1 y = 0 } 	# Czech Pz38(t) tanks
					trm_light_armor = { x = 1 y = 1 }
					trm_light_armor = { x = 1 y = 2 }

					motorcycle_infantry = { x = 2 y = 0 }
					
					trm_cavalry_armor = { x = 3 y = 0 } # Panzerabteilung 65
					
					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					anti_tank_brigade_mot =  { x = 4 y = 2 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					engineer_mot = { x = 0 y = 1 }
					recon_mot = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			
			country_event = { id = germany.237 hours = 6 }
			hidden_effect = {
				update_all_subunits = yes
			}
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_3_L_div = {
		icon = ger_3_Ldiv
		
		available = {
			date > 1938.11.10
			has_completed_focus = GER_demand_sudetenland
			60 = { is_owned_by_ROOT_or_subject = yes }
			has_manpower > 11100
		}
		
		visible = {
			has_completed_focus = GER_anschluss
			date > 1938.8.10
			not = { has_country_flag = GER_3_LDIV }
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 68
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_3_L_DIV_dec_tt
			
			division_template = {
				name = "L-Div 3"
				division_names_group = GER_LTARM_01
				priority = 2
				template_counter = 238
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }

					trm_light_armor = { x = 2 y = 0 } # Panzerabteilung 67
					
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					anti_tank_brigade_mot =  { x = 3 y = 2 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					engineer_mot = { x = 0 y = 1 }
					recon_mot = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			
			country_event = { id = germany.232 hours = 12 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_3_L_div_pz35 = {
		icon = ger_3_Ldiv
		
		available = {
			has_completed_focus = GER_end_of_czechoslovakia
			51 = { is_owned_by_ROOT_or_subject = yes }
			has_country_flag = czech_equipment
			has_tech = tech_trm_cavalry_tank_chassis_ger_pz35_1 
		}
		
		visible = {
			has_completed_focus = GER_demand_sudetenland
			has_country_flag = GER_3_LDIV
			NOT = { has_country_flag = GER_3_LDIV_Pz35 }
			date > 1939.1.1
		}
		
		cost = 5
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_2_L_DIV_dec_tt
			division_template = {
				name = "L-Div 3 Pz35t"
				division_names_group = GER_LTARM_01
				priority = 2
				template_counter = 238
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }

					trm_cavalry_armor = { x = 2 y = 0 } # Panzerabteilung 67
					
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					anti_tank_brigade_mot =  { x = 3 y = 2 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					engineer_mot = { x = 0 y = 1 }
					recon_mot = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			
			country_event = { id = germany.272 hours = 10 }
			hidden_effect = {
				update_all_subunits = yes
			}
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_4_L_div = {
		icon = ger_4_Ldiv
		
		available = {
			has_completed_focus = GER_anschluss
			4 = { is_owned_by_ROOT_or_subject = yes }
			has_manpower > 9100
		}
		
		visible = {
			NOT = { has_country_flag = GER_4_LDIV }
			has_completed_focus = GER_anschluss
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 4
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_4_L_DIV_dec_tt
			division_template = {
				name = "L-Div 4"
				priority = 2
				template_counter = 238
				division_names_group = GER_LTARM_01
	
				regiments = {
					semi_motorized = { x = 0 y = 0 }
					semi_motorized = { x = 0 y = 1 }
					
					semi_motorized = { x = 1 y = 0 }
					semi_motorized = { x = 1 y = 1 }
					
					trm_light_armor = { x = 2 y = 0 } # Pz-Btl 33
					
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot = { x = 3 y = 2 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					engineer_mot = { x = 0 y = 1 }
					recon_cav = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			country_event = { id = germany.281 hours = 8 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_44_inf_div = {
		icon = ger_44_infdiv
		
		available = {
			has_completed_focus = GER_anschluss
			4 = { is_owned_by_ROOT_or_subject = yes }
			has_manpower > 16400
		}
		
		visible = {
			has_country_flag = welle_one
			NOT = { has_country_flag = GER_44_INFDIV }
			has_completed_focus = GER_anschluss
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 4
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GERinfdiv_44_dec_tt
			division_template = {
				name = "44/45. Inf.-Div."
				division_names_group = GER_Inf_01
				template_counter = 114
				
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }

					artillery_brigade = { x = 3 y = 0 }
					artillery_brigade = { x = 3 y = 1 }
					anti_tank_brigade =  { x = 3 y = 2 }
				}
				
				support = {
					DIV_HQ = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					recon_cav = { x = 0 y = 2 }
					artillery_heavy = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			country_event = { id = germany.221 days = 5 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_45_inf_div = {
		icon = ger_45_infdiv
		
		available = {
			has_completed_focus = GER_anschluss
			152 = { is_owned_by_ROOT_or_subject = yes }
		}
		
		visible = {
			has_country_flag = welle_one
			has_completed_focus = GER_anschluss
			NOT = { has_country_flag = GER_45_INFDIV }
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 4
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GERinfdiv_45_dec_tt
			country_event = { id = germany.222 days = 10 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_forming_4_pzdiv = {
		icon = ger_4_pzdiv
		
		available = {
			is_ai = no
			date > 1938.11.1
			has_tech = tech_trm_light_tank_chassis_ger_panzer2_1 
			#has_tech = tech_command_tanks
			
			has_design_based_on = trm_light_tank_chassis
			
			OR = {
				has_equipment = { trm_light_tank_chassis_ger_panzer2_1  > 29 }
				has_equipment = { trm_light_tank_chassis_ger_panzer2_2  > 14 }
			}
			has_manpower > 11100
		}
		
		visible = {
			NOT = { has_country_flag = GER_4_PDiv }
			NOT = { has_country_flag = GER_4_PDiv_no }
			has_completed_focus = GER_achtung_panzer
			date > 1938.8.1
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 0
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_4_Pz_Div_dec_tt
			division_template = {
				name = "Pz-Div 4"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2011
		
				regiments = {
					#Panzer-Regiment 35
					trm_light_armor = { x = 0 y = 0 }
					trm_light_armor = { x = 0 y = 1 }
					trm_light_armor = { x = 0 y = 2 }
					trm_light_armor = { x = 0 y = 3 }
					
					#Panzer-Regiment 36
					trm_light_armor = { x = 1 y = 0 }
					trm_light_armor = { x = 1 y = 1 }
					trm_light_armor = { x = 1 y = 2 }
					trm_light_armor = { x = 1 y = 3 }
					
					#Schützen-Regiment 33
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					#Kradschützen-Btl 34
					motorcycle_infantry = { x = 2 y = 2 } 
					
					#Artillerie-Regiment 1
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot = { x = 3 y = 2 }
					anti_tank_brigade_mot =  { x = 3 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					combat_engineer_mot = { x = 0 y = 2 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			country_event = { id = germany.239 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
			set_country_flag = GER_4_Pz_Div_dec
		}
	}
	GER_forming_5_pzdiv = {
		icon = ger_5_pzdiv
		
		available = {
			has_manpower > 10200
			date > 1938.11.24
			
			has_tech = tech_trm_light_tank_chassis_ger_panzer2_1 
			#has_tech = tech_command_tanks
			
			has_design_based_on = trm_light_tank_chassis
			
			OR = {
				has_equipment = { trm_light_tank_chassis_ger_panzer2_1  > 29 }
				has_equipment = { trm_light_tank_chassis_ger_panzer2_2  > 14 }
			}
		}
		
		visible = {
			has_completed_focus = GER_achtung_panzer
			NOT = { has_country_flag = GER_5_PDiv }
			NOT = { has_country_flag = GER_5_PDiv_no }
			date > 1938.8.24
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_5_Pz_Div_dec_tt
			division_template = {
				name = "Pz-Div 5"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2013
		
				regiments = {
					#Panzer-Regiment 15
					trm_light_armor = { x = 0 y = 0 }
					trm_light_armor = { x = 0 y = 1 }
					trm_light_armor = { x = 0 y = 2 }
					trm_light_armor = { x = 0 y = 3 }
					
					#Panzer-Regiment 31
					trm_light_armor = { x = 1 y = 0 }
					trm_light_armor = { x = 1 y = 1 }
					trm_light_armor = { x = 1 y = 2 }
					trm_light_armor = { x = 1 y = 3 }
					
					#Schützen-Regiment 13
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 } 
					
					#Artillerie-Regiment 116
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot = { x = 3 y = 2 }
					anti_tank_brigade =  { x = 3 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					combat_engineer_mot = { x = 0 y = 2 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			country_event = { id = germany.240 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_1_kav_div = {
		
		icon = ger_1_kavdiv
		
		available = {
			date > 1939.10.11
			5 = { is_controlled_by_ROOT_or_subject = yes }
			NOT = { has_country_flag = GER_kav_div_1 }
			has_manpower > 13600
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 5
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		visible = {
			NOT = { has_country_flag = GER_kav_div_1 }
			5 = { is_controlled_by_ROOT_or_subject = yes }
			date > 1939.8.1
		}

		complete_effect = {
			custom_effect_tooltip = GER_1_kav_div_dec_tt
			division_template = {
				name = "Kav Div 1"	
				division_names_group = GER_KAV_01
				priority = 2
				template_counter = 210
				
				regiments = {
					cavalry = { x = 0 y = 0 }
					cavalry = { x = 0 y = 1 }
					
					cavalry = { x = 1 y = 0 }
					cavalry = { x = 1 y = 1 }
					
					cavalry = { x = 2 y = 0 }
					cavalry = { x = 2 y = 1 }
					
					cavalry = { x = 3 y = 0 }
					cavalry = { x = 3 y = 1 }
					
					artillery_brigade = { x = 4 y = 0 }
					artillery_brigade = { x = 4 y = 1 }
					artillery_brigade = { x = 4 y = 2 }
					anti_tank_brigade =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ = { x = 0 y = 0 }
					recon_cav = { x = 0 y = 1 }
					engineer_mot = { x = 0 y = 2 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			hidden_effect = { update_all_subunits = yes }
			country_event = { id = germany.268 hours = 6 }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_forming_1_gebirgs_division = {
		icon = ger_1_gebdiv
		
		allowed = {
			tag = GER
		}
		available = {
			date > 1938.4.1
			has_manpower > 15650
		}
		visible = {
			date > 1938.1.1
			NOT = { has_country_flag = GER_1_gebirgs_div }
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 52
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_1_Gebirgs_Div_dec_tt
			division_template = {
				name = "Gebirgsjäger-Division 1"
				division_names_group = GER_Mnt_01
				priority = 2
				template_counter = 2035	# Mountaineer Division
				
				regiments = {
					mountaineers = { x = 0 y = 0 }
					mountaineers = { x = 0 y = 1 }
					mountaineers = { x = 0 y = 2 }
					
					mountaineers = { x = 1 y = 0 }
					mountaineers = { x = 1 y = 1 }
					mountaineers = { x = 1 y = 2 }
					
					mountaineers = { x = 2 y = 0 }
					mountaineers = { x = 2 y = 1 }
					mountaineers = { x = 2 y = 2 }
					
					mountain_artillery_brigade_mot = { x = 3 y = 0 }
					mountain_artillery_brigade_mot = { x = 3 y = 1 }
					mountain_artillery_brigade_mot = { x = 3 y = 2 }
					artillery_brigade_mot_med = { x = 3 y = 3 }
					anti_tank_brigade_mot =  { x = 3 y = 4 }
				}
				support = {
					DIV_HQ = { x = 0 y = 0 }
					recon_cav = { x = 0 y = 1 }
					anti_tank = { x = 0 y = 2 }
					engineer = { x = 0 y = 3 }
					anti_air = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					mount_support = { x = 1 y = 3 }
				}
			}
			division_template = {
				name = "Gebirgsjäger-Division"
				division_names_group = GER_Mnt_01
				priority = 2
				template_counter = 3008	# Mountaineer Division
				
				regiments = {
					mountaineers = { x = 0 y = 0 }
					mountaineers = { x = 0 y = 1 }
					mountaineers = { x = 0 y = 2 }
					
					mountaineers = { x = 1 y = 0 }
					mountaineers = { x = 1 y = 1 }
					mountaineers = { x = 1 y = 2 }
					
					mountaineers = { x = 2 y = 0 }
					mountaineers = { x = 2 y = 1 }
					mountaineers = { x = 2 y = 2 }
					
					mountain_artillery_brigade_mot = { x = 3 y = 0 }
					mountain_artillery_brigade_mot = { x = 3 y = 1 }
					mountain_artillery_brigade_mot = { x = 3 y = 2 }
					artillery_brigade_mot_med = { x = 3 y = 3 }
					anti_tank_brigade_mot =  { x = 3 y = 4 }
				}
				support = {
					DIV_HQ = { x = 0 y = 0 }
					recon_cav = { x = 0 y = 1 }
					anti_tank = { x = 0 y = 2 }
					engineer = { x = 0 y = 3 }
					anti_air = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					mount_support = { x = 1 y = 3 }
				}
			}
			country_event = { id = germany.319 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_forming_2_3_gebirgs_division = {
		icon = ger_2_3_gebdiv
		
		allowed = {
			tag = GER
		}
		available = {
			has_completed_focus = GER_anschluss
			date > 1938.4.1
			has_manpower > 32000 # chained events
		}
		visible = {
			date > 1938.1.1
			NOT = { has_country_flag = GER_2_gebirgs_div }
			NOT = { has_country_flag = GER_3_gebirgs_div }
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 4
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_2_3_Gebirgs_Div_dec_tt
			division_template = {
				name = "Gebirgsjäger-Division 2"
				division_names_group = GER_Mnt_01
				priority = 2
				template_counter = 2036	# 2nd Mountaineer Division
				
				regiments = {
					mountaineers = { x = 0 y = 0 }
					mountaineers = { x = 0 y = 1 }
					mountaineers = { x = 0 y = 2 }
					
					mountaineers = { x = 1 y = 0 }
					mountaineers = { x = 1 y = 1 }
					mountaineers = { x = 1 y = 2 }
					
					mountaineers = { x = 2 y = 0 }
					mountaineers = { x = 2 y = 1 }
					mountaineers = { x = 2 y = 2 }
					
					mountain_artillery_brigade_mot = { x = 3 y = 0 }
					mountain_artillery_brigade_mot = { x = 3 y = 1 }
					mountain_artillery_brigade_mot = { x = 3 y = 2 }
					artillery_brigade_mot_med = { x = 3 y = 3 }
					anti_tank_brigade_mot =  { x = 3 y = 4 }
				}
				support = {
					DIV_HQ = { x = 0 y = 0 }
					recon_cav = { x = 0 y = 1 }
					anti_tank = { x = 0 y = 2 }
					engineer = { x = 0 y = 3 }
					anti_air = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					mount_support = { x = 1 y = 3 }
				}
			}
			
			division_template = {
				name = "Gebirgsjäger-Division 3"
				division_names_group = GER_Mnt_01
				priority = 2
				template_counter = 2037	# 3rd Mountaineer Division
				
				regiments = {
					mountaineers = { x = 0 y = 0 }
					mountaineers = { x = 0 y = 1 }
					mountaineers = { x = 0 y = 2 }
					
					mountaineers = { x = 1 y = 0 }
					mountaineers = { x = 1 y = 1 }
					mountaineers = { x = 1 y = 2 }
					
					mountain_artillery_brigade_mot = { x = 2 y = 0 }
					mountain_artillery_brigade_mot = { x = 2 y = 1 }
					mountain_artillery_brigade_mot = { x = 2 y = 2 }
					artillery_brigade_mot_med = { x = 2 y = 3 }
					anti_tank_brigade_mot =  { x = 2 y = 4 }
				}
				support = {
					DIV_HQ = { x = 0 y = 0 }
					recon_cav = { x = 0 y = 1 }
					anti_tank = { x = 0 y = 2 }
					engineer = { x = 0 y = 3 }
					anti_air = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					mount_support = { x = 1 y = 3 }
				}
			}
			country_event = { id = germany.266 days = 1 }
			country_event = { id = germany.267 days = 5 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	#1939
	GER_upgrade_123_pzdiv = {
		icon = ger_123_pzdiv
		
		available = {
			has_completed_focus = GER_achtung_panzer
			date > 1939.1.1
			has_tech = tech_combat_engineers
			has_tech = tech_trm_medium_tank_chassis_ger_panzer3_1
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_1
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			has_tech = tech_logistics_company2
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_1 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 14 }
			}
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_1 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_1 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
		}
		
		visible = {
			date > 1938.10.1
			OR = {
				has_tech = tech_trm_medium_tank_chassis_ger_panzer3_1
				has_tech = tech_trm_medium_tank_chassis_ger_panzer4_1
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			division_template = {
				name = "Pz-Div 1"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2006
		
				regiments = {
					#Panzer-Regiment 1
					trm_light_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					#Panzer-Regiment 2
					trm_light_armor = { x = 1 y = 0 }
					trm_medium_armor = { x = 1 y = 1 }
					trm_medium_cs_armor = { x = 1 y = 2 }
					
					#Schützen-Regiment 1
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					
					#Kradschützen-Btl 1
					motorcycle_infantry = { x = 3 y = 0 } 
					
					#Artillerie-Regiment 1
					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					combat_engineer_mot = { x = 0 y = 2 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					anti_air_car = { x = 1 y = 3 }
				}
			}
			division_template = {
				name = "Pz-Div 2"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2008
				
				regiments = {
					#Panzer-Regiment 3
					trm_light_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					#Panzer-Regiment 4
					trm_light_armor = { x = 1 y = 0 }
					trm_medium_armor = { x = 1 y = 1 }
					trm_medium_cs_armor = { x = 1 y = 2 }
					
					#Schützen-Regiment 2
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					
					#Kradschützen-Btl 2
					motorcycle_infantry = { x = 3 y = 0 }

					#Artillerie-Regiment 74
					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					combat_engineer_mot = { x = 0 y = 2 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					anti_air_car = { x = 1 y = 3 }
				}
			}
			division_template = {
				name = "Pz-Div 3"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2010
				
				regiments = {
					#Panzer-Regiment 5
					trm_light_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					#Panzer-Regiment 6
					trm_light_armor = { x = 1 y = 0 }
					trm_medium_armor = { x = 1 y = 1 }
					trm_medium_cs_armor = { x = 1 y = 2 }
					
					#Schützen-Regiment 
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }

					#Kradschützen-Btl 3
					motorcycle_infantry = { x = 3 y = 0 }

					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					combat_engineer_mot = { x = 0 y = 2 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					anti_air_car = { x = 1 y = 3 }
				}
			}
			country_event = { id = germany.601 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_forming_6_pzdiv = {
		icon = ger_6_pzdiv
		
		available = {
			OR = {
				has_country_flag = GER_1_LDIV
				has_country_flag = GER_1_LDIV_Pz35
			}
			has_completed_focus = GER_end_of_czechoslovakia
			has_tech = tech_logistics_company2
			
			date > 1939.10.18
			POL = { has_capitulated = yes }
			843 = { is_controlled_by_ROOT_or_ally = yes } #Prague
			has_tech = tech_trm_light_tank_chassis_ger_panzer2_2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			#has_tech = tech_command_tanks
			
			has_design_based_on = trm_light_tank_chassis
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_light_tank_chassis_ger_panzer2_2  > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
			has_manpower > 9850
		}
		
		visible = {
			has_war_with = POL
			NOT = { has_country_flag = GER_6_PDiv }
			OR = {
				has_country_flag = GER_1_LDIV
				has_country_flag = GER_1_LDIV_Pz35
			}
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 51
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			division_template = {
				name = "Pz-Div 6"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2016
		
				regiments = {
					# Panzer-Regiment
					trm_cavalry_armor = { x = 0 y = 0 } 	# Czech Pz35(t) tanks
					trm_light_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					# Panzer-abteilung 65
					trm_cavalry_armor = { x = 1 y = 0 } 	# Czech Pz35(t) tanks 
					
					# Schützen-Regiment 4
					motorized = { x = 2 y = 0 }	
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					# Kradschützen-Bataillon 6
					motorcycle_infantry = { x = 2 y = 3 } 

					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					anti_tank_brigade_mot =  { x = 3 y = 2 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					combat_engineer_mot = { x = 0 y = 2 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			country_event = { id = germany.290 hours = 4 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_forming_7_pzdiv = {
		icon = ger_7_pzdiv
		
		available = {
			OR = {
				has_country_flag = GER_2_LDIV
				has_country_flag = GER_2_LDIV_pz38
			}
			has_completed_focus = GER_end_of_czechoslovakia
			
			date > 1939.10.18
			POL = { has_capitulated = yes }
			843 = { is_controlled_by_ROOT_or_ally = yes }#Prague
			has_tech = tech_trm_light_tank_chassis_ger_panzer2_2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			#has_tech = tech_command_tanks
			has_tech = tech_logistics_company2
			
			has_design_based_on = trm_light_tank_chassis
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_light_tank_chassis_ger_panzer2_2 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
			has_manpower > 12800
		}
		
		visible = {
			has_war_with = POL
			date > 1939.7.18
			NOT = { has_country_flag = GER_7_PDiv }
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 843
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_7_Pz_Div_dec_tt
			division_template = {
				name = "Pz-Div 7"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2018
		
				regiments = {
					#Panzer-Regiment 25
					trm_cavalry_armor = { x = 0 y = 0 } # Czech Pz38(t) tanks
					trm_light_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					# Panzer-Abteilung 66
					trm_cavalry_armor = { x = 1 y = 0 } 	# Czech Pz38(t) tanks 
					
					#Schützen-Regiment 6
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					
					#Schützen-Regiment 7
					motorized = { x = 3 y = 0 }
					motorized = { x = 3 y = 1 }
					# Kradschützen-Btl 7
					motorcycle_infantry = { x = 3 y = 2 }  

					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					recon_ac = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					artillery_heavy = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			country_event = { id = germany.291 days = 5 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_Wach_rgt = {
		icon = grossdeutschland
		
		available = {
			date > 1937.6.1
			owns_state = 841
			has_manpower > 3450
		}
		
		visible = {
			date > 1937.3.1
			has_completed_focus = GER_Wehrmacht
			has_country_flag = Units_enabled
			not = { has_country_flag = wachrgt_berlin }
		}
		cost = 10
		
		highlight_states = { 
			highlight_state_targets = {
				state = 841
			}
		}
		
		fire_only_once = yes
		
		complete_effect = {
			division_template = {
				name = "Wach-Regt. Berlin"
				priority = 2
				template_counter = 2000
				is_locked = yes
				division_names_group = GER_GD_01

				regiments = {			
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
				}
				support = {
					DIV_HQ = { x = 0 y = 0 }
					logistics_company = { x = 0 y = 1 }
				}
			}
			country_event = { id = germany.231 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_gd_regt = {
		
		icon = grossdeutschland
		
		available = {
			date > 1939.5.1
			841 = { is_controlled_by_ROOT_or_ally = yes }
			has_manpower > 5500
		}
		
		visible = {
			has_completed_focus = GER_Wehrmacht
			date > 1939.2.1
			has_country_flag = wachrgt_berlin
			has_country_flag = Units_enabled
			not = { has_country_flag = gd_regt_39 }
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 841
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			division_template = {
				name = "Inf.-Regt.(GD)"	
				priority = 2
				template_counter = 2000
				is_locked = yes
				division_names_group = GER_GD_01
				
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					
					artillery_brigade = { x = 1 y = 0 }
				}
				support = {
					DIV_HQ = { x = 0 y = 0 }
					logistics_company_car = { x = 0 y = 1 }
					maintenance_company = { x = 0 y = 2 }
				}
			}
			
			country_event = { id = germany.400 hours = 6 }
			
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_60_div = {
		icon = ger_60_infdiv
		
		available = {
			date > 1939.7.1
			471 = { is_controlled_by_ROOT_or_ally = yes }
			has_manpower > 5600
		}
		
		visible = {
			has_completed_focus = GER_Wehrmacht
			has_war_with = POL
			date > 1939.4.1
		}
		
		ai_will_do = {
			factor = 200
		}
		
		cost = 5
		
		fire_only_once = yes
		
		complete_effect = {
			division_template = {
				name = "Gruppe Eberhardt"
				division_names_group = GER_Inf_60
				priority = 1
				template_counter = 65
				
				regiments = {
					garrison = { x = 0 y = 0 }
					garrison = { x = 0 y = 1 }
					garrison = { x = 0 y = 2 }
					
					garrison = { x = 1 y = 0 }
					garrison = { x = 1 y = 1 }
					garrison = { x = 1 y = 2 }

					artillery_brigade = { x = 2 y = 0 }
				}
				support = {
					DIV_HQ = { x = 0 y = 0 }
				}
			}
			
			country_event = { id = germany.460 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_gd_regt_mot = {
		icon = grossdeutschland
		
		available = {
			date > 1939.10.1
			841 = { is_controlled_by_ROOT_or_ally = yes }
			has_manpower > 6500
		}
		
		visible = {
			has_completed_focus = GER_Wehrmacht
			date > 1939.7.1
			has_country_flag = gd_regt_39
			has_country_flag = Units_enabled
			not = { has_country_flag = gd_regt_mot_39 }
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 841
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			division_template = {
				name = "Inf.-Regt.-mot (GD)"	
				division_names_group = GER_GD_01
				is_locked = yes
				template_counter = 2001
				priority = 2
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					motorized = { x = 0 y = 3 }
					
					artillery_brigade = { x = 1 y = 0 }
					anti_tank_brigade_mot =  { x = 1 y = 1 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_mot = { x = 0 y = 1 }
					
					logistics_company_mot = { x = 1 y = 0 }
				}
			}
			
			country_event = { id = germany.401 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_60_inf_div = {
		icon = ger_60_infdiv
		
		available = {
			date > 1939.10.15
			POL = { has_capitulated = yes }
			471 = { is_controlled_by_ROOT_or_ally = yes } #Danzig
			has_country_flag = GERinfdiv_Grp_EH
		}
		
		visible = {
			has_completed_focus = GER_Wehrmacht
			date > 1939.7.15
			has_country_flag = GERinfdiv_Grp_EH
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 471
			}
		}
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GERinfdiv_60_dec_tt
			division_template = {
				name = "60. Inf.-Div."
				division_names_group = GER_Inf_60
				priority = 2
				template_counter = 126
				
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }

					artillery_brigade = { x = 3 y = 0 }
					artillery_brigade = { x = 3 y = 1 }
					artillery_brigade = { x = 3 y = 2 }
					artillery_brigade_med = { x = 3 y = 3 }
					anti_tank_brigade =  { x = 3 y = 4 }
				}
				
				support = {
					DIV_HQ = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					artillery_heavy = { x = 0 y = 2 }
					recon_mot = { x = 0 y = 3 }
					anti_tank_mot = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_car = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			
			country_event = { id = germany.461 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	#Before France
	GER_forming_8_pzdiv = {
		icon = ger_8_pzdiv_40
		
		available = {
			date > 1939.10.16
			has_completed_focus = GER_end_of_czechoslovakia
			has_tech = tech_logistics_company2
			
			OR = {
				has_country_flag = GER_3_LDIV
				has_country_flag = GER_3_LDIV_Pz35
			}
			POL = { has_capitulated = yes }
			10 = { is_controlled_by_ROOT_or_ally = yes }	#Warsaw outer area
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_1
			#has_tech = tech_command_tanks
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_1 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_1 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
			has_manpower > 10950
		}
		
		visible = {
			NOT = { has_country_flag = GER_8_PDiv }
			OR = {
				has_country_flag = GER_3_LDIV
				has_country_flag = GER_3_LDIV_Pz35
			}
			has_war_with = POL
			date > 1939.7.16
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 10
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_8_Pz_Div_dec_tt
			division_template = {
				name = "Pz-Div 8"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2020
				
				regiments = {
					trm_cavalry_armor = { x = 0 y = 0 }
					trm_light_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }

					trm_cavalry_armor = { x = 1 y = 0 } 	# Czech Pz38(t) tanks ## Panzer-abteilung 66
					
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					# Kradschützen-Bataillon 8
					motorcycle_infantry = { x = 2 y = 3 }  

					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					anti_tank_brigade_mot =  { x = 3 y = 2 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					recon_ac = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					artillery_heavy_mot = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			country_event = { id = germany.292 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_upgrade_4_pzdiv = {
		icon = ger_4_pzdiv
		
		available = {
			date > 1939.11.1
			POL = { has_capitulated = yes }
			862 = { is_controlled_by_ROOT_or_ally = yes }
			471 = { is_controlled_by_ROOT_or_ally = yes }
			has_manpower > 13300
			has_tech = tech_combat_engineers
			has_tech = tech_trm_medium_tank_chassis_ger_panzer3_1
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_1
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			has_tech = tech_logistics_company2
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_1 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 14 }
			}
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_1 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_1 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
		}
		
		visible = {
			has_country_flag = GER_4_PDiv
			has_war_with = POL
			date > 1939.8.1
			has_completed_focus = GER_achtung_panzer
			has_country_flag = GER_4_Pz_Div_dec
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_4_PZ_DIV_1939_dec_tt
			division_template = {
				name = "4 Pz-Div"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2012
		
				regiments = {
					#Panzer-Regiment 35
					trm_light_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					#Panzer-Regiment 36
					trm_light_armor = { x = 1 y = 0 }
					trm_medium_armor = { x = 1 y = 1 }
					trm_medium_cs_armor = { x = 1 y = 2 }
					#Schützen-Regiment 12
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					
					#Schützen-Regiment 33
					motorized = { x = 3 y = 0 }
					motorized = { x = 3 y = 1 }
					#Kradschützen-Btl 34
					motorcycle_infantry = { x = 3 y = 2 }
					#Artillerie-Regiment 1
					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					combat_engineer_mot = { x = 0 y = 2 }
					anti_air_car = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			country_event = { id = germany.604 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
			set_country_flag = GER_4_Pz_Div_upgrade_dec
		}
	}
	GER_forming_10_pzdiv = {
		icon = ger_10_pzdiv
		
		available = {
			has_manpower > 5100
			date > 1939.4.1
			67 = { is_controlled_by_ROOT_or_ally = yes }
			has_tech = tech_trm_medium_tank_chassis_ger_panzer3_1
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_1
			#has_tech = tech_command_tanks_I
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_1 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 14 }
			}
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_1 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_1 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
		}
		
		visible = {
			has_completed_focus = GER_achtung_panzer
			NOT = { has_country_flag = GER_10_PDiv }
			NOT = { has_country_flag = GER_10_PDiv_no }
			date > 1939.1.1
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 67
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_10_Pz_Div_dec_tt
			division_template = {
				name = "Pz-Div 10"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2025
				
				regiments = {
					#Panzer-Regiment 8
					trm_light_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					#Schützen-Regiment 86
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					
					artillery_brigade_mot = { x = 2 y = 0 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					military_police = { x = 0 y = 2 }
				}
			}
			country_event = { id = germany.242 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_upgrade_5_pzdiv = {
		icon = ger_5_pzdiv
		
		available = {
			date > 1939.5.10
			has_completed_focus = GER_end_of_czechoslovakia
			has_manpower > 11650
			has_tech = tech_combat_engineers
			has_tech = tech_trm_cavalry_tank_chassis_ger_pz38_1 #Panzer 38(t)
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			has_tech = tech_logistics_company2
		}
		
		visible = {
			date > 1939.2.10
			has_completed_focus = GER_demand_sudetenland
			has_country_flag = GER_5_PDiv
			NOT = { has_country_flag = GER_5_PDiv_1939 }
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_5_Pz_Div_1939_dec_tt
			division_template = {
				name = "5 Pz-Div"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2012
				
				regiments = {
					#Panzer-Regiment 15
					trm_light_armor = { x = 0 y = 0 }
					trm_light_armor = { x = 0 y = 1 }
					trm_cavalry_armor = { x = 0 y = 2 }
					
					#Panzer-Regiment 31
					trm_light_armor = { x = 1 y = 0 }
					trm_light_armor = { x = 1 y = 1 }
					trm_cavalry_armor = { x = 1 y = 2 }
					
					#Schützen-Regiment 13
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					
					#Schützen-Regiment 14
					motorized = { x = 3 y = 0 }
					motorized = { x = 3 y = 1 }

					#Artillerie-Regiment 116
					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					#Panzerjäger-Abteilung 53
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					combat_engineer_mot = { x = 0 y = 2 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			country_event = { id = germany.605 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	###1940
	GER_upgrade_8_pzdiv = {
		icon = ger_8_pzdiv_40
		
		available = {
			date > 1940.1.8
			862	 = { is_controlled_by_ROOT_or_ally = yes }#Warsaw
			10	 = { is_controlled_by_ROOT_or_ally = yes }#Warsaw outer area
			has_manpower > 12950
			has_tech = tech_combat_engineers
			has_tech = tech_trm_medium_tank_chassis_ger_panzer3_2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			has_tech = tech_logistics_company2
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
		}
		
		visible = {
			POL = { has_capitulated = yes }
			has_country_flag = GER_8_PDiv
			NOT = { has_country_flag = GER_8_PDiv_1940 }
			date > 1939.10.8
			has_completed_focus = GER_achtung_panzer
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_8_Pz_Div_dec_tt
			division_template = {
				name = "8 Pz-Div"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2021
				
				regiments = {
					#Panzer-regiment 10 I. Abteilung
					trm_cavalry_armor = { x = 0 y = 0 } # Czech Pz38(t) tanks	
					trm_light_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					# Panzer-abteilung 67
					trm_cavalry_armor = { x = 1 y = 0 } 	# Czech Pz38(t) tanks 
					trm_medium_cs_armor = { x = 1 y = 1 }
					
					#Schützen-Regiment 8
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					# Kradschützen-Bataillon 8
					motorcycle_infantry = { x = 2 y = 3 }
					
					#Artillerie-Regiment 80
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot_med =  { x = 3 y = 2 }
					anti_tank_brigade_mot =  { x = 3 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					recon_ac = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					artillery_heavy_mot = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
					anti_air_car = { x = 1 y = 4 }
				}
			}
			country_event = { id = germany.608 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_forming_9_pzdiv = {
		icon = ger_9_pzdiv
		
		available = {
			has_manpower > 14340
			date > 1940.1.8
			has_tech = tech_combat_engineers
			has_tech = tech_trm_light_tank_ger_panzer1_superstructure_open_1 
			has_tech = tech_trm_medium_tank_chassis_ger_panzer3_2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			has_tech = tech_logistics_company2
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			has_design_based_on = trm_light_tank_artillery_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_1 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 14 }
			}
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_1 > 14 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_1 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
			
			has_equipment = { trm_light_tank_artillery_chassis_ger_panzer1_2 > 19 }
		}
		
		visible = {
			POL = { has_capitulated = yes }
			has_country_flag = GER_4_LDIV
			NOT = { has_country_flag = GER_9_PDiv_1940 }
			date > 1939.10.8
			has_completed_focus = GER_achtung_panzer
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_9_Pz_Div_1940_dec_tt
			division_template = {
				name = "9 Pz-Div"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2023
				
				regiments = {
					#Panzer-Regiment 33
					trm_cavalry_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					#Schützen-Regiment 10
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					
					#Schützen-Regiment 11
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					
					artillery_brigade_mot = { x = 3 y = 0 }	
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot_med = { x = 3 y = 2 }
					anti_tank_brigade_mot =  { x = 3 y = 3 }
					
					trm_light_sp_artillery = { x = 4 y = 0 }	#till febr 1942
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					recon_ac = { x = 0 y = 2 }
					artillery_heavy_mot = { x = 0 y = 3 }
					anti_air_car = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			country_event = { id = germany.241 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	
	GER_upgrade_10_pzdiv = {
		icon = ger_10_pzdiv_1940
		
		available = {
			date > 1940.1.10
			has_manpower > 11940
			has_tech = tech_combat_engineers
			has_tech = tech_trm_light_tank_ger_panzer1_superstructure_open_1 
			has_tech = tech_trm_medium_tank_chassis_ger_panzer3_2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			has_design_based_on = trm_light_tank_artillery_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_1 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 14 }
			}
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_1 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_1 > 24 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
			
			has_equipment = { trm_light_tank_artillery_chassis_ger_panzer1_2 > 19 }
		}
		
		visible = {
			POL = { has_capitulated = yes }
			has_country_flag = GER_10_Pz_Div
			NOT = { has_country_flag = GER_10_PDiv_1940 }
			date > 1939.10.10
			has_completed_focus = GER_achtung_panzer
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_10_Pz_Div_dec_tt
			division_template = {
				name = "10 Pz-Div"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2026
				
				regiments = {
					#Panzer-Regiment 8
					trm_light_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					#Panzer-Regiment 7
					trm_light_armor = { x = 1 y = 0 }
					trm_medium_armor = { x = 1 y = 1 }
					trm_medium_cs_armor = { x = 1 y = 2 }
					
					#Schützen-Regiment 86
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					
					#Schützen-Regiment 86
					motorized = { x = 3 y = 0 }
					motorized = { x = 3 y = 1 }
					
					artillery_brigade_mot = { x = 3 y = 0 }	
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot_med = { x = 3 y = 2 }
					anti_tank_brigade_mot =  { x = 3 y = 3 }
					
					trm_light_sp_artillery = { x = 4 y = 0 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					recon_ac = { x = 0 y = 2 }
					artillery_heavy_mot = { x = 0 y = 3 }
					anti_air_car = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
					military_police = { x = 1 y = 4 }
				}
			}
			country_event = { id = germany.610 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_forming_14_pzdiv = {
		
		icon = ger_14_pzdiv
		
		available = {
			date > 1940.8.15
			has_manpower > 25000 # chained events
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_1
			#has_tech = tech_command_tanks_I
			has_tech = tech_recovery_tanks
			has_tech = tech_signal_company2
			has_tech = tech_combat_engineers2
		}
		
		visible = {
			OR = {
				has_completed_focus = GER_Panzer_mkIV
				check_variable = { global.days_passed > 1506 } #date > 1940.2.15
			}
			has_country_flag = GER_4_PDiv_1939
			has_country_flag = GER_9_PDIV_AUG_1940
			has_country_flag = GER_4_Pz_Div_upgrade_dec
			NOT = { has_country_flag = GER_14_PDiv }
			NOT = { has_country_flag = GER_4_PDiv_1939_no }
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_4_Pz_Div_1940_dec_tt
			custom_effect_tooltip = GER_14_Pz_Div_dec_tt
			division_template = {
				name = "Pz-Div 4"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2012
		
				regiments = {
					#Panzer-Regiment 35
					trm_medium_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					#Schützen-Regiment 12
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					
					#Schützen-Regiment 33
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					#Kradschützen-Btl 34
					motorcycle_infantry = { x = 2 y = 2 } 
					
					#Artillerie-Regiment 1
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot = { x = 3 y = 2 }
					anti_tank_brigade_mot =  { x = 3 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					combat_engineer_mot = { x = 0 y = 2 }
					anti_air_car = { x = 0 y = 3 }
					artillery_heavy_mot = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			division_template = {
				name = "Pz-Div 14"		
				division_names_group = GER_ARM_01
				priority = 2
				template_counter = 2040
				
				regiments = {
					#36. Pz-Regiment from 4. Pz-Div
					trm_medium_armor = { x = 0 y = 0 }
					trm_medium_cs_armor = { x = 0 y = 1 }
					###14. Schützen-Brigade
					#103. Schützen-Regiment
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					#108. Schützen-Regiment
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					#64. Kradschützen-Bataillon
					motorcycle_infantry = { x = 3 y = 0 }
					#4. Artillery Regiment
					artillery_brigade_mot = { x = 4 y = 0 }	
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					#4. Anti-tank Battalion(mot.)
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					engineer_arm = { x = 0 y = 1 }
					artillery_heavy_mot = { x = 0 y = 2 }
					recon_ac = { x = 0 y = 3 }
					
					field_hospital = { x = 1 y = 0 }
					maintenance_company = { x = 1 y = 1 }
					logistics_company_mot = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			hidden_effect = { update_all_subunits = yes }
			country_event = { id = germany.269 hours = 6 }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_forming_13_pzdiv = {
		
		icon = ger_13_pzdiv
		
		available = {
			has_manpower > 14150
			date > 1940.10.09
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_1
			has_country_flag = GER_123_PZ_DIV_1939
		}
		
		visible = {
			has_country_flag = mot_13
			check_variable = { global.days_passed > 1553 } #date > 1940.4.1
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_2_pzdiv_fight_tt
			custom_effect_tooltip = GER_13_Pz_Div_dec_tt
			division_template = {
				name = "Pz-Div 13"	
				division_names_group = GER_ARM_01
				priority = 2
				template_counter = 2039
				
				regiments = {
					#Pz-Regt 4 from 2. Pz-Div
					trm_medium_armor = { x = 0 y = 0 }
					trm_medium_cs_armor = { x = 0 y = 1 }
					##13. Schutzen-Brigade
					#66. Schutzen Regiment
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					#93. Schutzen Regiment
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					#43. Kradschutzen Battalion
					motorcycle_infantry = { x = 3 y = 0 }
					#13. Artillery Regiment
					artillery_brigade_mot = { x = 4 y = 0 }	
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					#13. Anti-Tank(mot.) Battalion
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_arm = { x = 0 y = 1 }
					artillery_heavy_mot = { x = 0 y = 2 }
					recon_ac = { x = 0 y = 3 }
					
					field_hospital = { x = 1 y = 0 }
					maintenance_company = { x = 1 y = 1 }
					logistics_company_mot = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			hidden_effect = { update_all_subunits = yes }
			country_event = { id = germany.245 hours = 6 }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_motorise_3_infdiv = {
		
		icon = ger_3_infdiv
		
		available = {
			date > 1940.10.27
			has_equipment = { anti_tank_equipment > 24 }
			68 = { is_controlled_by_ROOT_or_ally = yes }#Frankfurt a/d Oder
			has_tech = tech_logistics_company2
			has_manpower > 15050
		}
		visible = {
			date > 1940.7.27
			has_country_flag = mot_29
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 68
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_mot_3_dec_tt
			division_template = {
				name = "3 Inf-Div(mot.)"		
				division_names_group = GER_MOT_01
				priority = 2
				template_counter = 174
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }

					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot = { x = 3 y = 2 }
					artillery_brigade_mot_med = { x = 3 y = 3 }
					anti_tank_brigade_mot =  { x = 3 y = 4 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_mot = { x = 0 y = 1 }
					engineer_mot = { x = 0 y = 2 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			hidden_effect = { update_all_subunits = yes }
			country_event = { id = germany.261 hours = 6 }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_upgrade_6_pzdiv = {
		icon = ger_6_pzdiv
		
		available = {
			date > 1940.7.1
			has_manpower > 15450
			FRA = { has_capitulated = yes }
			844	 = { is_controlled_by_ROOT_or_ally = yes }#Paris
			
			has_tech = tech_combat_engineers
			has_tech = tech_trm_medium_tank_chassis_ger_panzer3_2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			has_tech = tech_logistics_company2
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_1 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 14 }
			}
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_1 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_1 > 24 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
		}
		
		visible = {
			POL = { has_capitulated = yes }
			has_country_flag = GER_6_PDiv
			NOT = { has_country_flag = GER_6_PDiv_1940 }
			date > 1940.4.1
			has_completed_focus = GER_achtung_panzer
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			
			division_template = {
				name = "6 Pz-Div"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2017
				
				regiments = {
					# Panzer-Regiment 11	Czech Pz35(t) tanks
					trm_cavalry_armor = { x = 0 y = 0 } 	
					trm_light_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					# Panzer-abteilung 65 # Czech Pz35(t) tanks 
					trm_cavalry_armor = { x = 1 y = 0 }	
					trm_light_armor = { x = 1 y = 1 }
					trm_medium_cs_armor = { x = 1 y = 2 }
					
					# Schützen-Regiment 4
					motorized = { x = 2 y = 0 }	
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					# Kradschützen-Bataillon 6
					motorcycle_infantry = { x = 2 y = 3 } 

					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot_med = { x = 3 y = 2 }
					anti_tank_brigade_mot =  { x = 3 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					artillery_heavy_mot = { x = 0 y = 2 }
					recon_ac = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
					anti_air_car = { x = 1 y = 4 }
				}
			}
			country_event = { id = germany.606 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
			
			division_template = {
				name = "Panzer-Division II '1940'"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 258
				
				regiments = {
					motorcycle_infantry = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }

					trm_medium_armor = { x = 2 y = 0 }
					trm_medium_armor = { x = 2 y = 1 }
					trm_medium_cs_armor = { x = 2 y = 2 }
					
					trm_medium_armor = { x = 3 y = 0 }
					trm_medium_armor = { x = 3 y = 1 }
					trm_medium_cs_armor = { x = 3 y = 2 }
					
					artillery_brigade_mot = { x = 4 y = 0 }	
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					artillery_heavy_mot = { x = 0 y = 2 }
					recon_ac = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
					anti_air_car = { x = 1 y = 4 }
				}
			}
		}
	}
	GER_60_inf_div_mot = {
		icon = ger_60_infdiv
		
		available = {
			date > 1940.8.15
			owns_state = 839
			has_tech = mechanised_infantry
			has_manpower > 16500
		}
		
		visible = {
			has_completed_focus = GER_Wehrmacht
			has_country_flag = GERinfdiv_60
			date > 1940.5.15
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 839
			}
		}
		
		cost = 15
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GERinfdiv_60_mot_dec_tt
			division_template = {
				name = "60. Inf.-Div.(mot.)"
				division_names_group = GER_Inf_60
				priority = 2
				template_counter = 162
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					
					mechanized = { x = 3 y = 0 }
					
					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					artillery_brigade_mot_med = { x = 4 y = 3 }
				}
				
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					engineer_mot = { x = 0 y = 1 }
					artillery_heavy_mot = { x = 0 y = 2 }
					recon_mot = { x = 0 y = 3 }
					anti_tank_mot = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			
			country_event = { id = germany.462 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_upgrade_7_pzdiv = {
		icon = ger_7_pzdiv
		
		available = {
			date > 1940.8.1
			has_manpower > 14000
			FRA = { has_capitulated = yes }
			844 = { is_controlled_by_ROOT_or_ally = yes } #Paris
			
			has_tech = tech_combat_engineers
			has_tech = tech_trm_medium_tank_chassis_ger_panzer3_2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			has_tech = tech_logistics_company2
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_1 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 14 }
			}
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_1 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_1 > 24 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
		}
		
		visible = {
			BEL = { has_capitulated = yes }
			has_country_flag = GER_7_PDiv
			NOT = { has_country_flag = GER_7_PDiv_1940 }
			date > 1940.5.1
			has_completed_focus = GER_achtung_panzer
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_7_Pz_Div_1940_dec_tt
			division_template = {
				name = "7 Pz-Div"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2019
				
				regiments = {
					#Panzer-Regiment 25
					trm_cavalry_armor = { x = 0 y = 0 } 	# Czech Pz35(t) tanks  I. Abteilung
					trm_light_armor = { x = 0 y = 1 }
					trm_medium_armor = { x = 0 y = 2 }
					trm_medium_cs_armor = { x = 0 y = 3 }
					
					# Panzer-abteilung 66
					trm_cavalry_armor = { x = 1 y = 0 } 	# Czech Pz38(t) tanks 
					trm_light_armor = { x = 1 y = 1 }
					trm_medium_cs_armor = { x = 1 y = 2 }
					
					#Schützen-Regiment 6
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					
					#Schützen-Regiment 7
					motorized = { x = 3 y = 0 }
					motorized = { x = 3 y = 1 }
					# Kradschützen-Btl 7
					motorcycle_infantry = { x = 3 y = 2 }  

					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot_med = { x = 4 y = 2 }
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					recon_ac = { x = 0 y = 2 }
					anti_tank_mot = { x = 0 y = 3 }
					anti_air_car = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			country_event = { id = germany.607 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_upgrade_9_pzdiv = {
		icon = ger_9_pzdiv
		
		available = {
			date > 1940.8.8
			FRA = { has_capitulated = yes }
			844 = { is_controlled_by_ROOT_or_ally = yes } #Paris
			has_manpower > 13540
			has_tech = tech_combat_engineers
			has_tech = tech_trm_light_tank_ger_panzer1_superstructure_open_1 
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			has_tech = tech_logistics_company2
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			has_design_based_on = trm_light_tank_artillery_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_1 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 14 }
			}
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_1 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_1 > 24 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 14 }
			}
			
			has_equipment = { trm_light_tank_artillery_chassis_ger_panzer1_2 > 19 }
		}
		
		visible = {
			FRA = { has_capitulated = yes }
			has_country_flag = GER_9_PDiv_1940
			NOT = { has_country_flag = GER_9_PDiv_AUG_1940 }
			date > 1940.5.8
			has_completed_focus = GER_achtung_panzer
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_9_Pz_Div_AUG_1940_dec_tt
			division_template = {
				name = "Pz-Div 9"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2023
				
				regiments = {
					#Panzer-Regiment 33
					trm_light_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					#Schützen-Regiment 10
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					
					trm_light_sp_artillery = { x = 2 y = 0 }
					
					#Schützen-Regiment 11
					motorized = { x = 3 y = 0 }
					motorized = { x = 3 y = 1 }
					motorized = { x = 3 y = 2 }
					
					artillery_brigade_mot = { x = 4 y = 0 }	
					artillery_brigade_mot = { x = 4 y = 1 }
					anti_tank_brigade_mot =  { x = 4 y = 2 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					recon_ac = { x = 0 y = 2 }
					artillery_heavy_mot = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
					anti_air_car = { x = 1 y = 4 }
				}
			}
			country_event = { id = germany.609 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_gd_regt_mot_art_sup = {
		icon = grossdeutschland
		
		available = {
			date > 1940.10.1
			17 = { is_controlled_by_ROOT_or_ally = yes }
			has_tech = tech_logistics_company2
			has_manpower > 9100
		}
		
		visible = {
			has_country_flag = gd_regt_mot_39
			has_country_flag = Units_enabled
			not = { has_country_flag = gd_regt_mot_art_39 }
			date > 1940.7.1
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 17
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			division_template = {
				name = "Inf.-Regt.-mot-art (GD)"	
				division_names_group = GER_GD_01
				is_locked = yes
				template_counter = 2001
				priority = 2
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					motorized = { x = 0 y = 3 }
					
					artillery_brigade_mot = { x = 1 y = 0 }
					anti_tank_brigade_mot =  { x = 1 y = 1 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					artillery_heavy_mot = { x = 0 y = 2 }
					recon_mot = { x = 0 y = 3 }
					
					logistics_company_mot = { x = 1 y = 0 }
					field_hospital = { x = 1 y = 1 }
					maintenance_company = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
					anti_air_car = { x = 1 y = 4 }
				}
			}
			
			country_event = { id = germany.404 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_forming_11_pzdiv = {
		icon = ger_11_pzdiv
		
		available = {
			has_manpower > 23100 #spawns 2 divs
			date > 1940.9.4
			FRA = { has_capitulated = yes }
			844 = { is_controlled_by_ROOT_or_ally = yes }	#Paris
			19 = { is_controlled_by_ROOT_or_ally = yes }	#Bordeaux
			
			has_tech = tech_combat_engineers
			has_tech = tech_trm_medium_tank_chassis_ger_panzer3_2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			has_tech = tech_logistics_company2
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_3 > 24 }
			}
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_3 > 24 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 24 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_3 > 24 }
			}
		}
		
		visible = {
			date > 1940.6.4
			has_country_flag = GER_5_PDiv_1939
			NOT = { has_country_flag = GER_11_PDiv }
			has_completed_focus = GER_achtung_panzer
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 66
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 0
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_11_Pz_Div_dec_tt
			
			division_template = {
				name = "Pz-Div 5"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2014
				
				regiments = {
					#Panzer-Regiment 31
					trm_light_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					#Schützen-Regiment 13
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					
					#Schützen-Regiment 14
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }

					#Artillerie-Regiment 116
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot_med = { x = 3 y = 2 }
					#Panzerjäger-Abteilung 53
					anti_tank_brigade_mot =  { x = 3 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					recon_ac = { x = 0 y = 2 }
					anti_air_car = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			division_template = {
				name = "Pz-Div 11"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2028
				
				regiments = {
					#Panzer-Regiment 15
					trm_light_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					##Schützen-Regiment 110
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					
					##Schützen-Regiment 111
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					#Kradschützen-Bataillon 61
					motorcycle_infantry = { x = 2 y = 2 }
					
					#Artillerie-Regiment 119
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot_med = { x = 3 y = 2 }
					#Panzerjäger-Abteilung 61
					anti_tank_brigade_mot =  { x = 3 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mech = { x = 0 y = 1 }
					recon_ac = { x = 0 y = 2 }
					anti_air_car = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mech = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			country_event = { id = germany.243 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_forming_12_pzdiv = {
		icon = ger_12_pzdiv
		
		available = {
			has_manpower > 12000
			date > 1940.10.5
			
			FRA = { has_capitulated = yes }
			844 = { is_controlled_by_ROOT_or_ally = yes }	#Paris
			
			has_tech = tech_combat_engineers
			has_tech = tech_trm_medium_tank_chassis_ger_panzer3_2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_2
			has_tech = tech_signal_company
			has_tech = interwar_antiair
			#has_tech = tech_command_tanks_I
			has_tech = tech_logistics_company2
			
			has_design_based_on = trm_medium_tank_chassis
			has_design_based_on = trm_medium_tank_cs_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_2 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer3_3 > 14 }
			}
			OR = {
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_2 > 24 }
				has_equipment = { trm_medium_tank_chassis_ger_panzer4_3 > 14 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_2 > 24 }
				has_equipment = { trm_medium_tank_cs_chassis_ger_panzer4_3 > 14 }
			}
		}
		
		visible = {
			date > 1940.10.5
			has_country_flag = mot_2
			NOT = { has_country_flag = GER_12_PDiv }
			has_completed_focus = GER_achtung_panzer
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 0
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_12_Pz_Div_dec_tt
			division_template = {
				name = "Pz-Div 12"
				division_names_group = GER_Arm_01
				priority = 2
				template_counter = 2032
				
				regiments = {
					#Panzer-Regiment 29
					trm_light_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					#Schützen-Regiment 5
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					
					#Schützen-Regiment 25
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					#Kradschützen-Bataillon 22
					motorcycle_infantry = { x = 2 y = 2 }

					#Artillerie-Regiment 2
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot_med = { x = 3 y = 2 }
					#Panzerjäger-Abteilung 2
					anti_tank_brigade_mot =  { x = 3 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					combat_engineer_mot = { x = 0 y = 1 }
					recon_ac = { x = 0 y = 2 }
					anti_air_car = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
					
				}
			}
			country_event = { id = germany.244 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
	}
	GER_motorise_16_infdiv = {
		
		icon = ger_16_infdiv
		
		available = {
			has_equipment = { anti_tank_equipment > 24 }
			50 = { is_controlled_by = GER }
			date > 1940.8.6
			has_tech = tech_logistics_company2
			has_manpower > 15050
		}
		
		visible = {
			has_completed_focus = GER_Wehrmacht
			has_country_flag = welle_one
			NOT = { has_country_flag = mot_16 }
			date > 1940.5.6
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 50
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			add_war_support = 0.025
			custom_effect_tooltip =  GER_mot_16_dec_tt
			division_template = {
				name = "16 Inf-Div(mot.)"		
				division_names_group = GER_MOT_01
				priority = 2
				template_counter = 174
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }

					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot = { x = 3 y = 2 }
					anti_tank_brigade_mot =  { x = 3 y = 3 }
				}
				support = {
					DIV_HQ_car = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					engineer_mot = { x = 0 y = 2 }
					anti_tank_mot =  { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
				}
			}
			country_event = { id = germany.259 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	###1941
	GER_motorise_25_infdiv = {
		
		icon = ger_25_infdiv
		
		available = {
			has_equipment = { anti_tank_equipment > 24 }
			57 = { is_controlled_by = GER }
			date > 1941.3.6
			has_tech = tech_logistics_company2
			has_manpower > 15050
		}
		
		visible = {
			has_completed_focus = GER_Wehrmacht
			has_country_flag = mot_29
			NOT = { has_country_flag = mot_25 }
			date > 1940.12.6
		}
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			add_war_support = 0.025
			custom_effect_tooltip =  GER_mot_25_dec_tt
			country_event = { id = germany.260 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_motorise_10_infdiv = {
		
		icon = ger_10_infdiv
		
		available = {
			has_equipment = { anti_tank_equipment > 24 }
			53 = { is_controlled_by = GER }
			date > 1941.05.06
			has_tech = tech_logistics_company2
			has_manpower > 15050
		}
		
		visible = {
			has_completed_focus = GER_Wehrmacht
			has_country_flag = mot_29
			NOT = { 
				has_country_flag = mot_10 
				has_country_flag = mot_10_no
				has_country_flag = mot_29_no
			}
			check_variable = { global.days_passed > 1799 } #1940.12.6
		}
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			#add_war_support = 0.025
			custom_effect_tooltip =  GER_mot_10_dec_tt
			country_event = { id = germany.262 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	
	### 1942
	GER_gd_div_42 = {
		
		icon = grossdeutschland
		
		available = {
			date > 1942.05.1
			
			893 = { is_controlled_by_ROOT_or_ally = yes }
			has_tech = tech_trm_light_tank_ger_panzer1_aa_open_1 
			has_tech = tech_trm_medium_tank_ger_panzer3_casemate_1 
			has_tech = tech_Headquarters2
			has_tech = mechanised_infantry
			
			has_design_based_on = trm_medium_tank_assault_gun_chassis
			has_design_based_on = trm_light_tank_aa_chassis
			
			OR = {
				has_equipment = { trm_medium_tank_assault_gun_chassis_ger_panzer3_3 > 24 }
				has_equipment = { trm_medium_tank_assault_gun_chassis_ger_panzer3_4 > 14 }
			}
			OR = {
				has_equipment = { trm_light_tank_aa_chassis_ger_panzer1_1 > 14 }
				has_equipment = { trm_light_tank_aa_chassis_ger_panzer1_2 > 14 }
			}
		}
		
		visible = {
			has_completed_focus = GER_Wehrmacht
			has_country_flag = gd_regt_mot_art_39
			has_country_flag = Units_enabled
			not = { has_country_flag = gd_div_mot_42 }
			date > 1942.2.1
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 893
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			division_template = {
				name = "Inf.-Div.-mot (GD)"
				division_names_group = GER_GD_01
				is_locked = yes
				template_counter = 2002
				priority = 2
				
				regiments = {
					motorized = { x = 0 y = 0 }
					motorized = { x = 0 y = 1 }
					motorized = { x = 0 y = 2 }
					motorized = { x = 0 y = 3 }
					
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					motorized = { x = 1 y = 3 }
					
					mechanized = { x = 2 y = 0 }
					
					trm_medium_armor = { x = 3 y = 0 }
					trm_medium_assault_gun = { x = 3 y = 1 }
					
					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_mech = { x = 0 y = 0 }
					combat_engineer_mech = { x = 0 y = 1 }
					anti_air_car = { x = 0 y = 2 }
					recon_mot = { x = 0 y = 3 }
					artillery_heavy_mot = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mot = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					trm_light_sp_anti_air_support = { x = 1 y = 3 }
				}
			}
			
			country_event = { id = germany.402 hours = 6 }
			
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_forming_24_pzdiv = {
		
		icon = ger_1_kavdiv
		
		available = {
			date > 1942.5.5
			has_manpower > 13900
			has_equipment = { anti_tank_equipment > 24 }
			839 = { is_controlled_by = GER }
			
			has_tech = tech_logistics_company2
			has_tech = tech_trm_medium_tank_chassis_ger_panzer4_1
			has_tech = tech_signal_company2
			has_tech = mechanised_infantry
		}
		
		visible = {
			has_completed_focus = GER_achtung_panzer
			has_country_flag = GER_kav_div_1
			NOT = { has_country_flag = GER_24_PDiv }
			check_variable = { global.days_passed > 2163 } #1941.12.5
		}
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			
			custom_effect_tooltip =  GER_24_Pz_Div_dec_tt
			division_template = {
				name = "Pz-Div 24"			
				division_names_group = GER_ARM_01
				priority = 2
				template_counter = 2038
				
				regiments = {
					trm_medium_armor = { x = 0 y = 0 }
					trm_medium_armor = { x = 0 y = 1 }
					trm_medium_cs_armor = { x = 0 y = 2 }
					
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
					
					mechanized = { x = 3 y = 0 }
					
					artillery_brigade_mot = { x = 4 y = 0 }
					artillery_brigade_mot = { x = 4 y = 1 }
					artillery_brigade_mot = { x = 4 y = 2 }
					anti_tank_brigade_mot =  { x = 4 y = 3 }
				}
				support = {
					DIV_HQ_mech = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					engineer_mot = { x = 0 y = 2 }
					anti_tank_mot =  { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mech = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			country_event = { id = germany.252 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	### 1943
	GER_gd_div_43 = {
		
		icon = grossdeutschland
		
		available = {
			date > 1943.05.1
			259 = { is_controlled_by_ROOT_or_ally = yes }
			has_manpower > 14460
			has_tech = mechanised_infantry2
			has_tech = tech_trm_medium_advanced_tank_chassis_ger_panther_1
			has_tech = tech_trm_light_tank_ger_panzer1_aa_open_1 
			has_tech = tech_trm_cavalry_tank_ger_pz38_superstructure_open_1 
			has_tech = tech_trm_medium_tank_ger_panzer3_casemate_1
			has_tech = tech_trm_heavy_tank_chassis_ger_tiger_1
			has_tech = tech_Headquarters2
			has_tech = tech_logistics_company2
		}
		
		visible = {
			has_completed_focus = GER_Wehrmacht
			has_country_flag = gd_div_mot_42
			not = { has_country_flag = gd_div_pzgren_43 }
			date > 1943.2.1
		}
		
		highlight_states = { 
			highlight_state_targets = {
				state = 259
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			division_template = {
				name = "Pz.Gen-Div.(GD)" 			
				division_names_group = GER_GD_01
				is_locked = yes
				template_counter = 2003
				priority = 2
				
				regiments = {
					mechanized = { x = 0 y = 0 }
					mechanized = { x = 0 y = 1 }
					mechanized = { x = 0 y = 2 }
					mechanized = { x = 0 y = 3 }
					
					mechanized = { x = 1 y = 0 }
					mechanized = { x = 1 y = 1 }
					mechanized = { x = 1 y = 2 }
					mechanized = { x = 1 y = 3 }
					
					trm_medium_armor = { x = 2 y = 0 }
					trm_medium_advanced_armor = { x = 2 y = 1 }
					trm_heavy_armor = { x = 2 y = 2 }		#joined in august 1943.
					
					trm_cavalry_sp_artillery = { x = 3 y = 0 }
					trm_cavalry_sp_artillery = { x = 3 y = 1 }
					trm_cavalry_sp_artillery = { x = 3 y = 2 }
					motorized_rocket_brigade = { x = 3 y = 3 }
					
					trm_medium_tank_destroyer = { x = 4 y = 0 }
				}
				support = {
					DIV_HQ_mech = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					anti_air_car = { x = 0 y = 2 }
					anti_air_heavy = { x = 0 y = 3 }
					trm_light_sp_anti_air_support = { x = 0 y = 4 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mech = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					combat_engineer_mech = { x = 1 y = 3 }
					artillery_heavy_mot = { x = 1 y = 4 }
				}
			}
			
			country_event = { id = germany.403 hours = 6 }
			hidden_effect = { update_all_subunits = yes }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_29_pzgren_div = {
		icon = ger_29_pzgrendiv
		
		available = {
			date > 1943.10.11
			has_manpower > 11450
			has_tech = mechanised_infantry2
			has_tech = tech_Headquarters2
			has_tech = tech_trm_medium_advanced_tank_chassis_ger_panther_1
			has_tech = tech_trm_medium_tank_ger_panzer4_aa_open_1
			has_tech = tech_trm_medium_tank_ger_panzer3_casemate_1
			has_tech = tech_Headquarters2
			has_tech = tech_logistics_company2
		}
		visible = {
			date > 1943.7.11
			has_country_flag = mot_29
			NOT = { has_country_flag = GER_Pzgren_29 }
		}
		
		#highlight_state_targets = {
		#	state = 60
		#}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			custom_effect_tooltip = GER_pzgren_29_dec_tt
			division_template = {
				name = "29 Pzgren-Div"
				division_names_group = GER_MEC_01
				priority = 2
				template_counter = 203
				
				regiments = {
					mechanized = { x = 0 y = 0 }
					mechanized = { x = 0 y = 1 }
					mechanized = { x = 0 y = 2 }
					
					mechanized = { x = 1 y = 0 }
					mechanized = { x = 1 y = 1 }
					mechanized = { x = 1 y = 2 }
					
					trm_medium_assault_gun = { x = 2 y = 0 }
					trm_medium_assault_gun = { x = 2 y = 1 }
					trm_medium_tank_destroyer = { x = 2 y = 2 }
					
					trm_medium_advanced_armor = { x = 3 y = 0 } #Panzer-Abteilung 59
					
					artillery_brigade_mot = { x = 3 y = 0 }
					artillery_brigade_mot = { x = 3 y = 1 }
					artillery_brigade_mot_med = { x = 3 y = 2 }
					anti_tank_brigade_mot =  { x = 3 y = 3 }
				}
				support = {
					DIV_HQ_mech = { x = 0 y = 0 }
					recon_ac = { x = 0 y = 1 }
					combat_engineer_mech = { x = 0 y = 2 }
					trm_medium_sp_anti_air_support = { x = 0 y = 3 }
					
					maintenance_company = { x = 1 y = 0 }
					logistics_company_mech = { x = 1 y = 1 }
					field_hospital = { x = 1 y = 2 }
					signal_company_mot = { x = 1 y = 3 }
				}
			}
			hidden_effect = { update_all_subunits = yes }
			country_event = { id = germany.257 hours = 6 }
		}
		
		ai_will_do = {
			factor = 200
		}
	}
	GER_jaegernotprogramm = {

		icon = generic_air

		available = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 750
				}
				has_equipment = {
					fighter_equipment < 250
				}
			}
			NOT = {
				has_idea = GER_jaegernotprogramm
			}
		}

		cost = 50

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 750
				}
				has_equipment = {
					fighter_equipment < 250
				}
			}
			NOT = {
				has_idea = GER_jaegernotprogramm
			}
		}

		complete_effect = {
			add_timed_idea = { idea = GER_jaegernotprogramm days = 180 }
		}
	}
}

GER_naval_buildup = {
	# Plan Z - modified for naval rework mod (nrm). Further work planned by Yagashura
	# numbers just pulled out of my a** or left as they were. 
	# Idea: make it work first, then improve
	# Modified by Elouda as part of German Naval NF Rework
	GER_plan_z = {

		icon = generic_naval

		available = {
			has_navy_size = {
				unit = battleship
				size > 9
			}
			has_navy_size = {
				unit = battle_cruiser
				size > 2
			}
			has_navy_size = {
				unit = fleet_carrier
				size > 3
			}
			has_navy_size = {
				unit = pocket_battleship
				size > 14
			}
			has_navy_size = {
				unit = heavy_cruiser
				size > 4
			}
			has_navy_size = {
				unit = light_cruiser
				size > 34
			}
			has_navy_size = {
				unit = destroyer
				size > 67
			}
			has_navy_size = {
				unit = torpedo_boat
				size > 89
			}
		}

		is_good = no
		fire_only_once = yes
		days_mission_timeout = 2920

		activation = {
			has_idea = GER_idea_plan_z
		}
		
		visible = {
			has_idea = GER_idea_plan_z
		}

		complete_effect = {
			add_war_support = 0.1
			add_stability = 0.05
			navy_experience = 200
		}
		
		timeout_effect = {
			add_war_support = -0.1
			navy_experience = -50
			add_political_power = -200
		}
	}
	
	GER_plan_z_cancel = {

		icon = generic_naval
		
		cost = 100

		available = {
			has_idea = GER_idea_plan_z
		}
		
		visible = {
			has_idea = GER_idea_plan_z
		}
		
		complete_effect = {
			remove_mission = GER_plan_z
			remove_ideas = GER_idea_plan_z
			add_war_support = -0.05
		}
	}
	
	GER_plan_z_expansion_1 = {
		icon = ger_mefo_bills
		available = {
			num_of_civilian_factories_available_for_projects > 6
			num_of_naval_factories > 19
		}
		visible = {
			has_completed_focus = GER_plan_z
			has_idea = GER_idea_plan_z
		}
		cost = 25
		days_remove = 210
		fire_only_once = yes
		ai_will_do = {
			factor = 0
		}
		modifier = { 
			civilian_factory_use = 15
		}
		remove_effect = {
			random_owned_controlled_state = {
				prioritize = { 59 }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = shipyard_capital_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = shipyard
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = { has_country_flag = GER_PlanZ_Expansion }
				if = {
					limit = { has_tech = ship_industry2 }
					set_technology = { popup = no ship_industry3 = 1 }
				}
				else_if = {
					limit = { has_tech = ship_industry }
					set_technology = { popup = no ship_industry2 = 1 }
				}
				else = {
					set_technology = { popup = no ship_industry = 1 }
				}
			}
			set_country_flag = GER_PlanZ_Expansion
		}
	}
	GER_plan_z_expansion_2 = {
		icon = ger_mefo_bills
		available = {
			num_of_civilian_factories_available_for_projects > 6
			num_of_naval_factories > 19
		}
		visible = {
			has_completed_focus = GER_plan_z
			has_idea = GER_idea_plan_z
		}
		cost = 25
		days_remove = 180
		fire_only_once = yes
		ai_will_do = {
			factor = 0
		}
		modifier = { 
			civilian_factory_use = 15
		}
		remove_effect = {
			random_owned_controlled_state = {
				prioritize = { 56 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = shipyard_capital_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = shipyard
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = { has_country_flag = GER_PlanZ_Expansion }
				if = {
					limit = { has_tech = ship_industry2 }
					set_technology = { popup = no ship_industry3 = 1 }
				}
				else_if = {
					limit = { has_tech = ship_industry }
					set_technology = { popup = no ship_industry2 = 1 }
				}
				else = {
					set_technology = { popup = no ship_industry = 1 }
				}
			}
			else = {
				set_country_flag = GER_PlanZ_Expansion
			}
		}
	}
}

GER_fm_promotion = {
	FM_promotion_39 = {
		icon = generic_air
				
		available = {
			POL = {
				has_capitulated = yes
			}
			command_power > 24.9
		}
		
		visible = {
			has_war = yes
		}
		
		fire_only_once = yes
		
		cost = 0
		
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			effect_tooltip = {
				GER_fedor_von_bock = {
					promote_leader = yes
				}
				GER_gerd_von_rundstedt = {
					promote_leader = yes
				}
				GER_leeb_wilhelm_ritter_von = {
					promote_leader = yes
				}
			}
			hidden_effect = {
				add_command_power = -25
			}
			country_event = { id = promotion.1 hours = 6 }
		}
		custom_cost_trigger = {
			command_power > 24.9
		}
		custom_cost_text = cp_atleast_25
	}
}

special_projects = {
	GER_dismantle_maginot = {
		allowed = { tag = GER }

		icon = generic_construction

		available = {
			#has_war = yes
			controls_state = 28
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				controls_state = 18
				controls_state = 29
			}
		}
		
		cosmetic_tag = FRA
		cosmetic_ideology = conservatism

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		visible = {
			#NOT = {has_country_flag = GER_dismantled_maginot}
			#has_war = yes
			controls_state = 28
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				controls_state = 18
				controls_state = 29
			}
		}
		
		days_remove = 180
		
		modifier = {
			civilian_factory_use = 40
		}
		
		remove_effect = {
			if = {
				limit = {
					original_tag = FRA
					OR = {
						AND = {
							GER = { exists = yes }
							GER = { has_government = fascism }
						}
						has_war = yes 
					}
				}
				remove_ideas = FRA_protected_by_the_maginot_line
				add_stability = -0.5
				add_war_support = -0.5
			 }
			28 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 2
					}
				}
			}
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				18 = {
					set_building_level = {
						type = bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
				29 = {
					set_building_level = {
						type = bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
			}
		}
		
		complete_effect = {
			custom_effect_tooltip = GER_dismantle_maginot_tooltip
			if = {
				limit = { FRA = { has_completed_focus = FRA_extend_the_maginot_line } }
				add_timed_idea = { idea = GER_dismantle_maginot days = 210 }
				GER = {
					add_equipment_to_stockpile = {
						type = Hvartillery_equipment_0
						amount = 75
						producer = FRA
					}
					add_equipment_to_stockpile = {
						type = railartillery_equipment_0
						amount = 15
						producer = FRA
					}
					create_railway_gun = {
						equipment = railway_gun_equipment_1
					}
				}
			}
			else = {
				add_timed_idea = { idea = GER_dismantle_maginot days = 180 }
				GER = {
					add_equipment_to_stockpile = {
						type = Hvartillery_equipment_0
						amount = 60
						producer = FRA
					}
					add_equipment_to_stockpile = {
						type = railartillery_equipment_0
						amount = 10
						producer = FRA
					}
					create_railway_gun = {
						equipment = railway_gun_equipment_0
					}
				}
			}
			set_country_flag = GER_dismantled_maginot
			divide_variable = { atlantikwall_construction_time = 2 }
			divide_variable = { ostwall_construction_time = 2 }
			divide_variable = { westwall_construction_time = 4 }
		}
	}
	GER_atlantikwall = {
		allowed = {
			tag = GER
			
		}
		cost = 50
		ai_will_do = {
			factor = 100
			modifier = {
				add = -50
				USA = { is_ai = yes }
				ENG = { is_ai = yes }
			}
			modifier = {
				add = -50
				check_variable = {atlantikwall_level > 0 }
			}
			modifier = {
				add = -50
				check_variable = {atlantikwall_level > 1 }
			}
		}
		days_remove = atlantikwall_construction_time
		visible = {
			has_completed_focus = GER_atlantikwall
			check_variable = { atlantikwall_level = 3 compare = less_than }
		}
		available = {
			36 = { is_controlled_by_ROOT_or_ally = yes }
			7 = { is_controlled_by_ROOT_or_ally = yes }
			6 = { is_controlled_by_ROOT_or_ally = yes }
			29 = { is_controlled_by_ROOT_or_ally = yes }
			886 = { is_controlled_by_ROOT_or_ally = yes }
			15 = { is_controlled_by_ROOT_or_ally = yes }
			14 = { is_controlled_by_ROOT_or_ally = yes }
			30 = { is_controlled_by_ROOT_or_ally = yes }
			23 = { is_controlled_by_ROOT_or_ally = yes }
			19 = { is_controlled_by_ROOT_or_ally = yes }
		}
		
		complete_effect = {
			if = {
				limit = { has_country_flag = GER_dismantled_maginot }
				custom_effect_tooltip = GER_dismantled_maginot_tooltip
			}
			if = {
				limit = { check_variable = { atlantikwall_level = 0 }} #Atlantikwall has not been built
				add_timed_idea = {
					idea = GER_atlantikwall
					days = atlantikwall_construction_time
				}
			}
			else_if = {
				limit = { check_variable = { atlantikwall_level = 1 }}
				add_timed_idea = {
					idea = GER_atlantic_wall_med_focus
					days = atlantikwall_construction_time
				}
			}
			else_if = {
				limit = { check_variable = { atlantikwall_level = 2 }}
				add_timed_idea = {
					idea = GER_atlantic_wall_heavy_focus
					days = atlantikwall_construction_time
				}
			}
		}
		highlight_states = { 
			highlight_state_targets = {
				state = 15
			}
		}
		remove_effect = {
			add_to_variable = { atlantikwall_level = 1 }
			if = {
				limit = { check_variable = { atlantikwall_level = 0 }} #Atlantikwall has not been built
				36 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6336
						instant_build = yes
					}
				}
				7 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 3314
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 391
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9498
						instant_build = yes
					}
				}
				6 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6446
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6598
						instant_build = yes
					}
				}
				29 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 575
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11548
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
							level = 1
							province = 9500
							instant_build = yes
						}
					}
			}
			else_if = {
				limit = { check_variable = { atlantikwall_level = 1 }}
				36 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 6336
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11318
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9335
						instant_build = yes
					}
				}
				7 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 3314
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 391
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 9498
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 68
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 3211
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9431
						instant_build = yes
					}
				}
				6 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6560
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 6446
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 6598
						instant_build = yes
					}
				}
				29 = {
					add_building_construction = {
							type = coastal_bunker
							level = 3
							province = 575
							instant_build = yes
						}
					add_building_construction = {
							type = coastal_bunker
							level = 3
							province = 11548
							instant_build = yes
						}
					add_building_construction = {
							type = coastal_bunker
							level = 3
							province = 9500
							instant_build = yes
						}
				}
				886 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 11420
						instant_build = yes
					}
				}
				15 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 485
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 9434
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6599
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11535
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 3579
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 6449
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9550
						instant_build = yes
					}
				}
				14 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11508
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9525
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6572
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 3552
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 542
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 6536
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9510
						instant_build = yes
					}
				}
				30 = {
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11465
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11616
						instant_build = yes
					}
				}
				23 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11600
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 6657
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9597
						instant_build = yes
					}
				}
				19 = {
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11565
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6777
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9710
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 743
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = { check_variable = { atlantikwall_level = 2 }}
				36 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 6336
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11318
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9335
						instant_build = yes
					}
				}
				7 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 3314
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 391
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 9498
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 68
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 3211
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9431
						instant_build = yes
					}
				}
				6 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6560
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 6446
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 6598
						instant_build = yes
					}
				}
				29 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 575
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 11548
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 9500
						instant_build = yes
					}
				}
				886 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 11420
						instant_build = yes
					}
				}
				15 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 485
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 9434
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6599
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11535
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 3579
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 6449
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9550
						instant_build = yes
					}
				}
				14 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11508
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9525
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6572
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 3552
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 542
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 6536
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9510
						instant_build = yes
					}
				}
				30 = {
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11465
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11616
						instant_build = yes
					}
				}
				23 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 11600
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 6657
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9597
						instant_build = yes
					}
				}
				19 = {
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11565
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 6777
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9710
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 743
						instant_build = yes
					}
				}
			}
			if = {
				limit = { check_variable = { atlantikwall_level = 1 }}
				set_variable = { atlantikwall_construction_time = 64 }
			}
			else_if = {
				limit = { check_variable = { atlantikwall_level = 2 }}
				set_variable = { atlantikwall_construction_time = 72 }
			}
			else_if = {
				limit = {
					check_variable = { atlantikwall_level = 3 }
				}
				#clear_variable = atlantikwall_level
				clear_variable = atlantikwall_construction_time
			}
			if = {
				limit = { has_country_flag = GER_dismantled_maginot }
				divide_variable = { atlantikwall_construction_time = 2 }
			}
		}
	}
	GER_ostwall = {
		allowed = {
			tag = GER
			
		}
		cost = 50
		ai_will_do = {
			factor = 0
		}
		days_remove = ostwall_construction_time
		visible = {
			has_completed_focus = GER_ostwall
			check_variable = { ostwall_level = 3 compare = less_than }
		}
		available = {
			893 = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
		highlight_states = { 
			highlight_state_targets = {
				state = 839
			}
		}
		complete_effect = {
			if = {
				limit = { has_country_flag = GER_dismantled_maginot }
				custom_effect_tooltip = GER_dismantled_maginot_tooltip
			}
			if = {
				limit = { check_variable = { ostwall_level = 0 } } #ostwall has not been built
				add_timed_idea = {
					idea = GER_ostwall
					days = ostwall_construction_time
				}
			}
			else_if = {
				limit = { check_variable = { ostwall_level = 1 } }
				add_timed_idea = {
					idea = GER_ost_wall_medium_focus
					days = ostwall_construction_time
				}
			}
			else_if = {
				limit = { check_variable = { ostwall_level = 2 } }
				add_timed_idea = {
					idea = GER_ost_wall_heavy_focus
					days = ostwall_construction_time
				}
			}
		}
		remove_effect = {
			add_to_variable = { ostwall_level = 1 }
			if = {
				limit = { check_variable = { ostwall_level = 0 } } #ostwall has not been built
				893 = {
					add_building_construction = {
						type = bunker
						level = 3
						province = 11478
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 444
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = { check_variable = { ostwall_level = 1 } }
				893 = {
					add_building_construction = {
						type = bunker
						level = 3
						province = 11478
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 444
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = { check_variable = { ostwall_level = 2 } }
				893 = {
					add_building_construction = {
						type = bunker
						level = 6
						province = 11478
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 6
						province = 444
						instant_build = yes
					}
				}
			}
			if = {
				limit = { check_variable = { ostwall_level = 1 }}
				set_variable = { ostwall_construction_time = 35 } #prep for level 2 construction time
			}
			else_if = {
				limit = { check_variable = { ostwall_level = 2 }}
				set_variable = { ostwall_construction_time = 56 } #prep for level 3 construction time
			}
			else_if = {
				limit = {
					check_variable = { ostwall_level = 3 }
				}
				#clear_variable = ostwall_level
				clear_variable = ostwall_construction_time
			}
			if = {
				limit = { has_country_flag = GER_dismantled_maginot }
				divide_variable = { ostwall_construction_time = 2 }
			}
		}
	}
	GER_westwall = {
		allowed = {
			tag = GER
		}
		cost = 50
		ai_will_do = {
			factor = 100
			modifier = {
				add = -50
				FRA = { is_ai = yes }
			}
			modifier = {
				add = -50
				check_variable = {westwall_level > 0 }
			}
			modifier = {
				add = -50
				check_variable = {westwall_level > 1 }
			}
		}
		days_remove = westwall_construction_time
		visible = {
			has_completed_focus = GER_westwall
			check_variable = { westwall_level = 3 compare = less_than }
			NOT = {has_global_flag = fall_of_france}
		}
		available = {
			893 = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
		highlight_states = { 
			highlight_state_targets = {
				state = 899
			}
		}
		complete_effect = {
			if = {
				limit = { has_country_flag = GER_dismantled_maginot }
				custom_effect_tooltip = GER_dismantled_maginot_tooltip
			}
			if = {
				limit = { check_variable = { westwall_level = 0 }} #westwall has not been built
				add_timed_idea = {
					idea = GER_westwall
					days = westwall_construction_time
				}
			}
			else_if = {
				limit = { check_variable = { westwall_level = 1 } }
				add_timed_idea = {
					idea = GER_west_wall_med
					days = westwall_construction_time
				}
			}
			else_if = {
				limit = { check_variable = { westwall_level = 2 } }
				add_timed_idea = {
					idea = GER_west_wall_Hv
					days = westwall_construction_time
				}
			}
		}
		remove_effect = {
			add_to_variable = { westwall_level = 1 }
			if = {
				limit = {check_variable = {westwall_level = 0 }}
				899 = {
					if = {
						limit = {
							is_controlled_by = GER
						}
						custom_effect_tooltip = GER_westwall_forts
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 2
								province = 11640
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 6712
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 6542
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 3530
								instant_build = yes
							}
						}
					}
				}
				if = {
					limit = {
						42 = {
							is_demilitarized_zone = yes
						}
					}
					custom_effect_tooltip = GER_westwall_tt
				}
				42 = {
					if = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
						}
						custom_effect_tooltip = GER_westwall_forts_6
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 2
								province = 3558
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 563
								instant_build = yes
							}
						}
					}
				}
				if = {
					limit = {
						895 = {
							is_demilitarized_zone = yes
						}
					}
					custom_effect_tooltip = GER_westwall_tt
				}
				895 = {
					if = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
						}
						custom_effect_tooltip = GER_westwall_forts_6
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 2
								province = 11531
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 9575
								instant_build = yes
							}
						}
					}
				}
			}
			else_if = {
				limit = {check_variable = {westwall_level = 1 }}
				899 = {
					if = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
						}
						custom_effect_tooltip = GER_west_wall_Hv_forts
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 2
								province = 11640
								instant_build = yes
							}
							add_building_construction = {
									type = bunker
								level = 2
								province = 6712
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 6542
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 3530
								instant_build = yes
							}
						}
					}
				}
				if = {
					limit = {
						42 = {
							is_demilitarized_zone = yes
						}
						895 = {
							is_demilitarized_zone = yes
						}
					}
					custom_effect_tooltip = GER_west_wall_Hv_tt
				}
				42 = {
					if = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
						}
						custom_effect_tooltip = GER_west_wall_Hv_forts_8
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 2
								province = 3558
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 563
								instant_build = yes
							}
						}
					}
				}
				895 = {
					if = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
						}
						custom_effect_tooltip = GER_west_wall_Hv_forts_8
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 2
								province = 11531
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 9575
								instant_build = yes
							}
						}
					}
				}
			}
			else_if = {
				limit = {check_variable = {westwall_level = 2 }}
				899 = {
					if = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
						}
						custom_effect_tooltip = GER_west_wall_Hv_forts
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 2
								province = 11640
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 6712
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 6542
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 3530
								instant_build = yes
							}
						}
					}
				}
				if = {
					limit = {
						42 = {
							is_demilitarized_zone = yes
						}
						895 = {
							is_demilitarized_zone = yes
						}
					}
					custom_effect_tooltip = GER_west_wall_Hv_tt
				}
				42 = {
					if = {
						limit = {
								is_controlled_by_ROOT_or_ally = yes
							}
						custom_effect_tooltip = GER_west_wall_Hv_forts_8
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 2
								province = 3558
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 563
								instant_build = yes
							}
						}
					}
				}
				895 = {
					if = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
						}
						custom_effect_tooltip = GER_west_wall_Hv_forts_8
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 2
								province = 11531
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 2
								province = 9575
								instant_build = yes
							}
						}
					}
				}
			}
			if = {
				limit = {check_variable = { westwall_level = 1 }}
				set_variable = { westwall_construction_time = 40 }
			}
			else_if = {
				limit = {check_variable = { westwall_level = 2 }}
				set_variable = { westwall_construction_time = 56 }
			}
			else_if = {
				limit = {
					check_variable = { westwall_level = 3 }
				}
				#clear_variable = westwall_level
				clear_variable = westwall_construction_time
			}
			if = {
				limit = { has_country_flag = GER_dismantled_maginot }
				divide_variable = { westwall_construction_time = 4 }
			}
		}
	}
}

### EOF ###
