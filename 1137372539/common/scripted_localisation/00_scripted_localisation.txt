# Allows you to create your own dynamic keys
# to be called in localization.
# defined_text -> this is it, we're defining the text
# text -> a discrete entry that can be picked to display in loc.
# trigger -> determines if a text entry will be picked or not.
# (The triggers need to be valid for the scope the key is called in
# (eg Root or From.From).)
# localization_key -> points to the localization key
# that'll be used if trigger passes


defined_text = { 
    name = GetAIObsolete

    text = {
		trigger = {  
			is_ai = yes
		}
        localization_key = "obsolete = yes"
    }
}
defined_text = { 
    name = GetAIParent

    text = {
		trigger = {  
			is_ai = yes
		}
        localization_key = "AI_PARENT"
    }
    text = {
        localization_key = "0"
    }
}
defined_text = { 
    name = GetAIMarkObsolete

    text = {
		trigger = {  
			is_ai = yes
		}
        localization_key = "mark_older_equipment_obsolete = yes"
    }
}
defined_text = { 
    name = GetAIDesignTeam

    text = {
		trigger = {  
			is_ai = yes
			has_dlc = "Arms Against Tyranny"
		}
        localization_key = "design_team = var:best_designer"
    }
}
defined_text = { 
    name = GetAIDesignTeamVariant

    text = {
		trigger = {  
			has_dlc = "Arms Against Tyranny"
		}
        localization_key = "design_team = var:variant_best_designer"
    }
}
defined_text = { 
	name = GetTab 
	text = {
		localization_key = "    "
	}
}

defined_text = {
	name = SS_poppupSetting

	text = {
		trigger = { has_country_flag = SS_poppup_events }
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		trigger = { NOT = { has_country_flag = SS_poppup_events } }
		localization_key = "GFX_EAI_checkbox_off"
	}
}

defined_text = {
	name = BI_GetSSpoppupTT
	text = {
		trigger = {
			NOT = { has_country_flag = SS_poppup_events }
		}
		localization_key = "NO_SS_POPPUPS_TT"
	}
	text = {
		localization_key = "SHOW_SS_POPPUPS_TT"
	}
}
defined_text = {
	name = GetNumHighCommandArmy
	text = {
		trigger = {  
			has_country_flag = { flag = has_high_command_army value = 2 }
		}
		localization_key = "2 " 
	}
	text = {
		trigger = {  
			has_country_flag = { flag = has_high_command_army value = 1 }
		}
		localization_key = "1 " 
	}
	text = {
		localization_key = "0 " 
	}
}
defined_text = {
	name = GetNumHighCommandAir
	text = {
		trigger = {  
			has_country_flag = { flag = has_high_command_air value = 2 }
		}
		localization_key = "2 " 
	}
	text = {
		trigger = {  
			has_country_flag = { flag = has_high_command_air value = 1 }
		}
		localization_key = "1 " 
	}
	text = {
		localization_key = "0 " 
	}
}
defined_text = {
	name = GetNumHighCommandNavy
	text = {
		trigger = {  
			has_country_flag = { flag = has_high_command_navy value = 2 }
		}
		localization_key = "2 " 
	}
	text = {
		trigger = {  
			has_country_flag = { flag = has_high_command_navy value = 1 }
		}
		localization_key = "1 " 
	}
	text = {
		localization_key = "0 " 
	}
}

defined_text = {
	name = GetNumTheoristArmy
	text = {
		trigger = {  
			has_country_flag = { flag = has_theorist_army value = 2 }
		}
		localization_key = "2 " 
	}
	text = {
		trigger = {  
			has_country_flag = { flag = has_theorist_army value = 1 }
		}
		localization_key = "1 " 
	}
	text = {
		localization_key = "0 " 
	}
}
defined_text = {
	name = GetNumTheoristAir
	text = {
		trigger = {  
			has_country_flag = { flag = has_theorist_air value = 2 }
		}
		localization_key = "2 " 
	}
	text = {
		trigger = {  
			has_country_flag = { flag = has_theorist_air value = 1 }
		}
		localization_key = "1 " 
	}
	text = {
		localization_key = "0 " 
	}
}
defined_text = {
	name = GetNumTheoristNavy
	text = {
		trigger = {  
			has_country_flag = { flag = has_theorist_navy value = 2 }
		}
		localization_key = "2 " 
	}
	text = {
		trigger = {  
			has_country_flag = { flag = has_theorist_navy value = 1 }
		}
		localization_key = "1 " 
	}
	text = {
		localization_key = "0 " 
	}
}

defined_text = {
	name = GetPartyDrift
	text = {
		trigger = { 
			check_variable = { current_party_ideology_group = v }
			
			meta_trigger = {
				text = {
					set_temp_variable = { drift = modifier@[X]_drift }
				}
				X = "[?v.GetTokenKey]"
			}
			
			set_temp_variable = { ruling = drift@var:v } 
			set_temp_variable = { total = drift }
			subtract_from_temp_variable = { drift = ruling }
			subtract_from_temp_variable = { ruling = num_advisor@var:v }
		} 
		localization_key = total2591
	}
	text = {
		trigger = { 
			meta_trigger = {
				text = {
					set_temp_variable = { drift = modifier@[X]_drift }
				}
				X = "[?v.GetTokenKey]"
			}
			
			set_temp_variable = { ruling = drift@var:v } 
			set_temp_variable = { total = drift }
			add_to_temp_variable = { total = banned_drift@var:v }
			subtract_from_temp_variable = { drift = ruling }
			subtract_from_temp_variable = { ruling = num_advisor@var:v }
			
			NOT = { check_variable = { total = 0 } }
		} 
		localization_key = total23944
	}
	text = {
		localization_key = "0"
	}
}

defined_text = {
	name = GetTrigger
	text = {
		trigger = { check_variable = { true = 1 } }
		localization_key = "TRIGGER_YES"
	}
	text = {
		localization_key = "TRIGGER_NO"
	}
}

defined_text = { # for PRC tree
	name = GetManchuriaPuppet
	text = {
		trigger = {
			MAN = {
				OR = {
					is_subject_of = JAP
					has_cosmetic_tag = MAN_kwantung_army 
				}
			}
		}
		localization_key = PRC_provoke_japan_manchuria
	}
	text = {
		localization_key = PRC_provoke_japan_korea
	}
}

defined_text = { # for shared tree
	name = GetVietnamOwner
	text = {
		trigger = {
			671 = {
				is_controlled_by = JAP
			}
		}
		localization_key = CHI_vietnam_JAP
	}
	text = {
		localization_key = CHI_vietnam_FRA
	}
}

defined_text = { # Country
	name = GetGermanTechnologyName
	text = {
		trigger = {
			original_tag = RAJ
			is_in_faction_with = JAP
			NOT = { is_in_faction_with = GER }
		}
		localization_key = RAJ_german_technology_japan
	}
	text = {
		localization_key = RAJ_german_technology_german
	}
}
defined_text = { # Country
	name = GetCzechEndSLO
	text = {
		trigger = {
			GER = { has_country_flag = support_slovaks }
		}
		localization_key = "news.62.SLO_GER"
	}
	text = {
		localization_key = "news.62.SLO_HUN"
	}
}
defined_text = { # Country
	name = GetCzechEndCZE 
	text = {
		trigger = {
			has_country_flag = CZE_RK
		}
		localization_key = "news.62.CZE_RK"
	}
	text = {
		localization_key = "news.62.CZE_GER"
	}
}

defined_text = { # Country
	name = GetJAAFAName
	text = {
		trigger = {
			original_tag = RAJ
			is_in_faction_with = GER
			NOT = { is_in_faction_with = JAP }
		}
		localization_key = RAJ_japanese_army_air_force_academy_german
	}
	text = {
		localization_key = RAJ_japanese_army_air_force_academy_japan
	}
}

defined_text = { # Country
	name = GetRadarMax
	text = {
		trigger = {
			FROM.FROM = { has_state_flag = small_airbase }
		}
		localization_key = "0/0"
	}
	text = {
		trigger = {
			FROM.FROM = { has_state_flag = medium_airbase }
			ROOT = { NOT = { has_tech = radio_detection } }
		}
		localization_key = "0/0"
	}
	text = {
		trigger = {
			FROM.FROM = { 
				has_state_flag = medium_airbase 
				radar_station < 2
			}
			ROOT = { has_tech = radio_detection } 
		}
		localization_key = FromFrombuildinglevelradarstation15060
	}
	text = {
		trigger = {
			FROM.FROM = { 
				has_state_flag = medium_airbase 
				radar_station > 1
			}
			ROOT = { has_tech = radio_detection } 
		}
		localization_key = "1/1"
	}
}

defined_text = { # Country
	name = GetCivFuelLaw
	text = {
		trigger = {
			has_idea = high_civ_fuel_usage
		}
		localization_key = high_civ_fuel_usage
	}
	text = {
		trigger = {
			has_idea = medium_civ_fuel_usage
		}
		localization_key = medium_civ_fuel_usage
	}
	text = {
		trigger = {
			has_idea = normal_civ_fuel_usage
		}
		localization_key = normal_civ_fuel_usage
	}
	text = {
		trigger = {
			has_idea = low_civ_fuel_usage
		}
		localization_key = low_civ_fuel_usage
	}
	text = {
		trigger = {
			has_idea = very_low_civ_fuel_usage
		}
		localization_key = very_low_civ_fuel_usage
	}
}

defined_text = { # Country
	name = GetCivFuelLawValue
	text = {
		trigger = {
			has_idea = high_civ_fuel_usage
		}
		localization_key = "high_civ_fuel_usage_value"
	}
	text = {
		trigger = {
			has_idea = medium_civ_fuel_usage
		}
		localization_key = "medium_civ_fuel_usage_value"
	}
	text = {
		trigger = {
			has_idea = normal_civ_fuel_usage
		}
		localization_key = "normal_civ_fuel_usage_value"
	}
	text = {
		trigger = {
			has_idea = low_civ_fuel_usage
		}
		localization_key = "low_civ_fuel_usage_value"
	}
	text = {
		trigger = {
			has_idea = very_low_civ_fuel_usage
		}
		localization_key = "very_low_civ_fuel_usage_value"
	}
}

defined_text = { # Country
	name = GetOwnedStates
	text = {
		trigger = { 
			check_variable = { num_owned_states > 0 }
		}
		localization_key = "owned_states_TT"
	}
}
defined_text = { # Country
	name = GetOccupiedStates
	text = {
		trigger = {
			#check_variable = { num_occupied_states > 0 }
		}
		localization_key = "occupied_states_TT"
	}
}
defined_text = { # Country
	name = GetCoreStates
	text = {
		trigger = {
			check_variable = { num_core_states > 0 }
		}
		localization_key = "core_states_TT"
	}
}
defined_text = { # Country
	name = GetOwnedCoreStates
	text = {
		trigger = {
			#check_variable = { num_owned_core_states > 0 }
		}
		localization_key = "owned_core_states"
	}
}
defined_text = { # Country
	name = GetControlledCoreStates
	text = {
		trigger = {
			#check_variable = { num_controlled_core_states > 0 }
		}
		localization_key = "controlled_core_states"
	}
}

defined_text = { # Total
	name = GetPopulationValue1
	text = { 
		trigger = {
			check_variable = { max_manpower_k < 1000 }
		}
		localization_key = maxmanpowerk2K6461
	}
	text = { 
		trigger = {
			check_variable = { max_manpower_k > 1000 }
			set_temp_variable = { temp = max_manpower_k }
			divide_temp_variable = { temp = 1000 }
		}
		localization_key = temp2M695
	}
}
defined_text = { # Core
	name = GetPopulationValue2
	text = { 
		trigger = {
			check_variable = { core_population_k < 1000 }
		}
		localization_key = corepopulationk2K4020 
	}
	text = { 
		trigger = {
			check_variable = { core_population_k > 1000 }
			set_temp_variable = { temp = core_population_k }
			divide_temp_variable = { temp = 1000 }
		}
		localization_key = temp2M695
	}
}

defined_text = { # Country
	name = GetGovernmentFilter
	text = {
		trigger = {
			check_variable = { Government_filter = 1 }
		}
		localization_key = "Fascist Countries"
	}
	text = {
		trigger = {
			check_variable = { Government_filter = 2 }
		}
		localization_key = "Communist Countries"
	}
	text = {
		trigger = {
			check_variable = { Government_filter = 3 }
		}
		localization_key = "Conservatist Countries"
	}
	text = {
		trigger = {
			check_variable = { Government_filter = 4 }
		}
		localization_key = "Liberalist Countries"
	}
	text = {
		trigger = {
			check_variable = { Government_filter = 5 }
		}
		localization_key = "Socialist Countries"
	}
	text = {
		trigger = {
			check_variable = { Government_filter = 6 }
		}
		localization_key = "Monarchist Countries"
	}
	text = {
		trigger = {
			check_variable = { Government_filter = 7 }
		}
		localization_key = "Neutral Countries"
	}
}


defined_text = { 
	name = GetStorageIcon
	text = {
		trigger = {
			check_variable = { v = token:rubber }
		} 
		localization_key = "RUBBER_ICON"
	}
	text = {
		trigger = {
			check_variable = { v = token:aluminium }
		} 
		localization_key = "ALUMINIUM_ICON"
	}
	text = {
		trigger = {
			check_variable = { v = token:tungsten }
		} 
		localization_key = "TUNGSTEN_ICON"
	}
	text = {
		trigger = {
			check_variable = { v = token:steel }
		} 
		localization_key = "STEEL_ICON"
	}
	text = {
		trigger = {
			check_variable = { v = token:chromium }
		} 
		localization_key = "CHROMIUM_ICON"
	}
	text = {
		trigger = {
			check_variable = { v = token:bauxite }
		} 
		localization_key = "BAUXITE_ICON"
	}
	text = {
		trigger = {
			check_variable = { v = token:coal }
		} 
		localization_key = "COAL_ICON"
	}
	text = {
		trigger = {
			check_variable = { v = token:iron }
		} 
		localization_key = "IRON_ICON"
	}
}
defined_text = { 
	name = GetStorageCivilian
	text = {
		trigger = {
			set_temp_variable = { t = num_owned_civilian_factories }
			multiply_temp_variable = { t = 10 }
		} 
		localization_key = t0Y5987
	}
}
defined_text = {
	name = GetStorageBuildingMax
	text = {
		trigger = {
			set_temp_variable = { storage_modifier = ROOT.modifier@max_resource_storage_factor }
			add_to_temp_variable = { storage_modifier = 1 }
			multiply_temp_variable = { storage_modifier = global.resource_cost@var:v }
			multiply_temp_variable = { storage_modifier = 50 }
			
			set_temp_variable = { t = num_storage@var:v }
			multiply_temp_variable = { t = storage_modifier }
		
		} 
		localization_key = t0Y5987
	}
}
defined_text = {
	name = GetStorageInput
	text = {
		trigger = {
			check_variable = { i < 4 }
			check_variable = { resource@var:v > 0 }
 		} 
		localization_key = resourcevarvG03380
	}
	text = {
		trigger = {
			check_variable = { v = token:chromium }
			set_temp_variable = { x = resource@var:v }
			subtract_from_temp_variable = { x = alloy_input_actual }
			clamp_temp_variable = { var = x min = 0 }
			
			check_variable = { x > 0 }
 		} 
		localization_key = xG03021
	}
	text = {
		trigger = { 
			check_variable = { i > 4 }
			
			set_temp_variable = { t = resource_produced@var:v }
			add_to_temp_variable = { t = export_offset@var:v }
			subtract_from_temp_variable = { t = resource_exported@var:v }
			add_to_temp_variable = { t = resource_imported@var:v }
			subtract_from_temp_variable = { t = conversion_use_@var:v }
			subtract_from_temp_variable = { t = conversion_use_fuel@var:v }
			subtract_from_temp_variable = { t = train_use@var:v }
			clamp_temp_variable = { var = t min = 0 }
 		} 
		localization_key = tG0530
	}
	text = {
		localization_key = 00Y3822
	}
}
defined_text = {
	name = GetStorageFromResource
	text = {
		trigger = {
			set_temp_variable = { r = resource_produced@var:v }
			add_to_temp_variable = { r = export_offset@var:v }
			multiply_temp_variable = { r = 3 }
			round_temp_variable = r
		}
		localization_key = "[?r]"
	}
}
defined_text = {
	name = GetStorageEstimate
	text = {
		trigger = {
			if = {
				limit = {
					check_variable = { i < 5 }
				}
				set_temp_variable = { x = resource@var:v }
				clamp_temp_variable = { var = x min = 0 }
			}
			else = {
				set_temp_variable = { x = resource_produced@var:v }	
				add_to_temp_variable = { x = export_offset@var:v }
				set_temp_variable = { md = 1 }
				subtract_from_temp_variable = { md = modifier@min_export }

				multiply_temp_variable = { x = md }
				round_temp_variable = x
				add_to_temp_variable = { x = resource_imported@var:v }
				subtract_from_temp_variable = { x = conversion_use_@var:v }
				clamp_temp_variable = { var = x min = 0 }
			}
		
			subtract_from_temp_variable = { x = storage_output@var:v }
			
			check_variable = { x > 0 } #storage is getting filled
			
			set_temp_variable = { m = max_storage@var:v }
			subtract_from_temp_variable = { m = storage@var:v }
			
			divide_temp_variable = { m = x }
			check_variable = { m > 0 }
		}
		localization_key = "STORAGE_ESTIMATE_FULL_TEXT" #FILLING
	}
	text = {
		trigger = {
			check_variable = { x < 0 }
			set_temp_variable = { m = storage@var:v }
			divide_temp_variable = { m = x }
			multiply_temp_variable = { m = -1 }
			check_variable = { m > 0 }
		}
		localization_key = "STORAGE_ESTIMATE_EMPTY_TEXT" #DEPLETING
	}
}
defined_text = {
	name = GetStorageSettingTT
	text = {
		trigger = {
			has_variable = assign_storage
 		} 
		localization_key = "STORAGE_ASSIGN_STORAGE_TEXT"
	}
	text = {
		trigger = {
			has_variable = storage_output@var:v
 		} 
		localization_key = "STORAGE_TOPBAR_SETTING_ON"
	}
	text = {
		localization_key = "STORAGE_TOPBAR_SETTING_OFF"
	}
}

defined_text = {
	name = GetMaxSpecialFactorySlots

	text = {
		trigger = {
			FROM.FROM = {
				is_coastal = yes
			}
		}
		localization_key = "40"
	}
	text = {
		trigger = {
			FROM.FROM = {
				is_coastal = no
			}
		}
		localization_key = "32"
	}
}

defined_text = {
	name = GetCasualtiesAmount
	text = {
		trigger = {
			casualties < 100000
		}
		localization_key = casualties9826
	}
	text = {
		trigger = {
			casualties > 100000
		}
		localization_key = casualtiesk0K4987
	}
	text = {
		trigger = {
			casualties > 1000000
			set_temp_variable = { casualties_k_k = casualties_k }
			divide_temp_variable = { casualties_k_k = 1000 }
		}
		localization_key = casualtieskk2M2859
	}
}
defined_text = {
	name = GetRecentBomb 
	text = {
		trigger = {
			check_variable = { days_since_last_strategic_bombing < 1 }
		}
		localization_key = BOMB_TT_1
	}
	text = {
		trigger = {
			check_variable = { days_since_last_strategic_bombing > 1 }
		}
		localization_key = BOMB_TT_2
	}
}


defined_text = {
	name = GetWarPeace
	text = {
		trigger = {
			has_war = no
		}
		localization_key = "At Peace"
	}
	text = {
		trigger = {
			has_war = yes
		}
		localization_key = "At War"
	}
}

defined_text = { 
	name = GetSpecialTopbar
	text = {
		trigger = {
			
			set_temp_variable = { special_forces_ratio = modifier@special_forces_cap }
			
			if = {
				limit = {
					has_idea = sof_disabled 
				}
				add_to_temp_variable = { special_forces_ratio = 10 }
			}
			else = {
				add_to_temp_variable = { special_forces_ratio = -10 }
			}
			
			set_temp_variable = { special_forces_cap = army_strength }
			multiply_temp_variable = { special_forces_cap = special_forces_ratio }
			
			clamp_temp_variable = { var = special_forces_cap min = modifier@special_forces_min }
			round_temp_variable = special_forces_cap
			check_variable = { num_specialised > special_forces_cap }
		}
		localization_key = specialforcescap0R3989
	}
	text = {
		localization_key = specialforcescap06705
	}
}
defined_text = { 
	name = GetSpecialForcesComp
	text = {
		trigger = {
			check_variable = { num_specialised > 0 }
		}
		localization_key = "SPECIAL_FORCES_COMP"
	}
}
defined_text = { 
	name = GetSpecialForcesLimitRatio
	text = {
		trigger = {
			set_temp_variable = { ratio = num_specialised }
			divide_temp_variable = { ratio = special_forces_cap }
			
			set_temp_variable = { sof_frame = ratio }
			multiply_temp_variable = { sof_frame = 100 }
			check_variable = { ratio > 1 }
			set_temp_variable = { sof_icon = 1 }
		}
		localization_key = "SPECIAL_FORCES_RATIO_BAD"
	}
	text = {
		localization_key = "SPECIAL_FORCES_RATIO_GOOD"
	}
}
defined_text = { 
	name = GetSpecialForcesOverLimit
	text = {
		trigger = {
			check_variable = { num_specialised > special_forces_cap }
		}
		localization_key = "SPECIAL_FORCES_OVER_LIMIT"
	}
	text = {
		localization_key = "SPECIAL_FORCES_MODIFIERS_TT"
	}
}
defined_text = { 
	name = GetSpecialForcesOverLimitDebuff
	text = {
		trigger = {
			check_variable = { num_specialised > special_forces_cap }
		}
		localization_key = numspecialisedoverlimitR12492
	}
}

defined_text = { 
	name = ProductionTT3
	text = {
		localization_key = "EQUIPMENT_INTRO_OPEN_TT"
	}
}
defined_text = { 
	name = ProductionTT4
	text = {
		localization_key = "HSD_UI_OPEN_TT"
	}
}
defined_text = {  
	name = ProductionTT5
	text = {
		localization_key = "HTD_UI_OPEN_TT"
	}
}
defined_text = { 
	name = GetEquipmentIntroAlertHeader
	text = {
		trigger = {
			NOT = { check_variable = { header = 1 } }
			set_temp_variable = { header = 1 }
		}
		localization_key = "EQUIPMENT_INTRO_ALERT_HEADER"
	}
}
defined_text = { 
	name = GetEquipmentIntroAlertListHeader
	text = {
		trigger = {
			NOT = { check_variable = { list_header = 1 } }
			set_temp_variable = { list_header = 1 }
		}
		localization_key = tempGetTokenLocalizedKey1784
	}
}

defined_text = { 
	name = GetArmyStrengthNextLevel
	text = {
		trigger = {
			has_idea = army_strength_0
		} 
		localization_key = "200"
	}
	text = {
		trigger = {
			has_idea = army_strength_1
		} 
		localization_key = "400"
	}
	text = {
		trigger = {
			has_idea = army_strength_2
		} 
		localization_key = "600"
	}
	text = {
		trigger = {
			has_idea = army_strength_3
		} 
		localization_key = "800"
	}
	text = {
		trigger = {
			has_idea = army_strength_4
		} 
		localization_key = "1000"
	}
	text = {
		trigger = {
			has_idea = army_strength_5
		} 
		localization_key = "1200"
	}
	text = {
		trigger = {
			has_idea = army_strength_6
		} 
		localization_key = "1400"
	}
	text = {
		trigger = {
			has_idea = army_strength_7
		} 
		localization_key = "1600"
	}
	text = {
		trigger = {
			has_idea = army_strength_8
		} 
		localization_key = "1800"
	}
	text = {
		trigger = {
			has_idea = army_strength_9
		} 
		localization_key = "2000"
	}
	text = {
		trigger = {
			has_idea = army_strength_10
		} 
		localization_key = "/"
	}
}
defined_text = { 
	name = GetNavyStrengthNextLevel
	text = {
		trigger = {
			has_idea = tiny_navy
		} 
		localization_key = "75"
	}
	text = {
		trigger = {
			has_idea = small_navy
		} 
		localization_key = "200"
	}
	text = {
		trigger = {
			has_idea = average_navy
		} 
		localization_key = "350"
	}
	text = {
		trigger = {
			has_idea = large_navy
		} 
		localization_key = "500"
	}
	text = {
		trigger = {
			has_idea = huge_navy
		} 
		localization_key = "/"
	}
}
defined_text = { 
	name = GetAirStrengthNextLevel
	text = {
		trigger = {
			has_idea = tiny_air_force
		} 
		localization_key = "400"
	}
	text = {
		trigger = {
			has_idea = small_air_force
		} 
		localization_key = "800"
	}
	text = {
		trigger = {
			has_idea = average_air_force
		} 
		localization_key = "1600"
	}
	text = {
		trigger = {
			has_idea = large_air_force
		} 
		localization_key = "3200"
	}
	text = {
		trigger = {
			has_idea = huge_air_force
		} 
		localization_key = "/"
	}
}

defined_text = { 
	name = GetResearchSlotEditOrGain
	text = {
		trigger = {
			check_variable = { target_slot > 0 } 
		}
		localization_key = "SLOT_EDIT_TT"
	}
	text = {
		localization_key = "SLOT_GAIN_TT"
	}
}
defined_text = { 
	name = research_infantry
	text = {
		trigger = {
			has_state_flag = SLOT:infantry_folder@ROOT 
		}
		localization_key = "research_allowed_infantry"
	}
}
defined_text = { 
	name = research_support
	text = {
		trigger = {
			has_state_flag = SLOT:support_folder@ROOT 
		}
		localization_key = "research_allowed_support"
	}
}
defined_text = { 
	name = research_artillery
	text = {
		trigger = {
			has_state_flag = SLOT:artillery_folder@ROOT 
		}
		localization_key = "research_allowed_artillery"
	}
}
defined_text = { 
	name = research_tank_techs
	text = {
		trigger = {
			has_state_flag = SLOT:tank_techs_folder@ROOT 
		}
		localization_key = "research_allowed_tank_techs"
	}
}
defined_text = { 
	name = research_armor
	text = {
		trigger = {
			has_state_flag = SLOT:armor_folder@ROOT 
		}
		localization_key = "research_allowed_armor"
	}
}
defined_text = { 
	name = research_air_techs
	text = {
		trigger = {
			has_state_flag = SLOT:air_techs_folder@ROOT 
		}
		localization_key = "research_allowed_air_techs"
	}
}
defined_text = { 
	name = research_air_techs_army
	text = {
		trigger = {
			has_state_flag = SLOT:air_techs_folder_army@ROOT
		}
		localization_key = "research_allowed_air_techs_army"
	}
}
defined_text = { 
	name = research_air_techs_navy
	text = {
		trigger = {
			has_state_flag = SLOT:air_techs_folder_navy@ROOT
		}
		localization_key = "research_allowed_air_techs_navy"
	}
}
defined_text = { 
	name = research_naval
	text = {
		trigger = {
			has_state_flag = SLOT:naval_folder@ROOT 
		}
		localization_key = "research_allowed_naval"
	}
}
defined_text = { 
	name = research_naval_techs
	text = {
		trigger = {
			has_state_flag = SLOT:naval_techs_folder@ROOT 
		}
		localization_key = "research_allowed_naval_techs"
	}
}
defined_text = { 
	name = research_industry
	text = {
		trigger = {
			has_state_flag = SLOT:industry_folder@ROOT 
		}
		localization_key = "research_allowed_industry"
	}
}
defined_text = { 
	name = research_raw_materials
	text = {
		trigger = {
			has_state_flag = SLOT:raw_materials_folder@ROOT 
		}
		localization_key = "research_allowed_raw_materials"
	}
}
defined_text = { 
	name = research_ww1_doctrine
	text = {
		trigger = {
			has_state_flag = SLOT:ww1_land_doctrine_folder@ROOT 
		}
		localization_key = "research_allowed_ww1_doctrine"
	}
}
defined_text = { 
	name = research_doctrine
	text = {
		trigger = {
			has_state_flag = SLOT:land_doctrine_folder@ROOT 
		}
		localization_key = "research_allowed_doctrine"
	}
}
defined_text = { 
	name = research_naval_doctrine
	text = {
		trigger = {
			has_state_flag = SLOT:naval_doctrine_folder@ROOT 
		}
		localization_key = "research_allowed_naval_doctrine"
	}
}
defined_text = { 
	name = research_air_doctrine
	text = {
		trigger = {
			has_state_flag = SLOT:air_doctrine_folder@ROOT 
		}
		localization_key = "research_allowed_air_doctrine"
	}
}
defined_text = { 
	name = research_electronics
	text = {
		trigger = {
			has_state_flag = SLOT:electronics_folder@ROOT 
		}
		localization_key = "research_allowed_electronics"
	}
}
defined_text = { 
	name = research_nuclear
	text = {
		trigger = {
			has_state_flag = SLOT:nuclear_folder@ROOT 
		}
		localization_key = "research_allowed_nuclear"
	}
}
defined_text = { 
	name = research_special_forces
	text = {
		trigger = {
			has_state_flag = SLOT:special_forces@ROOT 
		}
		localization_key = "research_allowed_special_forces"
	}
}

defined_text = { 
	name = research_infantry_TT
	text = {
		trigger = {
			has_state_flag = SLOT:infantry_folder@ROOT 
		}
		localization_key = "research_allowed_infantry_TT"
	}
}
defined_text = { 
	name = research_support_TT
	text = {
		trigger = {
			has_state_flag = SLOT:support_folder@ROOT 
		}
		localization_key = "research_allowed_support_TT"
	}
}
defined_text = { 
	name = research_artillery_TT
	text = {
		trigger = {
			has_state_flag = SLOT:artillery_folder@ROOT 
		}
		localization_key = "research_allowed_artillery_TT"
	}
}
defined_text = { 
	name = research_tank_techs_TT
	text = {
		trigger = {
			has_state_flag = SLOT:tank_techs_folder@ROOT 
		}
		localization_key = "research_allowed_tank_techs_TT"
	}
}
defined_text = { 
	name = research_armor_TT
	text = {
		trigger = {
			has_state_flag = SLOT:armor_folder@ROOT 
		}
		localization_key = "research_allowed_armor_TT"
	}
}
defined_text = { 
	name = research_air_techs_TT
	text = {
		trigger = {
			has_state_flag = SLOT:air_techs_folder@ROOT 
		}
		localization_key = "research_allowed_air_techs_TT"
	}
}
defined_text = { 
	name = research_air_techs_army_TT
	text = {
		trigger = {
			has_state_flag = SLOT:air_techs_folder_army@ROOT
		}
		localization_key = "research_allowed_air_techs_army_TT"
	}
}
defined_text = { 
	name = research_air_techs_navy_TT
	text = {
		trigger = {
			has_state_flag = SLOT:air_techs_folder_navy@ROOT
		}
		localization_key = "research_allowed_air_techs_navy_TT"
	}
}
defined_text = { 
	name = research_naval_TT
	text = {
		trigger = {
			has_state_flag = SLOT:naval_folder@ROOT 
		}
		localization_key = "research_allowed_naval_TT"
	}
}
defined_text = { 
	name = research_naval_techs_TT
	text = {
		trigger = {
			has_state_flag = SLOT:naval_techs_folder@ROOT 
		}
		localization_key = "research_allowed_naval_techs_TT"
	}
}
defined_text = { 
	name = research_industry_TT
	text = {
		trigger = {
			has_state_flag = SLOT:industry_folder@ROOT 
		}
		localization_key = "research_allowed_industry_TT"
	}
}
defined_text = { 
	name = research_raw_materials_TT
	text = {
		trigger = {
			has_state_flag = SLOT:raw_materials_folder@ROOT 
		}
		localization_key = "research_allowed_raw_materials_TT"
	}
}
defined_text = { 
	name = research_ww1_doctrine_TT
	text = {
		trigger = {
			has_state_flag = SLOT:ww1_land_doctrine_folder@ROOT 
		}
		localization_key = "research_allowed_ww1_doctrine_TT"
	}
}
defined_text = { 
	name = research_doctrine_TT
	text = {
		trigger = {
			has_state_flag = SLOT:land_doctrine_folder@ROOT 
		}
		localization_key = "research_allowed_doctrine_TT"
	}
}
defined_text = { 
	name = research_naval_doctrine_TT
	text = {
		trigger = {
			has_state_flag = SLOT:naval_doctrine_folder@ROOT 
		}
		localization_key = "research_allowed_naval_doctrine_TT"
	}
}
defined_text = { 
	name = research_air_doctrine_TT
	text = {
		trigger = {
			has_state_flag = SLOT:air_doctrine_folder@ROOT 
		}
		localization_key = "research_allowed_air_doctrine_TT"
	}
}
defined_text = { 
	name = research_electronics_TT
	text = {
		trigger = {
			has_state_flag = SLOT:electronics_folder@ROOT 
		}
		localization_key = "research_allowed_electronics_TT"
	}
}
defined_text = { 
	name = research_nuclear_TT
	text = {
		trigger = {
			has_state_flag = SLOT:nuclear_folder@ROOT
		}
		localization_key = "research_allowed_nuclear_TT"
	}
}
defined_text = { 
	name = research_special_forces_TT
	text = {
		trigger = {
			has_state_flag = SLOT:special_forces@ROOT
		}
		localization_key = "research_allowed_special_forces_TT"
	}
}

defined_text = { 
	name = GetCapital
	text = {
		trigger = {
			has_variable = original_capital
			NOT = { tag = GER }
		}
		localization_key = originalcapitalGetName8808
	}
	text = {
		trigger = {
			has_variable = original_capital
			tag = GER 
		}
		localization_key = "Berlin"
	}
}
defined_text = { 
	name = GetEnemyCapital
	text = {
		trigger = {
			has_variable = capital_@FROM
		}
		localization_key = capitalFROMGetName1932
	}
}

defined_text = { 
	name = GetStability
	text = {
		trigger = {
			check_variable = { modifier@stability_weekly > 0 }
		}
		localization_key = TOPBAR_INCREASE
	}
	text = {
		trigger = {
			check_variable = { modifier@stability_weekly < 0 }
		}
		localization_key = TOPBAR_DECREASE
	}
}
defined_text = { 
	name = GetTopbarStabilityDecimals
	text = {
		trigger = {
			check_variable = { has_stability = 1 }
		}
		localization_key = hasstability0GetStability8526
	}	 
	text = {
		localization_key = hasstability1GetStability
	}
}

defined_text = { 
	name = GetTopbarWarSupportDecimals
	text = {
		trigger = {
			check_variable = { has_war_support = 1 }
		}
		localization_key = haswarsupport0GetWarSupport926
	}	
	text = {
		localization_key = haswarsupport1GetWarSupport438
	}
}

defined_text = { 
	name = GetWarSupport
	text = {
		trigger = {
			check_variable = { modifier@war_support_weekly > 0 }
		}
		localization_key = TOPBAR_INCREASE
	}
	text = {
		trigger = {
			check_variable = { modifier@war_support_weekly < 0 }
		}
		localization_key = TOPBAR_DECREASE
	}
}

defined_text = { 
	name = GetTopbarPoliticalDecimals
	text = {
		trigger = {
			has_political_power > 99.9
		}
		localization_key = politicalpower02508
	}	
	text = {
		trigger = {
			has_political_power > 9.9
		}
		localization_key = politicalpower16293
	}
	text = {
		localization_key = politicalpower2190
	}
}
defined_text = { 
	name = GetTopbarCommandDecimals
	text = {
		trigger = {
			command_power > 99.9
		}
		localization_key = command_power_top_0
	}	
	text = {
		trigger = {
			command_power > 9.9
		}
		localization_key = command_power_top_1
	}
	text = {
		localization_key = command_power_top_2
	}
}

defined_text = { 
	name = GetTopbarManpowerDecimals
	text = {
		trigger = {
			check_variable = { manpower_k > 10000 }
			set_temp_variable = { manpower_k_k = manpower_k }
			divide_temp_variable = { manpower_k_k = 1000 }
		}
		localization_key = manpowerkk2M7408
	}	
	text = {
		trigger = {
			check_variable = { manpower_k > 1000 }
			set_temp_variable = { manpower_k_k = manpower_k }
			divide_temp_variable = { manpower_k_k = 1000 }
		}
		localization_key = manpowerkk3M567
	}	
	text = {
		trigger = {
			check_variable = { manpower_k > 10 }
		}
		localization_key = manpowerk2K8786
	}
	text = {
		localization_key = manpower9885
	}
}

defined_text = { 
	name = GetTargetConscription
	text = {
		trigger = {
			set_temp_variable = { target_cons = modifier@conscription }
			set_temp_variable = { factor = modifier@conscription_factor }
			add_to_temp_variable = { factor = 1 }
			multiply_temp_variable = { target_cons = factor }
			
			check_variable = { previous_conscription_target < target_cons }
		}
		localization_key = TOPBAR_INCREASE
	}
	text = {
		trigger = {
			check_variable = { previous_conscription_target > target_cons }
		}
		localization_key = TOPBAR_DECREASE
	}
}
defined_text = { 
	name = GetTargetConscriptionTT
	text = {
		trigger = {
			check_variable = { current_conscription_amount < target_conscription_amount }
		}
		localization_key = CONSCRIPTION_TOPBAR_INCREASE_TT
	}
	text = {
		trigger = {
			check_variable = { current_conscription_amount > target_conscription_amount }
		}
		localization_key = CONSCRIPTION_TOPBAR_DECREASE_TT
	}
}

defined_text = { 
	name = NewLine
	text = {
		localization_key = "empty_line"
	}
}

defined_text = { # Country
	name = GetEconomySwitchIconLarge
	text = {
		trigger = {
			check_variable = { law_change_num@token:economy > 0 }
		}
		localization_key = "LAW_SWITCH_ICON_UP_LARGE"
	}
	text = {
		trigger = {
			check_variable = { law_change_num@token:economy < 0 }
		}
		localization_key = "LAW_SWITCH_ICON_DOWN_LARGE"
	}
}

defined_text = { # Country
	name = GetCadetTrainingSwitchIconLarge
	text = {
		trigger = {
			check_variable = { law_change_num@token:cadet_training_standards > 0 }
		}
		localization_key = "LAW_SWITCH_ICON_UP_LARGE"
	}
	text = {
		trigger = {
			check_variable = { law_change_num@token:cadet_training_standards < 0 }
		}
		localization_key = "LAW_SWITCH_ICON_DOWN_LARGE"
	}
}

defined_text = { # Country
	name = GetOfficerTrainingSwitchIconLarge
	text = {
		trigger = {
			check_variable = { law_change_num@token:officer_training_standards > 0 }
		}
		localization_key = "LAW_SWITCH_ICON_UP_LARGE"
	}
	text = {
		trigger = {
			check_variable = { law_change_num@token:officer_training_standards < 0 }
		}
		localization_key = "LAW_SWITCH_ICON_DOWN_LARGE"
	}
}

defined_text = { # Country
	name = GetMobilisationSwitchIconLarge
	text = {
		trigger = {
			check_variable = { law_change_num@token:mobilization_laws > 0 }
		}
		localization_key = "LAW_SWITCH_ICON_UP_LARGE"
	}
	text = {
		trigger = {
			check_variable = { law_change_num@token:mobilization_laws < 0 }
		}
		localization_key = "LAW_SWITCH_ICON_DOWN_LARGE"
	}
}

defined_text = { # Country
	name = GetSSDivisionNumText
	text = {
		trigger = {
			check_variable = { num_ss_division_spawn = 1 }
		}
		localization_key = "Division"

	}
	text = {
		trigger = {
			check_variable = { num_ss_division_spawn > 1 }
		}
		localization_key = "Divisions"
	}
}
defined_text = { # Country
	name = GetSSDivisionChangeNumText
	text = {
		trigger = {
			check_variable = { num_ss_division_spawn = 1 }
		}
		localization_key = " and it`s template upgraded into: "

	}
	text = {
		trigger = {
			check_variable = { num_ss_division_spawn > 1 }
		}
		localization_key = GetSSDivisionChangeNumText
	}
}
defined_text = { # Country
	name = GetSSDivisionStateText
	text = {
		trigger = {
			OR = {
				NOT = { check_variable = { state_1 = 0 } }
				NOT = { check_variable = { state_2 = 0 } }
			}
		}
		localization_key = SSDivisionStateText
	}
}
defined_text = { # Country
	name = GetSSTemplateLock
	text = {
		trigger = {
			check_variable = { lock = 0 }
		}
		localization_key = SS_template_unlocked_TT
	}
	text = {
		trigger = {
			check_variable = { lock = 1 }
		}
		localization_key = SS_template_locked_TT
	}
}
defined_text = { # Country
	name = GetSSTemplateMerge
	text = {
		trigger = {
			check_variable = { merge = 0 }
		}
		localization_key = ""
	}
	text = { 
		trigger = {
			check_variable = { merge = 1 }
		}
		localization_key = SS_template_merge_TT
	}
}
defined_text = { # Country
	name = GetSSTooltipFixEffect
	text = {
		trigger = {
			set_temp_variable = { tooltip_fix = 1 }
		}
		localization_key = ""
	}
}
defined_text = { # Country
	name = GetSSTooltipFix
	text = {
		trigger = {
			check_variable = { tooltip_fix = 1 }
		}
		localization_key = "SS_end_tooltip"
	}
}

defined_text = {
	name = GetBurmaRoadStateStatus
	text = {
		trigger = {
			has_state_flag = CHI_burma_road_closed_state
		}
		localization_key = "BURMA_ROAD_STATE_CLOSED"
	}
	text = {
		trigger = {
			NOT = { has_state_flag = CHI_burma_road_closed_state }
		}
		localization_key = "BURMA_ROAD_STATE_OPEN"
	}
}
defined_text = {
	name = GetBurmaRoadStatus
	text = {
		trigger = {
			OR = {
				288 = { has_state_flag = CHI_burma_road_closed_state }
				640 = { has_state_flag = CHI_burma_road_closed_state }
				325 = { has_state_flag = CHI_burma_road_closed_state }
				747 = { has_state_flag = CHI_burma_road_closed_state }
			}
		}
		localization_key = "BURMA_ROAD_CLOSED"
	}
	text = {
		trigger = {
			NOT = {
				288 = { has_state_flag = CHI_burma_road_closed_state }
				640 = { has_state_flag = CHI_burma_road_closed_state }
				325 = { has_state_flag = CHI_burma_road_closed_state }
				747 = { has_state_flag = CHI_burma_road_closed_state }
			}
		}
		localization_key = "BURMA_ROAD_OPEN"
	}
}

defined_text = {
	name = GetStartingEfficiency
	text = {
		trigger = {
			set_temp_variable = { temp = modifier@production_factory_start_efficiency_factor }
			add_to_temp_variable = { temp = 0.1 }
		}
		localization_key = temp01857
	}
}
defined_text = {
	name = GetProductionEfficiencyCap
	text = {
		trigger = {
			set_temp_variable = { temp = 0.29 }
			add_to_temp_variable = { temp = modifier@production_factory_max_efficiency_factor }
		}
		localization_key = temp23683
	}
}

defined_text = { # Country
	name = GetStrengthRatioBritain
	text = {
		trigger = {
			if = {
				limit = { ENG = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = ENG
					ratio < 1
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
				naval_strength_comparison = {
					other = ENG
					ratio > 0.9
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
			else_if = {
				limit = { USA = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = USA
					ratio < 1
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
				naval_strength_comparison = {
					other = USA
					ratio > 0.9
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
		}
		localization_key = Naval_treaty_90
	}
	text = {
		trigger = {
			if = {
				limit = { ENG = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = ENG
					ratio < 0.9
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
				naval_strength_comparison = {
					other = ENG
					ratio > 0.75
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
			else_if = {
				limit = { USA = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = USA
					ratio < 0.9
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
				naval_strength_comparison = {
					other = USA
					ratio > 0.75
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
		}
		localization_key = Naval_treaty_75
	}
	text = {
		trigger = {
			if = {
				limit = { ENG = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = ENG
					ratio < 0.75
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
				naval_strength_comparison = {
					other = ENG
					ratio > 0.5
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
			else_if = {
				limit = { USA = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = USA
					ratio < 0.75
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
				naval_strength_comparison = {
					other = USA
					ratio > 0.5
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
		}
		localization_key = Naval_treaty_50
	}
	text = {
		trigger = {
			if = {
				limit = { ENG = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = ENG
					ratio < 0.5
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
				naval_strength_comparison = {
					other = ENG
					ratio > 0.25
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
			else_if = {
				limit = { USA = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = USA
					ratio < 0.5
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
				naval_strength_comparison = {
					other = USA
					ratio > 0.25
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
		}
		localization_key = Naval_treaty_25
	}
	text = {
		trigger = {
			if = {
				limit = { ENG = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = ENG
					ratio < 0.25
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
			else_if = {
				limit = { USA = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = USA
					ratio < 0.25
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
		}
		localization_key = Naval_treaty_lower_than_25
	}
	text = {
		trigger = {
			if = {
				limit = { ENG = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = ENG
					ratio > 1
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
			else_if = {
				limit = { USA = { has_naval_treaty_trigger = yes } }
				naval_strength_comparison = {
					other = USA
					ratio > 1
					sub_unit_def_weights = {
						super_carrier = 1
						fleet_carrier = 0.75
						armored_carrier = 0.75
						light_carrier = 0.25
						battleship = 1
						battle_cruiser = 1
						large_cruiser = 0.75
						heavy_cruiser = 0.25
						pocket_battleship = 0.25
					}
				}
			}
		}
		localization_key = Naval_treaty_over_100
	}
}

defined_text = { # Country
	name = GetRelevantNavalTreatyNation
	text = {
		trigger = {
			ENG = {
				has_naval_treaty_trigger = yes
			}
		}
		localization_key = ENG_Naval_treaty_nation
	}
	text = {
		trigger = {
			ENG = {
				not = { has_naval_treaty_trigger = yes }
			}
			USA = {
				has_naval_treaty_trigger = yes
			}
		}
		localization_key = USA_Naval_treaty_nation
	}
}

defined_text = {
	name = BI_AI_GetModifierValue
	text = {
		trigger = {
			check_variable = { BI_selected_modifier_for_value = v }
		}
		localization_key = "*[BI_GetTypedNum0][BI_GetTypedNum1][BI_GetTypedNum2][BI_GetTypedNum3][BI_GetTypedNum4]*"
	}
	text = {
		trigger = {
			set_temp_variable = { current = v }
			
			OR = {
				check_variable = { v = token:air_production_capacity }
				check_variable = { v = token:tank_production_capacity }
				check_variable = { v = token:engine_production_capacity }
				check_variable = { v = token:artillery_production_capacity }
				check_variable = { v = token:global_building_slots }
				check_variable = { v = token:naval_invasion_capacity }
			}
			
			var:selected_target = {
				meta_trigger = { 
					text = {
						set_temp_variable = { temp = BI_AI_mod/[X] }
					}
					X = "[?current.GetTokenKey]"
				}
			}
		}
		localization_key = temp02233
	}
	text = {
		trigger = {
			set_temp_variable = { current = v }
			
			var:selected_target = {
				meta_trigger = { 
					text = {
						set_temp_variable = { temp = BI_AI_mod/[X] }
					}
					X = "[?current.GetTokenKey]"
				}
			}
		}
		localization_key = temp12220
	}
	text = {
		localization_key = "-"
	}
}
defined_text = {
	name = BI_GetTypedNum0
	text = {
		trigger = {
			check_variable = { BI_saved_number^0 = -1 }
		}
		localization_key = "."
	}
	text = {
		trigger = {
			check_variable = { BI_saved_number^0 = -2 }
		} 
		localization_key = "-"
	}
	text = {
		trigger = {
			check_variable = { BI_saved_number^num > 0 }
		}
		localization_key = BIsavednumber03181
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = BI_GetTypedNum1
	text = {
		trigger = {
			check_variable = { BI_saved_number^1 = -1 }
		}
		localization_key = "."
	}
	text = {
		trigger = {
			check_variable = { BI_saved_number^1 = -2 }
		}
		localization_key = "-"
	}
	text = {
		trigger = {
			check_variable = { BI_saved_number^num > 1 }
		}
		localization_key = BIsavednumber11658
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = BI_GetTypedNum2
	text = {
		trigger = {
			check_variable = { BI_saved_number^2 = -1 }
		}
		localization_key = "."
	}
	text = {
		trigger = {
			check_variable = { BI_saved_number^2 = -2 }
		}
		localization_key = "-"
	}
	text = {
		trigger = {
			check_variable = { BI_saved_number^num > 2 }
		}
		localization_key = BIsavednumber21242
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = BI_GetTypedNum3
	text = {
		trigger = {
			check_variable = { BI_saved_number^3 = -1 }
		}
		localization_key = "."
	}
	text = {
		trigger = {
			check_variable = { BI_saved_number^3 = -2 }
		}
		localization_key = "-"
	}
	text = {
		trigger = {
			check_variable = { BI_saved_number^num > 3 }
		}
		localization_key = BIsavednumber37037
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = BI_GetTypedNum4
	text = {
		trigger = {
			check_variable = { BI_saved_number^4 = -1 }
		}
		localization_key = "."
	}
	text = {
		trigger = {
			check_variable = { BI_saved_number^4 = -2 }
		}
		localization_key = "-"
	}
	text = {
		trigger = {
			check_variable = { BI_saved_number^num > 4 }
		}
		localization_key = BIsavednumber42591
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = GetGFXAddonStatus
	text = {
		trigger = {
			has_global_flag = BI_GFX_active
		}
		localization_key = BICE_version_only
	}
	text = {
		localization_key = BICE_version_only
	}
}
defined_text = {
	name = GetGFXAddonStatusButtonGFX
	text = {
		trigger = {
			has_global_flag = BI_GFX_active
		}
		localization_key = GFX_EAI_checkbox_on
	}
	text = {
		localization_key = GFX_EAI_checkbox_off
	}
}

defined_text = {
	name = GetNetworkStrength
	text = {
		trigger = { 
			ROOT = {
				set_temp_variable = { t = mtth:network_strength }
			}
		}
		localization_key = t5935
	}
}
defined_text = {
	name = GetNumOperatives
	text = {
		trigger = { 
			set_temp_variable = { num_ops = 0 }
			ROOT = {
				all_operative_leader = {
					if = {
						limit = {
							check_variable = { operation_country = PREV.PREV }
						}
						add_to_temp_variable = { num_ops = 1 }
					}
				}
			}
		}
		localization_key = numops6551
	}
}


defined_text = {
	name = GetArmyStrengthGFX
	text = {
		trigger = {
			check_variable = { army_strength_level < 3 }
		}
		localization_key = GFX_idea_tiny_army
	}
	text = {
		trigger = {
			check_variable = { army_strength_level < 5 }
		}
		localization_key = GFX_idea_small_army
	}
	text = {
		trigger = {
			check_variable = { army_strength_level < 7 }
		}
		localization_key = GFX_idea_average_army
	}
	text = {
		trigger = {
			check_variable = { army_strength_level < 9 }
		}
		localization_key = GFX_idea_large_army
	}
	text = {
		trigger = {
			check_variable = { army_strength_level > 8 }
		}
		localization_key = GFX_idea_huge_army
	}
}
defined_text = {
	name = GetAirStrengthGFX
	text = {
		trigger = {
			has_idea = tiny_air_force
		}
		localization_key = GFX_idea_tiny_air_force
	}
	text = {
		trigger = {
			has_idea = small_air_force
		}
		localization_key = GFX_idea_small_air_force
	}
	text = {
		trigger = {
			has_idea = average_air_force
		}
		localization_key = GFX_idea_average_air_force
	}
	text = {
		trigger = {
			has_idea = large_air_force
		}
		localization_key = GFX_idea_large_air_force
	}
	text = {
		trigger = {
			has_idea = huge_air_force
		}
		localization_key = GFX_idea_huge_air_force
	}
}
defined_text = {
	name = GetNavyStrengthGFX
	text = {
		trigger = {
			has_idea = tiny_navy
		}
		localization_key = GFX_idea_tiny_navy
	}
	text = {
		trigger = {
			has_idea = small_navy
		}
		localization_key = GFX_idea_small_navy
	}
	text = {
		trigger = {
			has_idea = average_navy
		}
		localization_key = GFX_idea_average_navy
	}
	text = {
		trigger = {
			has_idea = large_navy
		}
		localization_key = GFX_idea_large_navy
	}
	text = {
		trigger = {
			has_idea = huge_navy
		}
		localization_key = GFX_idea_huge_navy
	}
}

defined_text = { 
	name = GetFieldStrengthGFX
	text = {
		trigger = {
			check_variable = { field_strength > 0.95 }
		}
		localization_key = GFX_idea_huge_army
	}
	text = {
		trigger = {
			check_variable = { field_strength > 0.9 }
		}
		localization_key = GFX_idea_large_army
	}
	text = {
		trigger = {
			check_variable = { field_strength > 0.7 }
		}
		localization_key = GFX_idea_average_army
	}
	text = {
		trigger = {
			check_variable = { field_strength > 0.5 }
		}
		localization_key = GFX_idea_small_army
	}
	text = {
		localization_key = GFX_idea_tiny_army
	}
}
defined_text = {
	name = BI_GetFilterEurope
	text = {
		trigger = {
			has_country_flag = BI_filter_europe
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterAsia
	text = {
		trigger = {
			has_country_flag = BI_filter_asia
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterNorthAmerica
	text = {
		trigger = {
			has_country_flag = BI_filter_north_america
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterSouthAmerica
	text = {
		trigger = {
			has_country_flag = BI_filter_south_america
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterAfrica
	text = {
		trigger = {
			has_country_flag = BI_filter_africa
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterAsia
	text = {
		trigger = {
			has_country_flag = BI_filter_asia
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterMiddleEast
	text = {
		trigger = {
			has_country_flag = BI_filter_middle_east
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterOceania
	text = {
		trigger = {
			has_country_flag = BI_filter_oceania
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterNeighborsOwned
	text = {
		trigger = {
			has_country_flag = BI_filter_neighbors_owned
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterNeighbors
	text = {
		trigger = {
			has_country_flag = BI_filter_neighbors
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterMajor
	text = {
		trigger = {
			has_country_flag = BI_filter_major
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterFaction
	text = {
		trigger = {
			has_country_flag = BI_filter_faction
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterSubjects
	text = {
		trigger = {
			has_country_flag = BI_filter_subjects
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}
defined_text = {
	name = BI_GetFilterEnemies
	text = {
		trigger = {
			has_country_flag = BI_filter_enemies
		}
		localization_key = "GFX_EAI_checkbox_on"
	}
	text = {
		localization_key = "GFX_EAI_checkbox_off"
	}
}

defined_text = {
	name = BI_GetConsumerGoodsThreshold
	text = {
		trigger = {
			set_temp_variable = { threshold = 1 }
			add_to_temp_variable = { threshold = modifier@consumer_goods_factor }
			multiply_temp_variable = { threshold = modifier@consumer_goods_expected_value }			
			subtract_from_temp_variable = { threshold = modifier@min_consumer_goods_factor }
			
		}
		localization_key = threshold07905
	}
}

defined_text = {
	name = GetComplianceGrowthIcon
	text = {
		trigger = {
			check_variable = { compliance_speed > 0 }
		}
		localization_key = "TOPBAR_INCREASE"
	}
	text = {
		trigger = {
			check_variable = { compliance_speed < 0 }
		}
		localization_key = "TOPBAR_DECREASE"
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = GetComplianceText
	text = {
		trigger = {
			check_variable = { compliance > 0 }
		}
		localization_key = "COMPLIANCE_PROGRESS_TOOLTIP"
	}
	text = {
		localization_key = "-"
	}
}
defined_text = {
	name = GetResistanceText
	text = {
		trigger = {
			has_resistance = yes
		}
		localization_key = "RESISTANCE_PROGRESS_TOOLTIP"
	}
	text = {
		localization_key = " -"
	}
}
@CIV_FUEL_USE_PER_K_POP = 0.5

@CIV_FUEL_POP_SCALE_DIV = 10

@CIV_FUEL_USE_SCALE_DIV = 10

defined_text = { #make sure to update this only daily...
	name = GetStateCivFuel
	text = {
		trigger = {
			is_controlled_by_ROOT_or_ally = yes 
			set_temp_variable = { state_fuel_use = state_population_k }
			multiply_temp_variable = { state_fuel_use = @CIV_FUEL_USE_PER_K_POP }
			
			set_temp_variable = { industrial_complex_lvl = building_level@industrial_complex }
			
			set_temp_variable = { local_factories = modifier@local_factories }
			add_to_temp_variable = { local_factories = 1 }
			
			multiply_temp_variable = { industrial_complex_lvl = local_factories }
			
			set_temp_variable = { state_fuel_use_factor = industrial_complex_lvl }
			
			set_temp_variable = { state_pop = state_population_k }
			divide_temp_variable = { state_pop = @CIV_FUEL_POP_SCALE_DIV }
			
			divide_temp_variable = { state_fuel_use_factor = state_pop }
			
			multiply_temp_variable = { state_fuel_use = state_fuel_use_factor }
			
			divide_temp_variable = { state_fuel_use = @CIV_FUEL_USE_SCALE_DIV }
			
			set_temp_variable = { mod = modifier@local_fuel_use }
			add_to_temp_variable = { mod = 1 }
			
			multiply_temp_variable = { state_fuel_use = mod }
			
			clamp_temp_variable = { var = state_fuel_use min = 0 }
			multiply_temp_variable = { state_fuel_use = 24 }
			check_variable = { state_fuel_use > 0.01 }
	
		}
		localization_key = statefueluseY1835
	}
	text = {
		localization_key = "-"
	}
}

defined_text = {
	name = GetEquipmentIntroFieldNeed
	#################
	# HMG equipment #
	#################
	text = {
		trigger = {
			check_variable = { selected_equipment = token:HMG_equipment}
			check_variable = { v = token:infantry_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 18 }
			set_temp_variable = { total_infantry = num_battalions_with_type@infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@infantry_assault }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@ss_infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@ss_infantry_assault }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@guards_infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@guards_infantry_assault }
			multiply_temp_variable = { total_infantry = base_amount }
			add_to_temp_variable = { need = total_infantry }
			
			set_temp_variable = { base_amount = 9 }
			set_temp_variable = { total_light_infantry = num_battalions_with_type@light_infantry }
			add_to_temp_variable = { total_light_infantry = num_battalions_with_type@ss_light_infantry }
			multiply_temp_variable = { total_light_infantry = base_amount }
			add_to_temp_variable = { need = total_light_infantry }
			
			set_temp_variable = { base_amount = 7 }
			set_temp_variable = { total_irregulars_unit = num_battalions_with_type@irregulars_unit }
			multiply_temp_variable = { total_irregulars_unit = base_amount }
			add_to_temp_variable = { need = total_irregulars_unit }
		
		}
		localization_key = need5756
	}
	text = {
		trigger = {
			check_variable = { selected_equipment = token:HMG_equipment}
			check_variable = { v = token:special_forces_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 12 }
			
			set_temp_variable = { total_paratrooper = num_battalions_with_type@paratrooper }
			add_to_temp_variable = { total_paratrooper = num_battalions_with_type@ss_paratrooper }
			add_to_temp_variable = { total_paratrooper = num_battalions_with_type@guards_paratrooper }
			multiply_temp_variable = { total_paratrooper = base_amount }
			add_to_temp_variable = { need = total_paratrooper }
			
			set_temp_variable = { total_mountaineer = num_battalions_with_type@mountaineers }
			add_to_temp_variable = { total_mountaineer = num_battalions_with_type@ss_mountaineers }
			add_to_temp_variable = { total_mountaineer = num_battalions_with_type@gurkha }
			multiply_temp_variable = { total_mountaineer = base_amount }
			add_to_temp_variable = { need = total_mountaineer }
			
			set_temp_variable = { total_marine = num_battalions_with_type@marine }
			add_to_temp_variable = { total_marine = num_battalions_with_type@marine_assault }
			multiply_temp_variable = { total_marine = base_amount }
			add_to_temp_variable = { need = total_marine }
		
		}
		localization_key = need5756
	}
	text = {
		trigger = {
			check_variable = { selected_equipment = token:HMG_equipment}
			check_variable = { v = token:mobile_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 18 }
			
			set_temp_variable = { total_semi_mot = num_battalions_with_type@motorcycle_infantry }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_motorcycle_infantry }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@semi_motorized }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@semi_motorized_assault }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_semi_motorized }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_semi_motorized_assault }
			multiply_temp_variable = { total_semi_mot = base_amount }
			add_to_temp_variable = { need = total_semi_mot }
			
			set_temp_variable = { total_mot = num_battalions_with_type@motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@motorized_assault }
			add_to_temp_variable = { total_mot = num_battalions_with_type@ss_motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@ss_motorized_assault }
			add_to_temp_variable = { total_mot = num_battalions_with_type@guards_motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@guards_motorized_assault }
			multiply_temp_variable = { total_mot = base_amount }
			add_to_temp_variable = { need = total_mot }
			
			set_temp_variable = { total_mech = num_battalions_with_type@mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized_assault }
			multiply_temp_variable = { total_mech = base_amount }
			add_to_temp_variable = { need = total_mech }
			
			set_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized_assault }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv_assault }
			multiply_temp_variable = { total_amph_mech = base_amount }
			add_to_temp_variable = { need = total_amph_mech }
			
			set_temp_variable = { base_amount = 9 }
			
			set_temp_variable = { total_cavalry = num_battalions_with_type@cavalry }
			add_to_temp_variable = { total_cavalry = num_battalions_with_type@ss_cavalry }
			add_to_temp_variable = { total_cavalry = num_battalions_with_type@guards_cavalry }
			add_to_temp_variable = { total_cavalry = num_battalions_with_type@camelry }
			multiply_temp_variable = { total_cavalry = base_amount }
			add_to_temp_variable = { need = total_cavalry }
		
		}
		localization_key = need5756
	}
	####################
	# mortar equipment #
	####################
	text = {
		trigger = {
			check_variable = { selected_equipment = token:mortar_equipment}
			check_variable = { v = token:infantry_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 16 }
			set_temp_variable = { total_infantry = num_battalions_with_type@infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@infantry_assault }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@ss_infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@ss_infantry_assault }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@guards_infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@guards_infantry_assault }
			multiply_temp_variable = { total_infantry = base_amount }
			add_to_temp_variable = { need = total_infantry }
			
			set_temp_variable = { base_amount = 8 }
			set_temp_variable = { total_light_infantry = num_battalions_with_type@light_infantry }
			add_to_temp_variable = { total_light_infantry = num_battalions_with_type@ss_light_infantry }
			multiply_temp_variable = { total_light_infantry = base_amount }
			add_to_temp_variable = { need = total_light_infantry }
		
		}
		localization_key = need5756
	}
	text = {
		trigger = {
			check_variable = { selected_equipment = token:mortar_equipment}
			check_variable = { v = token:special_forces_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 12 }
			
			if = {
				limit = {
					NOT = { has_country_flag = mortar_equipment_first_support }
				}
				
				set_temp_variable = { total_mountaineer = num_battalions_with_type@mountaineers }
				add_to_temp_variable = { total_mountaineer = num_battalions_with_type@ss_mountaineers }
				add_to_temp_variable = { total_mountaineer = num_battalions_with_type@gurkha }
				multiply_temp_variable = { total_mountaineer = base_amount }
				add_to_temp_variable = { need = total_mountaineer }
				
				set_temp_variable = { total_marine = num_battalions_with_type@marine }
				add_to_temp_variable = { total_marine = num_battalions_with_type@marine_assault }
				multiply_temp_variable = { total_marine = base_amount }
				add_to_temp_variable = { need = total_marine }
				
			}
			if = {
				limit = {
					has_tech = mortars_2
				}
				
				set_temp_variable = { total_paratrooper = num_battalions_with_type@paratrooper }
				add_to_temp_variable = { total_paratrooper = num_battalions_with_type@ss_paratrooper }
				add_to_temp_variable = { total_paratrooper = num_battalions_with_type@guards_paratrooper }
				multiply_temp_variable = { total_paratrooper = base_amount }
				add_to_temp_variable = { need = total_paratrooper }
				
			}
		
		}
		localization_key = need5756
	}
	text = {
		trigger = {
			check_variable = { selected_equipment = token:mortar_equipment}
			check_variable = { v = token:mobile_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 16 }
			
			set_temp_variable = { total_semi_mot = num_battalions_with_type@motorcycle_infantry }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_motorcycle_infantry }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@semi_motorized }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@semi_motorized_assault }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_semi_motorized }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_semi_motorized_assault }
			multiply_temp_variable = { total_semi_mot = base_amount }
			add_to_temp_variable = { need = total_semi_mot }
			
			set_temp_variable = { total_mot = num_battalions_with_type@motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@motorized_assault }
			add_to_temp_variable = { total_mot = num_battalions_with_type@ss_motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@ss_motorized_assault }
			add_to_temp_variable = { total_mot = num_battalions_with_type@guards_motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@guards_motorized_assault }
			multiply_temp_variable = { total_mot = base_amount }
			add_to_temp_variable = { need = total_mot }
			
			set_temp_variable = { total_mech = num_battalions_with_type@mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized_assault }
			multiply_temp_variable = { total_mech = base_amount }
			add_to_temp_variable = { need = total_mech }
			
			set_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized_assault }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv_assault }
			multiply_temp_variable = { total_amph_mech = base_amount }
			add_to_temp_variable = { need = total_amph_mech }
			
			set_temp_variable = { base_amount = 8 }
			
			set_temp_variable = { total_cavalry = num_battalions_with_type@cavalry }
			add_to_temp_variable = { total_cavalry = num_battalions_with_type@ss_cavalry }
			add_to_temp_variable = { total_cavalry = num_battalions_with_type@guards_cavalry }
			add_to_temp_variable = { total_cavalry = num_battalions_with_type@camelry }
			multiply_temp_variable = { total_cavalry = base_amount }
			add_to_temp_variable = { need = total_cavalry }
		
		}
		localization_key = need5756
	}
	
	#########################
	# handheld at equipment #
	#########################
	text = {
		trigger = {
			check_variable = { selected_equipment = token:handheld_at_equipment}
			check_variable = { v = token:infantry_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 12 }
			set_temp_variable = { total_infantry = num_battalions_with_type@infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@infantry_assault }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@ss_infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@ss_infantry_assault }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@guards_infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@guards_infantry_assault }
			multiply_temp_variable = { total_infantry = base_amount }
			add_to_temp_variable = { need = total_infantry }
			
			set_temp_variable = { base_amount = 6 }
			set_temp_variable = { total_light_infantry = num_battalions_with_type@light_infantry }
			add_to_temp_variable = { total_light_infantry = num_battalions_with_type@ss_light_infantry }
			multiply_temp_variable = { total_light_infantry = base_amount }
			add_to_temp_variable = { need = total_light_infantry }
		
		}
		localization_key = need5756
	}
	text = {
		trigger = {
			check_variable = { selected_equipment = token:handheld_at_equipment}
			check_variable = { v = token:special_forces_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 9 }
			
			set_temp_variable = { total_paratrooper = num_battalions_with_type@paratrooper }
			add_to_temp_variable = { total_paratrooper = num_battalions_with_type@ss_paratrooper }
			add_to_temp_variable = { total_paratrooper = num_battalions_with_type@guards_paratrooper }
			multiply_temp_variable = { total_paratrooper = base_amount }
			add_to_temp_variable = { need = total_paratrooper }
			
			set_temp_variable = { total_mountaineer = num_battalions_with_type@mountaineers }
			add_to_temp_variable = { total_mountaineer = num_battalions_with_type@ss_mountaineers }
			add_to_temp_variable = { total_mountaineer = num_battalions_with_type@gurkha }
			multiply_temp_variable = { total_mountaineer = base_amount }
			add_to_temp_variable = { need = total_mountaineer }
			
			set_temp_variable = { base_amount = 6 }
			
			set_temp_variable = { total_commando = num_battalions_with_type@commando }
			multiply_temp_variable = { total_commando = base_amount }
			add_to_temp_variable = { need = total_commando }
		
		}
		localization_key = need5756
	}
	text = {
		trigger = {
			check_variable = { selected_equipment = token:handheld_at_equipment}
			check_variable = { v = token:mobile_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 12 }
			
			set_temp_variable = { total_semi_mot = num_battalions_with_type@motorcycle_infantry }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_motorcycle_infantry }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@semi_motorized }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@semi_motorized_assault }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_semi_motorized }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_semi_motorized_assault }
			multiply_temp_variable = { total_semi_mot = base_amount }
			add_to_temp_variable = { need = total_semi_mot }
			
			set_temp_variable = { total_mot = num_battalions_with_type@motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@motorized_assault }
			add_to_temp_variable = { total_mot = num_battalions_with_type@ss_motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@ss_motorized_assault }
			add_to_temp_variable = { total_mot = num_battalions_with_type@guards_motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@guards_motorized_assault }
			multiply_temp_variable = { total_mot = base_amount }
			add_to_temp_variable = { need = total_mot }
			
			set_temp_variable = { total_mech = num_battalions_with_type@mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized_assault }
			multiply_temp_variable = { total_mech = base_amount }
			add_to_temp_variable = { need = total_mech }
			
			set_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized_assault }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv_assault }
			multiply_temp_variable = { total_amph_mech = base_amount }
			add_to_temp_variable = { need = total_amph_mech }
		
		}
		localization_key = need5756
	}
	
	#########################
	# infantrygun equipment #
	#########################
	text = {
		trigger = {
			check_variable = { selected_equipment = token:infantrygun_equipment}
			check_variable = { v = token:infantry_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 2 }
			set_temp_variable = { total_infantry = num_battalions_with_type@infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@infantry_assault }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@ss_infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@ss_infantry_assault }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@guards_infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@guards_infantry_assault }
			multiply_temp_variable = { total_infantry = base_amount }
			add_to_temp_variable = { need = total_infantry }
		
		}
		localization_key = need5756
	}
	text = {
		trigger = {
			check_variable = { selected_equipment = token:infantrygun_equipment}
			check_variable = { v = token:mobile_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 2 }
			
			set_temp_variable = { total_semi_mot = num_battalions_with_type@semi_motorized }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@semi_motorized_assault }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_semi_motorized }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_semi_motorized_assault }
			multiply_temp_variable = { total_semi_mot = base_amount }
			add_to_temp_variable = { need = total_semi_mot }
			
			set_temp_variable = { total_mot = num_battalions_with_type@motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@motorized_assault }
			add_to_temp_variable = { total_mot = num_battalions_with_type@ss_motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@ss_motorized_assault }
			add_to_temp_variable = { total_mot = num_battalions_with_type@guards_motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@guards_motorized_assault }
			multiply_temp_variable = { total_mot = base_amount }
			add_to_temp_variable = { need = total_mot }
			
		}
		localization_key = need5756
	}
	
	###################
	# Radio equipment #
	###################
	text = {
		trigger = {
			check_variable = { selected_equipment = token:radio_equipment}
			check_variable = { v = token:infantry_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 6 }
			set_temp_variable = { total_infantry = num_battalions_with_type@infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@infantry_assault }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@ss_infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@ss_infantry_assault }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@guards_infantry }
			add_to_temp_variable = { total_infantry = num_battalions_with_type@guards_infantry_assault }
			multiply_temp_variable = { total_infantry = base_amount }
			add_to_temp_variable = { need = total_infantry }
			
			set_temp_variable = { base_amount = 6 }
			set_temp_variable = { total_light_infantry = num_battalions_with_type@light_infantry }
			add_to_temp_variable = { total_light_infantry = num_battalions_with_type@ss_light_infantry }
			multiply_temp_variable = { total_light_infantry = base_amount }
			add_to_temp_variable = { need = total_light_infantry }
			
			set_temp_variable = { base_amount = 5 }
			set_temp_variable = { total_irregulars_unit = num_battalions_with_type@irregulars_unit }
			multiply_temp_variable = { total_irregulars_unit = base_amount }
			add_to_temp_variable = { need = total_irregulars_unit }
			
			set_temp_variable = { base_amount = 3 }
			set_temp_variable = { total_secondary_infantry = num_battalions_with_type@garrison }
			add_to_temp_variable = { total_secondary_infantry = num_battalions_with_type@militia }
			multiply_temp_variable = { total_secondary_infantry = base_amount }
			add_to_temp_variable = { need = total_secondary_infantry }
		
		}
		localization_key = need5756
	}
	text = {
		trigger = {
			check_variable = { selected_equipment = token:radio_equipment}
			check_variable = { v = token:special_forces_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 6 }
			
			set_temp_variable = { total_paratrooper = num_battalions_with_type@paratrooper }
			add_to_temp_variable = { total_paratrooper = num_battalions_with_type@ss_paratrooper }
			add_to_temp_variable = { total_paratrooper = num_battalions_with_type@guards_paratrooper }
			multiply_temp_variable = { total_paratrooper = base_amount }
			add_to_temp_variable = { need = total_paratrooper }
			
			set_temp_variable = { total_mountaineer = num_battalions_with_type@mountaineers }
			add_to_temp_variable = { total_mountaineer = num_battalions_with_type@ss_mountaineers }
			add_to_temp_variable = { total_mountaineer = num_battalions_with_type@gurkha }
			multiply_temp_variable = { total_mountaineer = base_amount }
			add_to_temp_variable = { need = total_mountaineer }
			
			set_temp_variable = { total_marine = num_battalions_with_type@marine }
			add_to_temp_variable = { total_marine = num_battalions_with_type@marine_assault }
			multiply_temp_variable = { total_marine = base_amount }
			add_to_temp_variable = { need = total_marine }
		
		}
		localization_key = need5756
	}
	text = {
		trigger = {
			check_variable = { selected_equipment = token:radio_equipment}
			check_variable = { v = token:mobile_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 16 }
			
			set_temp_variable = { total_semi_mot = num_battalions_with_type@motorcycle_infantry }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_motorcycle_infantry }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@semi_motorized }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@semi_motorized_assault }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_semi_motorized }
			add_to_temp_variable = { total_semi_mot = num_battalions_with_type@ss_semi_motorized_assault }
			multiply_temp_variable = { total_semi_mot = base_amount }
			add_to_temp_variable = { need = total_semi_mot }
			
			set_temp_variable = { total_mot = num_battalions_with_type@motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@motorized_assault }
			add_to_temp_variable = { total_mot = num_battalions_with_type@ss_motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@ss_motorized_assault }
			add_to_temp_variable = { total_mot = num_battalions_with_type@guards_motorized }
			add_to_temp_variable = { total_mot = num_battalions_with_type@guards_motorized_assault }
			multiply_temp_variable = { total_mot = base_amount }
			add_to_temp_variable = { need = total_mot }
			
			set_temp_variable = { total_mech = num_battalions_with_type@mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized_assault }
			multiply_temp_variable = { total_mech = base_amount }
			add_to_temp_variable = { need = total_mech }
			
			set_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized_assault }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv_assault }
			multiply_temp_variable = { total_amph_mech = base_amount }
			add_to_temp_variable = { need = total_amph_mech }
			
			set_temp_variable = { base_amount = 8 }
			
			set_temp_variable = { total_cavalry = num_battalions_with_type@cavalry }
			add_to_temp_variable = { total_cavalry = num_battalions_with_type@ss_cavalry }
			add_to_temp_variable = { total_cavalry = num_battalions_with_type@guards_cavalry }
			add_to_temp_variable = { total_cavalry = num_battalions_with_type@camelry }
			multiply_temp_variable = { total_cavalry = base_amount }
			add_to_temp_variable = { need = total_cavalry }
		
		}
		localization_key = need5756
	}
	
	text = {
		trigger = {
			check_variable = { selected_equipment = token:radio_equipment}
			check_variable = { v = token:support_group }
			
			set_temp_variable = { need = 0 }
			
			if = {
				limit = {
					NOT = { has_country_flag = radio_equipment_first_support }
				}
				
				set_temp_variable = { base_amount = 40 }
				set_temp_variable = { total_div_hq = num_battalions_with_type@DIV_HQ }
				add_to_temp_variable = { total_div_hq = num_battalions_with_type@DIV_HQ_airborne }
				add_to_temp_variable = { total_div_hq = num_battalions_with_type@DIV_HQ_car }
				add_to_temp_variable = { total_div_hq = num_battalions_with_type@DIV_HQ_mech }
				add_to_temp_variable = { total_div_hq = num_battalions_with_type@DIV_HQ_arm }
				multiply_temp_variable = { total_div_hq = base_amount }
				add_to_temp_variable = { need = total_div_hq }		
			}
			if = {
				limit = {
					has_tech = recon_radio
				}
				
				set_temp_variable = { temp = 6 }
				set_temp_variable = { total_recon = num_battalions_with_type@recon }
				add_to_temp_variable = { total_recon = num_battalions_with_type@recon_cav }
				add_to_temp_variable = { total_recon = num_battalions_with_type@recon_mot }
				add_to_temp_variable = { total_recon = num_battalions_with_type@recon_mech }
				add_to_temp_variable = { total_recon = num_battalions_with_type@recon_ac }
				add_to_temp_variable = { total_recon = num_battalions_with_type@trm_tankette_armor_recon }
				add_to_temp_variable = { total_recon = num_battalions_with_type@trm_tankette_amphibious_armor_recon }
				add_to_temp_variable = { total_recon = num_battalions_with_type@trm_light_armor_recon }
				add_to_temp_variable = { total_recon = num_battalions_with_type@trm_light_amphibious_armor_recon }
				add_to_temp_variable = { total_recon = num_battalions_with_type@trm_cavalry_armor_recon }
				add_to_temp_variable = { total_recon = num_battalions_with_type@trm_cavalry_amphibious_armor_recon }
				add_to_temp_variable = { total_recon = num_battalions_with_type@trm_para_armor_recon }
				add_to_temp_variable = { total_recon = num_battalions_with_type@trm_para_airborne_armor_recon }
				add_to_temp_variable = { total_recon = num_battalions_with_type@trm_amphibious_armor_recon }
				multiply_temp_variable = { total_recon = temp }
				add_to_temp_variable = { need = total_recon }		
			}
		}
		localization_key = need5756
	}
	
	######################
	# CMD Tank equipment #
	######################
	text = {
		trigger = {
			check_variable = { selected_equipment = token:command_tank_equipment}
			check_variable = { v = token:armor_group }
			
			set_temp_variable = { need = 0 }	
		}
		localization_key = need5756
	}
	
	######################
	# Mech HMG equipment #
	######################
	text = {
		trigger = {
			check_variable = { selected_equipment = token:mechanized_hmg }
			check_variable = { v = token:mobile_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 10 }
			
			set_temp_variable = { total_mech = num_battalions_with_type@mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized_assault }
			multiply_temp_variable = { total_mech = base_amount }
			add_to_temp_variable = { need = total_mech }
			
			set_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized_assault }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv_assault }
			multiply_temp_variable = { total_amph_mech = base_amount }
			add_to_temp_variable = { need = total_amph_mech }
		
		}
		localization_key = need5756
	}
	
	#########################
	# Mech Mortar equipment #
	#########################
	text = {
		trigger = {
			check_variable = { selected_equipment = token:mechanized_mortar }
			check_variable = { v = token:mobile_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 10 }
			
			set_temp_variable = { total_mech = num_battalions_with_type@mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized_assault }
			multiply_temp_variable = { total_mech = base_amount }
			add_to_temp_variable = { need = total_mech }
			
			set_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized_assault }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv_assault }
			multiply_temp_variable = { total_amph_mech = base_amount }
			add_to_temp_variable = { need = total_amph_mech }
		
		}
		localization_key = need5756
	}
	
	#####################
	# Mech AT equipment #
	#####################
	text = {
		trigger = {
			check_variable = { selected_equipment = token:mechanized_at }
			check_variable = { v = token:mobile_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 5 }
			
			set_temp_variable = { total_mech = num_battalions_with_type@mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized_assault }
			multiply_temp_variable = { total_mech = base_amount }
			add_to_temp_variable = { need = total_mech }
			
			set_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized_assault }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv_assault }
			multiply_temp_variable = { total_amph_mech = base_amount }
			add_to_temp_variable = { need = total_amph_mech }
		
		}
		localization_key = need5756
	}
	
	#####################
	# Mech AA equipment #
	#####################
	text = {
		trigger = {
			check_variable = { selected_equipment = token:mechanized_aa }
			check_variable = { v = token:mobile_group }
			
			set_temp_variable = { need = 0 }
			
			set_temp_variable = { base_amount = 5 }
			
			set_temp_variable = { total_mech = num_battalions_with_type@mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@ss_mechanized_assault }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized }
			add_to_temp_variable = { total_mech = num_battalions_with_type@guards_mechanized_assault }
			multiply_temp_variable = { total_mech = base_amount }
			add_to_temp_variable = { need = total_mech }
			
			set_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@amphibious_mechanized_assault }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv }
			add_to_temp_variable = { total_amph_mech = num_battalions_with_type@american_amph_lv_assault }
			multiply_temp_variable = { total_amph_mech = base_amount }
			add_to_temp_variable = { need = total_amph_mech }
		
		}
		localization_key = need5756
	}
	
	### Fallback ###
	
	text = {
		localization_key = "-"
	}
	
}

defined_text = {
	name = GetEquipmentIntroStockpileFieldRatio
	text = {
		trigger = {
			set_temp_variable = { ratio = num_equipment@var:selected_equipment }
			if = {
				limit = {
					check_variable = { need > 0 }
				}
				divide_temp_variable = { ratio = need }
			}
			else = {
				set_temp_variable = { ratio = 1 }
			}
			clamp_temp_variable = { var = ratio min = 0 max = 1 }
			check_variable = { ratio = 1 }
		}
		localization_key = ratio0G1998
	}
	text = {
		trigger = {
			check_variable = { ratio > 0.5 }
		}
		localization_key = ratio0Y3496
	}
	text = {
		localization_key = ratio0R9204
	}
}
defined_text = {
	name = GetEquipmentIntroGFX
	text = {
		trigger = {
			check_variable = { v = token:HMG_equipment }
		}
		localization_key = "GFX_hmg_medium"
	}
	text = {
		trigger = {
			check_variable = { v = token:mortar_equipment }
		}
		localization_key = "GFX_mortars_medium"
	}
	text = {
		trigger = {
			check_variable = { v = token:handheld_at_equipment }
		}
		localization_key = "GFX_infantry_at_medium"
	}
	text = {
		trigger = {
			check_variable = { v = token:infantrygun_equipment }
		}
		localization_key = "GFX_infantry_guns_medium"
	}
	text = {
		trigger = {
			check_variable = { v = token:mechanized_hmg }
		}
		localization_key = "GFX_mechanized_hmg_tech_medium"
	}
	text = {
		trigger = {
			check_variable = { v = token:mechanized_mortar }
		}
		localization_key = "GFX_mechanized_mortar_tech_medium"
	}
	text = {
		trigger = {
			check_variable = { v = token:mechanized_at }
		}
		localization_key = "GFX_mechanized_at_tech_medium"
	}
	text = {
		trigger = {
			check_variable = { v = token:mechanized_aa }
		}
		localization_key = "GFX_mechanized_aa_tech_medium"
	}
	text = {
		trigger = {
			check_variable = { v = token:radio_equipment }
		}
		localization_key = "GFX_radio_technology_medium"
	}
}
defined_text = {
	name = GetEquipmentIntroGroupGFX
	text = {
		trigger = {
			check_variable = { v = token:infantry_group }
		}
		localization_key = "GFX_group_infantry_icon"
	}
	text = {
		trigger = {
			check_variable = { v = token:mobile_group }
		}
		localization_key = "GFX_group_mobile_icon"
	}
	text = {
		trigger = {
			check_variable = { v = token:armor_group }
		}
		localization_key = "GFX_group_armor_icon"
	}
	text = {
		trigger = {
			check_variable = { v = token:support_group }
		}
		localization_key = "GFX_group_artillery_icon"
	}
	text = {
		trigger = {
			check_variable = { v = token:special_forces_group }
		}
		localization_key = "GFX_group_special_forces_icon"
	}
}

defined_text = { 
    name = GetFocusProgessTooltip

    text = {
        trigger = {
			check_variable = { focus_progress > 699.9 }
        }
        localization_key = "Continuous Focuses unlocked"
    }
    text = {
        localization_key = Requiresfocusprogress700daysoffocustime7873
    }
}
defined_text = {
    name = GetFascistFactionLoyaltyLevel
    text = {
		trigger = {
			has_country_flag = iron_guard_destroyed_flag
		}
		localization_key = loyalty_status_crushed
	}
	text = {
		trigger = {
			has_country_flag = iron_guard_integrated_flag
		}
		localization_key = loyalty_status_integrated
	}
	text = {
        trigger = {
			check_variable = { ROM_iron_guard_loyalty = 10 compare = less_than_or_equals }
        }
        localization_key = "faction_loyalty_rebellious"
    }
	text = {
        trigger = {
			check_variable = { ROM_iron_guard_loyalty = 20 compare = less_than_or_equals }
			check_variable = { ROM_iron_guard_loyalty = 10 compare = greater_than } 
        }
        localization_key = "faction_loyalty_treacherous"
    }
    text = {
        trigger = {
			check_variable = { ROM_iron_guard_loyalty = 40 compare = less_than_or_equals }
			check_variable = { ROM_iron_guard_loyalty = 20 compare = greater_than }
        }
        localization_key = "faction_loyalty_disloyal"
    }
    text = {
        trigger = {
			check_variable = { ROM_iron_guard_loyalty = 60 compare = less_than_or_equals }
			check_variable = { ROM_iron_guard_loyalty = 40 compare = greater_than }
        }
        localization_key = "faction_loyalty_neutral"
    }
    text = {
        trigger = {
			check_variable = { ROM_iron_guard_loyalty = 80 compare = less_than_or_equals }
			check_variable = { ROM_iron_guard_loyalty = 60 compare = greater_than }
        }
        localization_key = "faction_loyalty_favorable"
    }
    text = {
        trigger = {
			check_variable = { ROM_iron_guard_loyalty = 100 compare = less_than_or_equals }
			check_variable = { ROM_iron_guard_loyalty = 80 compare = greater_than }
        }
        localization_key = "faction_loyalty_loyal"
    }
    text = {
        localization_key = ""
    }
}
defined_text = {
    name = GetMonarchistFactionLoyaltyLevel
	text = {
        trigger = {
			has_country_flag = monarchism_integrated_flag
        }
        localization_key = "faction_integrated_tt"
    }
    text = {
        trigger = {
			has_country_flag = monarchism_destroyed_flag
        }
        localization_key = "faction_destroyed_tt"
    }
    text = {
        trigger = {
			check_variable = { ROM_crown_council_loyalty = 10 compare = less_than_or_equals }
        }
        localization_key = "faction_loyalty_rebellious"
    }
    text = {
        trigger = {
			check_variable = { ROM_crown_council_loyalty = 20 compare = less_than_or_equals }
			check_variable = { ROM_crown_council_loyalty = 10 compare = greater_than } 
        }
        localization_key = "faction_loyalty_treacherous"
    }
    text = {
        trigger = {
			check_variable = { ROM_crown_council_loyalty = 40 compare = less_than_or_equals }
			check_variable = { ROM_crown_council_loyalty = 20 compare = greater_than }
        }
        localization_key = "faction_loyalty_disloyal"
    }
    text = {
        trigger = {
			check_variable = { ROM_crown_council_loyalty = 60 compare = less_than_or_equals }
			check_variable = { ROM_crown_council_loyalty = 40 compare = greater_than }
        }
        localization_key = "faction_loyalty_neutral"
    }
    text = {
        trigger = {
			check_variable = { ROM_crown_council_loyalty = 80 compare = less_than_or_equals }
			check_variable = { ROM_crown_council_loyalty = 60 compare = greater_than }
        }
        localization_key = "faction_loyalty_favorable"
    }
    text = {
        trigger = {
			check_variable = { ROM_crown_council_loyalty = 100 compare = less_than_or_equals }
			check_variable = { ROM_crown_council_loyalty = 80 compare = greater_than }
        }
        localization_key = "faction_loyalty_loyal"
    }
    text = {
        localization_key = ""
    }
}
defined_text = {
	name = GetIronGuardName
	text = {
		trigger = {
			original_tag = ROM
		}
		localization_key = ROM_iron_guard_name_and_icon
	}
}
defined_text = {
	name = GetCrownCouncilName
	text = {
		trigger = {
			original_tag = ROM
		}
		localization_key = ROM_crown_council_name_and_icon
	}
}
defined_text = {
	name = GetFascismLoyaltyStatus
	text = {
		trigger = {
			has_country_flag = iron_guard_destroyed_flag
		}
		localization_key = loyalty_status_crushed
	}
	text = {
		trigger = {
			original_tag = ROM
			has_country_flag = iron_guard_integrated_flag
		}
		localization_key = loyalty_status_integrated
	}
	text = {
		localization_key = ROM_iron_guard_loyalty_status_amount
	}
}
defined_text = {
	name = GetFascismPopularityStatus
	text = {
		trigger = {
			has_country_flag = iron_guard_destroyed_flag
		}
		localization_key = loyalty_status_crushed
	}
	text = {
		trigger = {
			original_tag = ROM
			has_country_flag = iron_guard_integrated_flag
		}
		localization_key = loyalty_status_integrated
	}
	text = {
		localization_key = ROM_iron_guard_popularity_status_amount
	}
}

defined_text = {
	name = GetMonarchismPopularityStatus
	text = {
		trigger = {
			has_country_flag = monarchism_destroyed_flag
		}
		localization_key = loyalty_status_crushed
	}
	text = {
		trigger = {
			original_tag = ROM
			has_country_flag = monarchism_integrated_flag
		}
		localization_key = loyalty_status_integrated
	}
	text = {
		localization_key = ROM_monarchists_popularity_status_amount
	}
}
defined_text = {
	name = GetMonarchismPartyNameAndIcon
	text = {
		trigger = {
			tag = ROM
		}
		localization_key = "ROM_crown_council_name_and_icon"
	}
}
#defined_text = {
#	name = GetGermanGeneralsNameAndIcon
#	text = {
#		trigger = {
#			tag = GER
#		}
#		localization_key = "GER_generals_faction_loyalty_value"
#	}
#}

defined_text = { 
    name = GetDiploFrontTitle

    text = {
        trigger = {
			FROM = { ROOT = { has_country_flag = ai_ignore_borders_from_@PREV } }
        }
        localization_key = "Allow their troops on our Fronts"
    }
    text = {
        localization_key = "Deny their troops on our Fronts"
    }
}
defined_text = { 
    name = GetDiploFrontTooltip

    text = {
        trigger = {
			FROM = { ROOT = { has_country_flag = ai_ignore_borders_from_@PREV } }
        }
        localization_key = "Allow their troops to reinforce us on fronts we control."
    }
    text = {
        localization_key = "Deny their troops to reinforce us on fronts we control."
    }
}
defined_text = { 
    name = GetPossibleResearchCentreStates

    text = {
        trigger = { 
			check_variable = { BI_research_centre_list^num > 2 }
        }
        localization_key = "NEXT_RESEARCH_STATE_POSSIBLE_STATES"
    }
    text = {
        localization_key = ""
    }
}

defined_text = { 
    name = GetHEDWindow

    text = {
		trigger = {
			var:HTD_target = { has_country_flag = HED_armor }
		}
        localization_key = "[?HTD_target.GetTag]_historical_armor_design_container"
    }
    text = {
		#trigger = {
		#	has_country_flag = HED_armor
		#}
        localization_key = "[?HTD_target.GetTag]_historical_navy_design_container"
    }
	
}
defined_text = { 
    name = GetHSDPrerequisite

    text = {
		trigger = {
			NOT = {
				meta_trigger = {
					text = {    
						has_country_flag = HSD_[X]_[Y]
					}
					X = "[?HTD_target.GetTag]"
					Y = "[?v.GetTokenKey]" 
				}
			}
		}
        localization_key = HSD_prerquisite_tooltip
    }
    text = {
        localization_key = ""
    }
}
defined_text = { 
    name = GetHTDPrerequisite

    text = {
		trigger = {
			NOT = {
				meta_trigger = {
					text = {    
						has_country_flag = HTD_[X]_[Y]
					}
					X = "[?HTD_target.GetTag]"
					Y = "[?v.GetTokenKey]" 
				}
			}
		}
        localization_key = HTD_prerquisite_tooltip
    }
}

defined_text = { 
    name = GetHDTTechBG

    text = {
		trigger = {  
			check_variable = { subtech = 1 }
		}
        localization_key = "GFX_subtech_status"
    }
    text = {
		trigger = {  
			check_variable = { subtech = 2 }
		}
        localization_key = "GFX_subtech_status"
    }
    text = {
		trigger = {  
			check_variable = { subtech > 2 } 
		}
        localization_key = "GFX_subtech_status"
    }
    text = {
        localization_key = ""
    }
}
defined_text = { 
    name = GetHDTSubtechIcon

    text = {
		trigger = {  
			check_variable = { armor_td = 1 }
		}
        localization_key = "ARMOR_TD"
    }
    text = {
		trigger = {  
			check_variable = { armor_aa = 1 }
		}
        localization_key = "ARMOR_AA"
    }
    text = {
		trigger = {  
			check_variable = { armor_art = 1 }
		}
        localization_key = "ARMOR_ART"
    }
	text = {
		trigger = {  
			check_variable = { armor_asg = 1 }
		}
		localization_key = "ARMOR_ASSAULT"
	}
	text = {
		trigger = {  
			check_variable = { armor_amph = 1 }
		}
		localization_key = "ARMOR_AMPH"
	}
    text = {
		trigger = {  
			check_variable = { armor_flame = 1 }
		}
        localization_key = "ARMOR_FLAME"
    }
    text = {
		trigger = {  
			check_variable = { armor_cs = 1 }
		}
		localization_key = "ARMOR_CS"
	}
    text = {
		trigger = {  
			check_variable = { armor_reg = 1 }
		}
		localization_key = "ARMOR_TANK"
	}
	text = {
			localization_key = "NONE"
	}
}
defined_text = { 
    name = GetHDTTechIcon

    text = {
		trigger = {  
			NOT = { has_country_flag = HED_armor }
		}
        localization_key = "GFX_[?icon.GetTokenKey]_medium"
    }
    text = {
        localization_key = "GFX_[?v.GetTokenKey]"
    }
}
defined_text = { 
    name = GetHDTXPText

    text = {
		trigger = {  
			check_variable = { xp_cost > 0 }
			NOT = { check_variable = { tech_status = 3 } }
		}
        localization_key = "HTD_xp_cost_tooltip"
    }
    text = {
        localization_key = ""
    }
}
defined_text = { 
    name = GetHDTXPColor

    text = {
		trigger = {  
			check_variable = { xp_true = 1 }
		}
        localization_key = xpcost0G5203
    }
    text = {
        localization_key = xpcost0R1379
    }
}
defined_text = { # Country
	name = GetLawName
	text = {
		trigger = { 
			meta_trigger = {
				text = {
					set_temp_variable = { title = token:[X]_name }
				}
				X = "[?v.GetTokenKey]"
			}
		}
		localization_key = titleGetTokenLocalizedKey166
	}
}
defined_text = { # Country
	name = GetLawTitle
	text = {
		trigger = { 
			check_variable = { v = token:trade_laws }
		}
		localization_key = LAW_TITLE_ENTRY
	}
}
defined_text = { # Country
	name = GetLawTitleSelected
	text = {
		trigger = { 
			check_variable = { law_category = token:trade_laws }
		}
		localization_key = LAW_TITLE_SELECTED_ENTRY
	}
}
defined_text = { # Country
	name = GetLawCost
	text = {
		trigger = { 
			OR = {
				NOT = { check_variable = { law_level@var:law_category = selected_laws_index^i } }
				NOT = { check_variable = { law_change_num@var:law_category = 0 } }
			} 
			NOT = { check_variable = { selected_laws_index^i = law_change_target } }
			
			has_political_power > selected_laws_cost^i
		}
		localization_key = SELECT_LAW_COST_PP_TRUE
	}
	text = {
		trigger = { 
			OR = {
				NOT = { check_variable = { law_level@var:law_category = selected_laws_index^i } }
				NOT = { check_variable = { law_change_num@var:law_category = 0 } }
			} 
			NOT = { check_variable = { selected_laws_index^i = law_change_target } }
		}
		localization_key = SELECT_LAW_COST_PP_FALSE
	}
}
defined_text = { # Country
	name = GetLawStats
	text = {
		trigger = {
			meta_trigger = {
				text = { set_temp_variable = { stats = token:[X]_stats } }
				X = "[?v.GetTokenKey]"
			}
		}
		localization_key = statsGetTokenLocalizedKey9782
	}
}
defined_text = { # Country
	name = GetLawChangeGFX
	text = {
		trigger = {
			check_variable = { law_category = token:economy }
		}
		localization_key = GFX_idea_economy_change
	}
	text = {
		trigger = {
			check_variable = { law_category = token:mobilization_laws }
		}
		localization_key = GFX_idea_mobilization_switch
	}
	text = {
		trigger = {
			check_variable = { law_category = token:cadet_training_standards }
		}
		localization_key = GFX_idea_cadet_training_switch
	}
	text = {
		trigger = {
			check_variable = { law_category = token:officer_training_standards }
		}
		localization_key = GFX_idea_officer_training_switch
	}
}
defined_text = { # Country
	name = GetLawTrigger 
	text = {
		trigger = { 
			OR = {
				NOT = { check_variable = { law_level@var:law_category = selected_laws_index^i } }
				NOT = { check_variable = { law_change_num@var:law_category = 0 } }
			} 
			NOT = { check_variable = { selected_laws_index^i = law_change_target } }
			
			check_variable = { trigger_true = 0 }
		}
		localization_key = "TRIGGER_NO"
	}
}
defined_text = { # Country
	name = GetLawSwitchIcon
	text = {
		trigger = {
			check_variable = { law_change_num@var:law_category > 0 }
		}
		localization_key = "LAW_SWITCH_ICON_UP"
	}
	text = {
		trigger = {
			check_variable = { law_change_num@var:law_category < 0 }
		}
		localization_key = "LAW_SWITCH_ICON_DOWN"
	}
}
defined_text = { # Country
	name = GetLawViewSwitchIcon
	text = {
		trigger = {
			check_variable = { law_change_num@var:v > 0 }
		}
		localization_key = "LAW_SWITCH_ICON_UP"
	}
	text = {
		trigger = {
			check_variable = { law_change_num@var:v < 0 }
		}
		localization_key = "LAW_SWITCH_ICON_DOWN"
	}
}
defined_text = { 
    name = GetLawChangeDays

    text = {
        trigger = {
			NOT = { check_variable = { law_change_num@var:law_category = 0 } } #is changing atm
			check_variable = { law_change_target = selected_laws_index^i }
			
			set_temp_variable = { remaining = law_change_days@var:law_category }
			subtract_from_temp_variable = { remaining = law_change_progress@var:law_category }
		
			set_temp_variable = { progress = 1 }
			set_temp_variable = { mod_id = global.law_mod@var:law_category }
			add_to_temp_variable = { progress = modifier@var:mod_id }
			
			divide_temp_variable = { remaining = progress }
			NOT = { check_variable = { remaining = 0 } }
		}
		localization_key = SELECT_LAW_DAYS_TEXT_GOOD
    }
    text = {
        trigger = {
			set_temp_variable = { num_step_changes = selected_laws_index^i }
			subtract_from_temp_variable = { num_step_changes = law_level@var:law_category }
			
			set_temp_variable = { remaining = duration }
			multiply_temp_variable = { remaining = num_step_changes }
			round_temp_variable = remaining
			if = {
				limit = { check_variable = { remaining < 0 } }
				multiply_temp_variable = { remaining = -1 }
			}
			NOT = { check_variable = { remaining = 0 } }
        }
		localization_key = SELECT_LAW_DAYS_TEXT_NEUTRAL
    }
}

defined_text = { 
    name = GetSpiritArmyCost

    text = {
        trigger = {
			check_variable = { army_xp_cost > 0 }
			check_variable = { army_experience > army_xp_cost }
		}
		localization_key = "SPIRIT_COST_ARMY_TRUE"
    }
    text = {
        trigger = {
			check_variable = { army_xp_cost > 0 }
		}
		localization_key = "SPIRIT_COST_ARMY_FALSE"
    }
}
defined_text = { 
    name = GetSpiritAirCost

    text = {
        trigger = {
			check_variable = { air_xp_cost > 0 }
			check_variable = { air_experience > air_xp_cost }
		}
		localization_key = "SPIRIT_COST_AIR_TRUE"
    }
    text = {
        trigger = {
			check_variable = { air_xp_cost > 0 }
		}
		localization_key = "SPIRIT_COST_AIR_FALSE"
    }
}
defined_text = { 
    name = GetSpiritNavyCost

    text = {
        trigger = {
			check_variable = { navy_xp_cost > 0 }
			check_variable = { navy_experience > navy_xp_cost }
		}
		localization_key = "SPIRIT_COST_NAVY_TRUE"
    }
    text = {
        trigger = {
			check_variable = { navy_xp_cost > 0 }
		}
		localization_key = "SPIRIT_COST_NAVY_FALSE"
    }
}

defined_text = { 
    name = GetTrueAirProduction

    text = { 
        trigger = {
			set_temp_variable = { t = num_air_assembly }
			multiply_temp_variable = { t = modifier@air_production_capacity }
		}
		localization_key = tG06235
    }
}
defined_text = { 
    name = GetAirProductionConsumed

    text = { 
        trigger = {
			set_temp_variable = { t = resource_consumed@air_production }
			multiply_temp_variable = { t = -1 }
			check_variable = { resource@air_production < 0 }
			add_to_temp_variable = { t = resource@air_production }
		}
		localization_key = tR01120
    }
    text = { 
		localization_key = tR01120
    }
}


defined_text = { 
    name = GetTrueEngineProduction

    text = { 
        trigger = {
			set_temp_variable = { t = num_engine_assembly }
			multiply_temp_variable = { t = modifier@engine_production_capacity }
		}
		localization_key = tG06235
    }
}
defined_text = { 
    name = GetEngineProductionConsumed

    text = { 
        trigger = {
			set_temp_variable = { t = resource_consumed@engine_production }
			multiply_temp_variable = { t = -1 }
			check_variable = { resource@engine_production < 0 }
			add_to_temp_variable = { t = resource@engine_production }
		}
		localization_key = tR01120
    }
    text = { 
		localization_key = tR01120
    }
}


defined_text = { 
    name = GetTrueArtilleryProduction

    text = { 
        trigger = {
			set_temp_variable = { t = num_artillery_assembly }
			multiply_temp_variable = { t = modifier@artillery_production_capacity }
		}
		localization_key = tG06235
    }
}
defined_text = { 
    name = GetArtilleryProductionConsumed

    text = { 
        trigger = {
			set_temp_variable = { t = resource_consumed@artillery_production }
			multiply_temp_variable = { t = -1 }
			check_variable = { resource@artillery_production < 0 }
			add_to_temp_variable = { t = resource@artillery_production }
		}
		localization_key = tR01120
    }
    text = { 
		localization_key = tR01120
    }
}


defined_text = { 
    name = GetTrueTankProduction

    text = { 
        trigger = {
			set_temp_variable = { t = num_tank_assembly }
			multiply_temp_variable = { t = modifier@tank_production_capacity }
		}
		localization_key = tG06235
    }
}
defined_text = { 
    name = GetTankProductionConsumed

    text = { 
        trigger = {
			set_temp_variable = { t = resource_consumed@tank_production }
			multiply_temp_variable = { t = -1 }
			check_variable = { resource@tank_production < 0 }
			add_to_temp_variable = { t = resource@tank_production }
		}
		localization_key = tR01120
    }
    text = { 
		localization_key = tR01120
    }
}

defined_text = { 
    name = GetTrueCapitalProduction

    text = { 
        trigger = {
			set_temp_variable = { t = num_capital_shipyard }
			multiply_temp_variable = { t = modifier@shipyard_capital_capacity }
		}
		localization_key = tG06235
    }
}
defined_text = { 
    name = GetCapitalProductionConsumed

    text = { 
        trigger = {
			set_temp_variable = { t = resource_consumed@shipyard_capital }
			multiply_temp_variable = { t = -1 }
			check_variable = { resource@shipyard_capital < 0 }
			add_to_temp_variable = { t = resource@shipyard_capital }
		}
		localization_key = tR01120
    }
    text = { 
		localization_key = tR01120
    }
}
defined_text = { 
    name = GetCapitalProductionFree

    text = { 
        trigger = {
			OR = {
				check_variable = { resource_produced@shipyard_capital > 0 }
				check_variable = {
					var = SYadjustment
					value = 0
					compare = not_equals
				}
			}
			set_temp_variable = { num_capital_shipyard_free = resource@shipyard_capital }
			round_temp_variable = num_capital_shipyard_free
			divide_temp_variable = { num_capital_shipyard_free = 15 }
			clamp_temp_variable = { var = num_capital_shipyard_free min = 0 }
		}
		localization_key = "CAPITAL_SHIPYARD_PRODUCTION_FREE"
    }
}




defined_text = { 
    name = GetStartupSettingEntry

    text = { 
        trigger = {
			check_variable = { global.options@var:setting^num > 0 }
		}
		localization_key = "startup_settings_dropdown_entry"
    }
    text = { 
        trigger = {
			is_in_array = { global.settings_header = setting }
		}
		localization_key = "startup_settings_header_entry"
    }
    text = { 
        trigger = {
			
		}
		localization_key = "startup_settings_entry"
    }
}
defined_text = { 
    name = GetSpainNumVols

    text = { 
        trigger = {
			all_of_scopes = {
				array = volunteers_send
				
				if = {
					limit = {
						PREV = {
							has_volunteers_amount_from = {
								tag = PREV
								count > 4
							}
						}
					}
					add_to_temp_variable = { total_vols = 5 }
				}
				else_if = {
					limit = {
						PREV = {
							has_volunteers_amount_from = {
								tag = PREV
								count > 3
							}
						}
					}
					add_to_temp_variable = { total_vols = 4 }
				}
				else_if = {
					limit = {
						PREV = {
							has_volunteers_amount_from = {
								tag = PREV
								count > 2
							}
						}
					}
					add_to_temp_variable = { total_vols = 3 }
				}
				else_if = {
					limit = {
						PREV = {
							has_volunteers_amount_from = {
								tag = PREV
								count > 1
							}
						}
					}
					add_to_temp_variable = { total_vols = 2 }
				}
				else_if = {
					limit = {
						PREV = {
							has_volunteers_amount_from = {
								tag = PREV
								count > 0
							}
						}
					}
					add_to_temp_variable = { total_vols = 1 }
				}
			}
				
		}
		localization_key = totalvols0Y5793
    }
}

defined_text = {
    name = dirty

    text = { 
        trigger = {
			is_debug = yes
		}
		localization_key = "Debug | Last update: [GetDate] ([Root.GetTag])"
    }
}
defined_text = {
    name = GetPLANTrainerChange

    text = { 
        trigger = {
			set_temp_variable = { change = ENG.train_planes }
			CAN = {
				if = {
					limit = {
						has_country_flag = CW_THE_PLAN
					}
					add_to_temp_variable = { change = train_planes }
				}
			}
			NZL = {
				if = {
					limit = {
						has_country_flag = CW_THE_PLAN
					}
					add_to_temp_variable = { change = train_planes }
				}
			}
			AST = {
				if = {
					limit = {
						has_country_flag = CW_THE_PLAN
					}
					add_to_temp_variable = { change = train_planes }
				}
			}
			SAF = {
				if = {
					limit = {
						has_country_flag = CW_THE_PLAN
					}
					add_to_temp_variable = { change = train_planes }
				}
			}
		}
		localization_key = change06234
    }
}
defined_text = {
    name = GetPLANPilotChange

    text = { 
        trigger = {
			set_temp_variable = { gain_pilots = ENG.pilots }
			set_temp_variable = { factor = ENG.pilot_gain_factor }
			add_to_temp_variable = { factor = 1 }
			multiply_temp_variable = { gain_pilots = factor }
			
			set_temp_variable = { change = gain_pilots }
			CAN = {
				if = {
					limit = {
						has_country_flag = CW_THE_PLAN
					}
					set_temp_variable = { gain_pilots = pilots }
					set_temp_variable = { factor = pilot_gain_factor }
					add_to_temp_variable = { factor = 1 }
					multiply_temp_variable = { gain_pilots = factor }
					
					add_to_temp_variable = { change = gain_pilots }
				}
			}
			NZL = {
				if = {
					limit = {
						has_country_flag = CW_THE_PLAN
					}
					set_temp_variable = { gain_pilots = pilots }
					set_temp_variable = { factor = pilot_gain_factor }
					add_to_temp_variable = { factor = 1 }
					multiply_temp_variable = { gain_pilots = factor }
					
					add_to_temp_variable = { change = gain_pilots }
				}
			}
			AST = {
				if = {
					limit = {
						has_country_flag = CW_THE_PLAN
					}
					set_temp_variable = { gain_pilots = pilots }
					set_temp_variable = { factor = pilot_gain_factor }
					add_to_temp_variable = { factor = 1 }
					multiply_temp_variable = { gain_pilots = factor }
					
					add_to_temp_variable = { change = gain_pilots }
				}
			}
			SAF = {
				if = {
					limit = {
						has_country_flag = CW_THE_PLAN
					}
					set_temp_variable = { gain_pilots = pilots }
					set_temp_variable = { factor = pilot_gain_factor }
					add_to_temp_variable = { factor = 1 }
					multiply_temp_variable = { gain_pilots = factor }
					
					add_to_temp_variable = { change = gain_pilots }
				}
			}
			USA = {
				if = {
					limit = {
						has_country_flag = pilots_sent
					}
					add_to_temp_variable = { change = pilots }
				}
			}
		}
		localization_key = change06234
    }
}

defined_text = { 
	name = GetCons
	text = {
		trigger = {
			has_character_flag = conservatism
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_conservatism_alt
	}
	text = {
		trigger = {
			has_character_flag = conservatism
		}
		localization_key = ideology_icon_conservatism
	}
}
defined_text = { 
	name = GetLib
	text = {
		trigger = {
			has_character_flag = liberalism
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_liberalism_alt
	}
	text = {
		trigger = {
			has_character_flag = liberalism
		}
		localization_key = ideology_icon_liberalism
	}
}
defined_text = { 
	name = GetSoc
	text = {
		trigger = {
			has_character_flag = socialism
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_socialism_alt
	}
	text = {
		trigger = {
			has_character_flag = socialism
		}
		localization_key = ideology_icon_socialism
	}
}
defined_text = { 
	name = GetAgr
	text = {
		trigger = {
			has_character_flag = agrarianism
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_agrarianism_alt
	}
	text = {
		trigger = {
			has_character_flag = agrarianism
		}
		localization_key = ideology_icon_agrarianism
	}
}
defined_text = { 
	name = GetNeu
	text = {
		trigger = {
			has_character_flag = neutrality
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_neutrality_alt
	}
	text = {
		trigger = {
			has_character_flag = neutrality
		}
		localization_key = ideology_icon_neutrality
	}
}
defined_text = { 
	name = GetMon
	text = {
		trigger = {
			has_character_flag = monarchism
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_monarchism_alt
	}
	text = {
		trigger = {
			has_character_flag = monarchism
		}
		localization_key = ideology_icon_monarchism
	}
}
defined_text = { 
	name = GetFac
	text = {
		trigger = {
			has_character_flag = fascism
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_fascism_alt
	}
	text = {
		trigger = {
			has_character_flag = fascism
		}
		localization_key = ideology_icon_fascism
	}
}
defined_text = { 
	name = GetCom
	text = {
		trigger = {
			has_character_flag = communism
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_communism_alt
	}
	text = {
		trigger = {
			has_character_flag = communism
		}
		localization_key = ideology_icon_communism
	}
}
defined_text = { 
	name = GetFacAnti
	text = {
		trigger = {
			has_character_flag = anti_fascist
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_anti_fascist_alt
	}
	text = {
		trigger = {
			has_character_flag = anti_fascist
		}
		localization_key = ideology_icon_anti_fascist
	}
}
defined_text = { 
	name = GetComAnti
	text = {
		trigger = {
			has_character_flag = anti_communist
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_anti_communist_alt
	}
	text = {
		trigger = {
			has_character_flag = anti_communist
		}
		localization_key = ideology_icon_anti_communist
	}
}
defined_text = { 
	name = GetApo
	text = {
		trigger = {
			has_character_flag = apolitical
			check_variable = { alternative_icon > 0 }
		}
		localization_key = ideology_icon_apolitical_alt
	}
	text = {
		trigger = {
			has_character_flag = apolitical
		}
		localization_key = ideology_icon_apolitical
	}
}

defined_text = { 
	name = GetAdvisorConservatism
	text = {
		trigger = {
			NOT = { check_variable = { num_advisor@conservatism = 0 } }
			set_temp_variable = { t = num_advisor@conservatism }
			multiply_temp_variable = { t = 100 }
		}
		localization_key = ideology_icon_conservatism_num
	}
}
defined_text = { 
	name = GetAdvisorLiberalism
	text = {
		trigger = {
			NOT = { check_variable = { num_advisor@liberalism = 0 } }
			set_temp_variable = { t = num_advisor@liberalism }
			multiply_temp_variable = { t = 100 }
		}
		localization_key = ideology_icon_liberalism_num
	}
}
defined_text = { 
	name = GetAdvisorSocialism
	text = {
		trigger = {
			NOT = { check_variable = { num_advisor@socialism = 0 } }
			set_temp_variable = { t = num_advisor@socialism }
			multiply_temp_variable = { t = 100 }
		}
		localization_key = ideology_icon_socialism_num
	}
}
defined_text = { 
	name = GetAdvisorAgrarianism
	text = {
		trigger = {
			NOT = { check_variable = { num_advisor@agrarianism = 0 } }
			set_temp_variable = { t = num_advisor@agrarianism }
			multiply_temp_variable = { t = 100 }
		}
		localization_key = ideology_icon_agrarianism_num
	}
}
defined_text = { 
	name = GetAdvisorFascism
	text = {
		trigger = {
			NOT = { check_variable = { num_advisor@fascism = 0 } }
			set_temp_variable = { t = num_advisor@fascism }
			multiply_temp_variable = { t = 100 }
		}
		localization_key = ideology_icon_fascism_num
	}
}
defined_text = { 
	name = GetAdvisorCommunism
	text = {
		trigger = {
			NOT = { check_variable = { num_advisor@communism = 0 } }
			set_temp_variable = { t = num_advisor@communism }
			multiply_temp_variable = { t = 100 }
		}
		localization_key = ideology_icon_communism_num
	}
}
defined_text = { 
	name = GetAdvisorMonarchism
	text = {
		trigger = {
			NOT = { check_variable = { num_advisor@monarchism = 0 } }
			set_temp_variable = { t = num_advisor@monarchism }
			multiply_temp_variable = { t = 100 }
		}
		localization_key = ideology_icon_monarchism_num
	}
}
defined_text = { 
	name = GetAdvisorNeutrality
	text = {
		trigger = {
			NOT = { check_variable = { num_advisor@neutrality = 0 } }
			set_temp_variable = { t = num_advisor@neutrality }
			multiply_temp_variable = { t = 100 }
		}
		localization_key = ideology_icon_neutrality_num
	}
}
defined_text = { 
	name = GetAdvisorApolitical
	text = {
		trigger = {
			NOT = { check_variable = { num_advisor_apolitical = 0 } }
			set_temp_variable = { t = num_advisor_apolitical }
			multiply_temp_variable = { t = 100 }
		}
		localization_key = ideology_icon_apolitical_num
	}
}

defined_text = { # Country
	name = GetAdvisorIdeologyList
	text = {
		trigger = {
			all_character = {
				if = {
					limit = {
						has_character_flag = ideology
						is_hired_as_advisor = yes
					}
					add_to_temp_array = { ideology_advisor_array = THIS }
				}
			}
		}
		localization_key = "ideology_advisor_tooltip_list"
	}
}
defined_text = { # Country
	name = GetAdvisorIdeologyEntry
	text = {
		trigger = {
			add_to_temp_variable = { iteration = 1 }
			check_variable = { ideology_advisor_array^num > iteration }
		}
		localization_key = "ideology_advisor_tooltip_list"
	}
}


defined_text = { # Country
	name = GetTrainingTime
	text = {
		trigger = {
			set_temp_variable = { t = modifier@training_time_factor }
			add_to_temp_variable = { t = modifier@training_time_army_factor }
		}
		localization_key = t09938
	}
}
defined_text = { # Country
	name = GetMinTraining
	text = {
		trigger = {
			set_temp_variable = { t = modifier@minimum_training_level }
			#add_to_temp_variable = { t = 0.5 }
			
			check_variable = { t > 0 }
		}
		localization_key = t0R6456
	}
	text = {
		trigger = {
			check_variable = { t < 0 }
		}
		localization_key = t0G1578
	}
	text = {
		localization_key = t0Y8772
	}
}
defined_text = { # Country
	name = GetBuildingEntryContainer
	text = {
		trigger = {
			OR = {
				check_variable = { v = 1 }
				check_variable = { v = 2 }
				check_variable = { v = 3 }
			}
		}
		localization_key = "building_list_detail_entry"
	}
	text = {
		localization_key = "building_list_entry"
	}
}
defined_text = { # Country
	name = GetBuildingEntryTitle
	text = {
		trigger = {
			check_variable = { v = 1 }
		}
		localization_key = "From owned states"
	}
	text = {
		trigger = {
			check_variable = { v = 2 }
		}
		localization_key = "From occupied states"
	}
	text = {
		trigger = {
			check_variable = { v = 3 }
		}
		localization_key = "Damaged"
	}
}
defined_text = { # Country
	name = GetBuildingEntryValue
	text = {
		trigger = {
			check_variable = { v = 1 }
		}
		localization_key = ROOTuinumbuildingownedvarparent08396
	}
	text = {
		trigger = {
			check_variable = { v = 2 }
		}
		localization_key = ROOTuinumbuildingoccupiedvarparent04582
	}
	text = {
		trigger = {
			check_variable = { v = 3 }
		}
		localization_key = "Damaged"
	}
}

defined_text = {
	name = GetAIRoleProductionFlat
	text = {
		trigger = {
			if = {
				limit = {
					has_country_flag = ui_show_ai_navy_production
				}
				var:ROOT.targeted_country = {
					set_temp_variable = { t = ui_ai_ship_need@var:v }
				}
			}
			else_if = {
				limit = {
					has_country_flag = ui_show_ai_air_production
				}
				var:ROOT.targeted_country = {
					set_temp_variable = { t = ui_ai_air_need@var:v }
				}
			}
			else = {
				var:ROOT.targeted_country = {
					set_temp_variable = { t = ui_ai_unit_need@var:v }
				}
			}
		}
	
		localization_key = t06525
	}
}
defined_text = {
	name = GetAIRoleProductionMult
	text = {
		trigger = {
			if = {
				limit = {
					has_country_flag = ui_show_ai_navy_production
				}
				var:ROOT.targeted_country = {
					set_temp_variable = { t = ui_ai_ship_need_mult@var:v }
				}
			}
			else_if = {
				limit = {
					has_country_flag = ui_show_ai_air_production
				}
				var:ROOT.targeted_country = {
					set_temp_variable = { t = ui_ai_air_need_mult@var:v }
				}
			}
			else = {
				var:ROOT.targeted_country = {
					set_temp_variable = { t = ui_ai_unit_need_mult@var:v }
				}
			}
		}
		localization_key = t05230
	}
}
defined_text = {
	name = GetAIRoleProduction
	text = {
		trigger = {
			if = {
				limit = {
					ROOT = { has_country_flag = ui_show_ai_navy_production }
				}
				
				var:ROOT.targeted_country = {
					set_temp_variable = { t = ai_ship_need@var:v }
				}
			}
			else_if = {
				limit = {
					ROOT = { has_country_flag = ui_show_ai_air_production }
				}
				
				var:ROOT.targeted_country = {
					set_temp_variable = { t = ai_need@var:v }
				}
			}
			else = {
				var:ROOT.targeted_country = {
					set_temp_variable = { t = ai_unit_need@var:v }
				}
			}
		}
		localization_key = t5935
	}
}

defined_text = {
	name = GetAgencyUpgradeTitle
	text = {
		trigger = {
			check_variable = { current_upgrade_array^num = 0 }
		}
		localization_key = "No upgrade"
	}
	text = {
		localization_key = "[?current_upgrade_array^0.GetTokenLocalizedKey]"
	}
}
defined_text = {
	name = GetAgencyUpgradeDaysRemaining
	text = {
		trigger = {
			check_variable = { current_upgrade_array^num = 0 }
		}
		localization_key = ""
	}
	text = {
		trigger = {
			set_temp_variable = { upgrade = current_upgrade_array^0 }
		
			set_temp_variable = { progress = agency_progress@var:upgrade }
			divide_temp_variable = { progress = agency_target_progress@var:upgrade }
			multiply_temp_variable = { progress = 100 }
			
			set_temp_variable = { days_remaining = agency_target_progress@var:upgrade }
			subtract_from_temp_variable = { days_remaining = agency_progress@var:upgrade }
		}
		localization_key = "[?days_remaining] days"
	}
}
defined_text = {
	name = GetIntelNetworkEntryContainer
	text = {
		trigger = {
			check_variable = { v = 0 }
		}
		localization_key = BI_asset_empty_container
	}
	text = {
		localization_key = BI_operation_token_country_list_container
	}
}
defined_text = {
	name = GetIntelAssetEntryContainer
	text = {
		trigger = {
			OR = {
				check_variable = { asset = token:token_civilian }
				check_variable = { asset = token:token_army }
				check_variable = { asset = token:token_airforce }
				check_variable = { asset = token:token_navy }
				check_variable = { asset = token:token_resistance_contacts }
			}
		}
		localization_key = intel_network_[?asset.GetTokenKey]_entry
	}
	text = {
		localization_key = intel_network_captured_entry
	}
}

defined_text = {
	name = GetAssetDesc
	text = {
		localization_key = [?asset.GetTokenKey]_desc
	}
}
defined_text = {
	name = GetCivilianAssetChance
	text = {
		trigger = {
			set_temp_variable = { asset_chance = 1 }
			subtract_from_temp_variable = { asset_chance = modifier@operation_economy_keep_asset_chance }
			check_variable = { asset_chance = 1 }
		}
		localization_key = keep_asset_chance_bad
	}
	text = {
		trigger = {
			check_variable = { asset_chance < 0.5 }
		}
		localization_key = keep_asset_chance_good
	}
	text = {
		localization_key = keep_asset_chance_ok
	}
}
defined_text = {
	name = GetArmyAssetChance
	text = {
		trigger = {
			set_temp_variable = { asset_chance = 1 }
			subtract_from_temp_variable = { asset_chance = modifier@operation_army_keep_asset_chance }
			check_variable = { asset_chance = 1 }
		}
		localization_key = keep_asset_chance_bad
	}
	text = {
		trigger = {
			check_variable = { asset_chance < 0.5 }
		}
		localization_key = keep_asset_chance_good
	}
	text = {
		localization_key = keep_asset_chance_ok
	}
}
defined_text = {
	name = GetAirAssetChance
	text = {
		trigger = {
			set_temp_variable = { asset_chance = 1 }
			subtract_from_temp_variable = { asset_chance = modifier@operation_air_keep_asset_chance }
			check_variable = { asset_chance = 1 }
		}
		localization_key = keep_asset_chance_bad
	}
	text = {
		trigger = {
			check_variable = { asset_chance < 0.5 }
		}
		localization_key = keep_asset_chance_good
	}
	text = {
		localization_key = keep_asset_chance_ok
	}
}
defined_text = {
	name = GetNavyAssetChance
	text = {
		trigger = {
			set_temp_variable = { asset_chance = 1 }
			subtract_from_temp_variable = { asset_chance = modifier@operation_navy_keep_asset_chance }
			check_variable = { asset_chance = 1 }
		}
		localization_key = keep_asset_chance_bad
	}
	text = {
		trigger = {
			check_variable = { asset_chance < 0.5 }
		}
		localization_key = keep_asset_chance_good
	}
	text = {
		localization_key = keep_asset_chance_ok
	}
}
defined_text = { 
	name = GetResistanceAreaName
	text = {
		trigger = {
			clear_temp_array = resistance_area
			set_temp_variable = { average_resistance = 0 }
			set_temp_variable = { average_compliance = 0 }
			
			add_to_temp_array = { resistance_area = THIS }
			add_to_temp_variable = { average_resistance = resistance }
			add_to_temp_variable = { average_compliance = compliance }
			
			add_to_temp_variable = { resistance_speed_total = resistance_speed }
			add_to_temp_variable = { compliance_speed_total = compliance_speed }
			#log = "=============================="
			all_neighbor_state = {
				if = {
					limit = {
						has_resistance = yes
						is_controlled_by = var:v
					}
					add_to_temp_array = { resistance_area = THIS }
					#log = "[This.GetName]"
					add_to_temp_variable = { average_resistance = resistance }
					add_to_temp_variable = { average_compliance = compliance }
					
					add_to_temp_variable = { resistance_speed_total = resistance_speed }
					add_to_temp_variable = { compliance_speed_total = compliance_speed }
				}
			}
			divide_temp_variable = { average_resistance = resistance_area^num }
			divide_temp_variable = { average_compliance = resistance_area^num }
			remove_from_temp_array = { resistance_area = THIS }
		}
		localization_key = "[This.GetName] ([?resistance_area^num])"
	}
}
defined_text = { 
	name = GetResistanceAreaStatus
	text = {
		trigger = {
			check_variable = { resistance_speed_total > 0 }
		}
		localization_key = TOPBAR_INCREASE
	}
	text = {
		trigger = {
			check_variable = { resistance_speed_total < 0 }
		}
		localization_key = TOPBAR_DECREASE
	}
}
defined_text = { 
	name = GetComplianceAreaStatus
	text = {
		trigger = {
			check_variable = { compliance_speed_total > 0 }
		}
		localization_key = TOPBAR_DECREASE_BAD
	}
	text = {
		trigger = {
			check_variable = { compliance_speed_total < 0 }
		}
		localization_key = TOPBAR_INCREASE_BAD
	}
}
defined_text = { 
	name = GetResistanceAreaSelected
	text = {
		trigger = {
			check_variable = { ROOT.selected_resistance_area@var:v = resistance_area }
		}
		localization_key = RESISTANCE_AREA_SELECTED
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = GetAssetCPCost
	text = {
		trigger = {
			check_variable = { cp_cost > 0 }
		}
		localization_key = asset_cp_cost
	}
}
defined_text = {
	name = GetMostBuildArea
	text = {
		localization_key = STRATEGICREGION_[?highest_region]
	}
}
defined_text = {
	name = GetLiquidateState
	text = {
		trigger = {
			OWNER = { set_temp_variable = { t = liquidate_state } }
			#log = "[?t.GetName] [?t]"
		}
		localization_key = "[?t.GetName]"
	}
}
defined_text = {
	name = GetCoordinatedStrikeRegion
	text = {
		trigger = {
			FROM.FROM = { set_temp_variable = { region_target = region } }
		}
		localization_key = STRATEGICREGION_[?region_target]
	}
}
defined_text = {
	name = GetAgencyUpgradeLevel
	text = {
		trigger = {
			check_variable = { level = 1 }
		}
		localization_key = GFX_checkbox_one
	}
	text = {
		trigger = {
			check_variable = { level = 2 }
		}
		localization_key = GFX_checkbox_two_off
	}
	text = {
		trigger = {
			check_variable = { level = 3 }
		}
		localization_key = GFX_checkbox_three_off
	}
	text = {
		trigger = {
			check_variable = { level = 4 }
		}
		localization_key = GFX_checkbox_four_off
	}
}
defined_text = {
	name = GetAgencyUpgradeProgress
	text = {
		trigger = {
			meta_trigger = {
				text = {
					has_country_flag = {
						flag = [X]
						value = 1 
					}
				}
				X = "[?v.GetTokenKey]"
			}
		}
		localization_key = GFX_checkbox_one_1
	}
	text = {
		trigger = {
			meta_trigger = {
				text = {
					has_country_flag = {
						flag = [X]
						value = 2
					}
				}
				X = "[?v.GetTokenKey]"
			}
		}
		localization_key = GFX_checkbox_two_2
	}
	text = {
		trigger = {
			meta_trigger = {
				text = {
					has_country_flag = {
						flag = [X]
						value = 3
					}
				}
				X = "[?v.GetTokenKey]"
			}
		}
		localization_key = GFX_checkbox_three_3
	}
	text = {
		trigger = {
			meta_trigger = {
				text = {
					has_country_flag = {
						flag = [X]
						value = 4
					}
				}
				X = "[?v.GetTokenKey]"
			}
		}
		localization_key = GFX_checkbox_four_4
	}
}

defined_text = {
	name = GetAgencyUpgradeButton
	text = {
		trigger = {
			meta_trigger = {
				text = {
					has_done_agency_upgrade = [V]
				}
				V = "[?v.GetTokenKey]"
			}	
		}
		localization_key = GFX_agency_upgrade_btn_completed
	}
	text = {
		trigger = {
			is_in_array = { current_upgrade_array = v }
		}
		localization_key = GFX_agency_upgrade_btn_current
	}
	text = {
		localization_key = GFX_agency_upgrade_btn_can_start
	}
}
defined_text = {
	name = GetAgencyUpgradeFrame
	text = {
		trigger = {
			meta_trigger = {
				text = {
					has_done_agency_upgrade = [V]
				}
				V = "[?v.GetTokenKey]"
			}	
		}
		localization_key = "[GetAgencyUpgradeFrameComplete]"
	}
	text = {
		localization_key = "[GetAgencyUpgradeFrameUnavailable]"
	}
}
defined_text = {
	name = GetAgencyUpgradeFrameUnavailable
	text = {
		trigger = {
			check_variable = { v = token:upgrade_airforce_department }
		}
		localization_key = GFX_upgrade_frame_airforce_unavailable
	}
	text = {
		trigger = {
			check_variable = { v = token:upgrade_army_department }
		}
		localization_key = GFX_upgrade_frame_army_unavailable
	}
	text = {
		trigger = {
			check_variable = { v = token:upgrade_naval_department }
		}
		localization_key = GFX_upgrade_frame_naval_unavailable
	}
	text = {
		trigger = {
			check_variable = { v = token:upgrade_economy_civilian }
		}
		localization_key = GFX_upgrade_frame_economy_unavailable
	}
	text = {
		trigger = {
			check_variable = { v = token:upgrade_passive_defense }
		}
		localization_key = GFX_upgrade_frame_defense_unavailable
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:upgrade_form_operations }
				check_variable = { v = token:upgrade_expand_operations }
				check_variable = { v = token:upgrade_form_department }
			}
		}
		localization_key = GFX_upgrade_frame_form_unavailable
	}
	text = {
		localization_key = GFX_upgrade_frame_1_unavailable
	}

}
defined_text = {
	name = GetAgencyUpgradeFrameComplete
	text = {
		trigger = {
			check_variable = { v = token:upgrade_airforce_department }
		}
		localization_key = GFX_upgrade_frame_airforce_completed
	}
	text = {
		trigger = {
			check_variable = { v = token:upgrade_army_department }
		}
		localization_key = GFX_upgrade_frame_army_completed
	}
	text = {
		trigger = {
			check_variable = { v = token:upgrade_naval_department }
		}
		localization_key = GFX_upgrade_frame_naval_completed
	}
	text = {
		trigger = {
			check_variable = { v = token:upgrade_economy_civilian }
		}
		localization_key = GFX_upgrade_frame_economy_completed
	}
	text = {
		trigger = {
			check_variable = { v = token:upgrade_passive_defense }
		}
		localization_key = GFX_upgrade_frame_defense_completed
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:upgrade_form_operations }
				check_variable = { v = token:upgrade_expand_operations }
				check_variable = { v = token:upgrade_form_department }
			}
		}
		localization_key = GFX_upgrade_frame_form_completed
	}
	text = {
		localization_key = GFX_upgrade_frame_1_completed
	}

}
defined_text = {
	name = GetAgencyUpgradeValue
	text = {
		trigger = {
			meta_trigger = {
				text = {
					set_temp_variable = { t = [Y] }
				}
				Y = "[?v.GetTokenKey]"
			}
			subtract_from_temp_variable = { t = 1 }
		}
		localization_key = "[?t]"
	}

}
defined_text = {
	name = GetAgencyModifierEntryContainer
	text = {
		trigger = {
			check_variable = { v = upgrade_overview_branch^i }
		}
		localization_key = agency_modifier_branch_entry_container
	}
	text = {
		localization_key = agency_modifier_entry_container
	}

}
defined_text = {
	name = GetAgencyModifierEntryValue
	text = {
		trigger = {
			OR = {
				check_variable = { modifier_entry = token:enemy_operation_critical_success_chance }
				
				check_variable = { modifier_entry = token:army_intel_to_others }
				check_variable = { modifier_entry = token:airforce_intel_to_others }
				check_variable = { modifier_entry = token:navy_intel_to_others }
				check_variable = { modifier_entry = token:civilian_intel_to_others }
				
				check_variable = { modifier_entry = token:operation_army_enemy_effect }
				check_variable = { modifier_entry = token:operation_navy_enemy_effect }
				check_variable = { modifier_entry = token:operation_air_enemy_effect }
				check_variable = { modifier_entry = token:operation_economy_enemy_effect }
				
				check_variable = { modifier_entry = token:operation_steal_tech_risk }
				check_variable = { modifier_entry = token:operation_steal_tech_cost }
				check_variable = { modifier_entry = token:operation_target_army_leader_risk }
				check_variable = { modifier_entry = token:operation_target_army_leader_cost }
				check_variable = { modifier_entry = token:operation_sabotage_risk }
				check_variable = { modifier_entry = token:operation_sabotage_cost }
				check_variable = { modifier_entry = token:operation_sabotage_repair }
				check_variable = { modifier_entry = token:operation_strengthen_resistance_risk }
				check_variable = { modifier_entry = token:operation_strengthen_resistance_cost }
				check_variable = { modifier_entry = token:operation_infiltrate_risk }
				check_variable = { modifier_entry = token:operation_infiltrate_cost }
			}
		}
		localization_key = agency_modifier_negative_percentage
	}
	text = {
		trigger = {
			OR = {
				check_variable = { modifier_entry = token:operation_army_max_asset }
				check_variable = { modifier_entry = token:operation_air_max_asset }
				check_variable = { modifier_entry = token:operation_navy_max_asset }
				check_variable = { modifier_entry = token:operation_economy_max_asset }
				check_variable = { modifier_entry = token:agency_upgrades }
				check_variable = { modifier_entry = token:operative_slot }
				check_variable = { modifier_entry = token:new_operative_slot_bonus }
				check_variable = { modifier_entry = token:operation_steal_tech_uses }
				check_variable = { modifier_entry = token:crypto_strength }
				check_variable = { modifier_entry = token:decryption_power }
			}
		}
		localization_key = agency_modifier_positive_number
	}
	text = {
		trigger = {
			OR = {
				check_variable = { modifier_entry = token:enable_local_recruitment_decision }
				check_variable = { modifier_entry = token:enable_special_project_reduction }
				check_variable = { modifier_entry = token:enable_army_leader_attache_target }
				check_variable = { modifier_entry = token:enable_local_recruitment_decision }
				check_variable = { modifier_entry = token:crypto_department_enabled }
				check_variable = { modifier_entry = token:enable_operations }
			}
		}
		localization_key = agency_modifier_positive_boolean
	}
	text = {
		trigger = {
			check_variable = { modifier_entry = token:intelligence_agency_defense }
		}
		localization_key = agency_modifier_positive_number_1
	}
	text = {
		localization_key = agency_modifier_positive_percentage
	}
}
	
defined_text = {
	name = GetDiploModifierEntryValue
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:generate_wargoal_tension }
				check_variable = { v = token:guarantee_cost }
				check_variable = { v = token:guarantee_tension }
				check_variable = { v = token:join_faction_tension }
				check_variable = { v = token:justify_war_goal_time }
				check_variable = { v = token:justify_war_goal_when_in_major_war_time }
				check_variable = { v = token:lend_lease_tension }
				check_variable = { v = token:lend_lease_tension_with_overlord }
				check_variable = { v = token:request_lease_tension }
				check_variable = { v = token:send_volunteer_divisions_required }
				check_variable = { v = token:send_volunteers_tension }
				check_variable = { v = token:embargo_threshold_factor }
				check_variable = { v = token:embargo_cost_factor }
				check_variable = { v = token:foreign_subversive_activites }
			}
		}
		localization_key = diplo_modifier_negative_percentage
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:enemy_declare_war_tension }
				check_variable = { v = token:enemy_justify_war_goal_time }
				check_variable = { v = token:trade_opinion_factor }
				check_variable = { v = token:faction_trade_opinion_factor }
				check_variable = { v = token:foreign_opinion_gain_monthly_factor }
				check_variable = { v = token:opinion_gain_monthly_factor }
				check_variable = { v = token:opinion_gain_monthly_same_ideology_factor }
				check_variable = { v = token:opinion_gain_monthly_different_ideology_factor }
				check_variable = { v = token:opinion_gain_monthly_ally_factor }
				check_variable = { v = token:send_volunteer_factor }
				check_variable = { v = token:drift_defence_factor }
			}
		}
		localization_key = diplo_modifier_positive_percentage
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:send_volunteer_size }
				check_variable = { v = token:air_volunteer_cap }
				check_variable = { v = token:max_opinion_gain }
			}
		}
		localization_key = diplo_modifier_positive_number
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:opinion_gain_monthly }
				check_variable = { v = token:foreign_opinion_gain_monthly }
			}
		}
		localization_key = diplo_modifier_positive_number_2
	}
}
defined_text = {
	name = GetDiploModifierEntryDesc
	text = {
		localization_key = "[?v.GetTokenKey]_desc"
	}
}

defined_text = {
	name = GetENGLeagueVoters
	text = {
		trigger = {
			if = {
				limit = {
					all_of_scopes = {
						array = global.league_member
						if = { 
							limit = {
								NOT = { TAG = ENG }
								has_opinion = {
									target = ENG
									value > 10
								}
							}
							add_to_temp_variable = { vote_counter = 1 } # Assumed to be zero if unset
						}
					}
				}
			}
			
			set_temp_variable = { votes = vote_counter }
			divide_temp_variable = { votes = global.league_member^num }
			set_temp_variable = { votes_display = votes}
			multiply_temp_variable = { votes_display = 100 }
		}
		localization_key = "[?vote_counter]"
	}
}

defined_text = {
	name = GetCapitulationEquipmentIcon
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:trm_tankette_tank_chassis }
				check_variable = { v = token:trm_tankette_tank_cs_chassis }
				check_variable = { v = token:trm_tankette_tank_destroyer_chassis }
				check_variable = { v = token:trm_tankette_tank_assault_gun_chassis }
				check_variable = { v = token:trm_tankette_tank_artillery_chassis }
				check_variable = { v = token:trm_tankette_tank_aa_chassis }
				check_variable = { v = token:trm_tankette_tank_amphibious_chassis }
			}
		}
		localization_key = "GFX_archetype_light_tank_equipment_medium"
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:trm_para_tank_chassis }
				check_variable = { v = token:trm_amph_tank_chassis }
				
				check_variable = { v = token:trm_light_tank_chassis }
				check_variable = { v = token:trm_light_tank_cs_chassis }
				check_variable = { v = token:trm_light_tank_destroyer_chassis }
				check_variable = { v = token:trm_light_tank_assault_gun_chassis }
				check_variable = { v = token:trm_light_tank_artillery_chassis }
				check_variable = { v = token:trm_light_tank_aa_chassis }
				check_variable = { v = token:trm_light_tank_amphibious_chassis }
			}
		}
		localization_key = "GFX_archetype_light_tank_equipment_medium"
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:trm_cavalry_tank_chassis }
				check_variable = { v = token:trm_cavalry_tank_cs_chassis }
				check_variable = { v = token:trm_cavalry_tank_destroyer_chassis }
				check_variable = { v = token:trm_cavalry_tank_assault_gun_chassis }
				check_variable = { v = token:trm_cavalry_tank_artillery_chassis }
				check_variable = { v = token:trm_cavalry_tank_aa_chassis }
				check_variable = { v = token:trm_cavalry_tank_amphibious_chassis }
			}
		}
		localization_key = "GFX_archetype_light_tank_equipment_medium"
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:trm_medium_tank_chassis }
				check_variable = { v = token:trm_medium_tank_cs_chassis }
				check_variable = { v = token:trm_medium_tank_destroyer_chassis }
				check_variable = { v = token:trm_medium_tank_assault_gun_chassis }
				check_variable = { v = token:trm_medium_tank_artillery_chassis }
				check_variable = { v = token:trm_medium_tank_aa_chassis }
				check_variable = { v = token:trm_medium_tank_amphibious_chassis }
			}
		}
		localization_key = "GFX_archetype_medium_tank_equipment_medium"
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:trm_medium_advanced_tank_chassis }
				check_variable = { v = token:trm_medium_advanced_tank_cs_chassis }
				check_variable = { v = token:trm_medium_advanced_tank_destroyer_chassis }
				check_variable = { v = token:trm_medium_advanced_tank_assault_gun_chassis }
				check_variable = { v = token:trm_medium_advanced_tank_artillery_chassis }
				check_variable = { v = token:trm_medium_advanced_tank_aa_chassis }
				check_variable = { v = token:trm_medium_advanced_tank_amphibious_chassis }
			}
		}
		localization_key = "GFX_archetype_medium_tank_equipment_medium"
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:trm_infantry_tank_chassis }
				check_variable = { v = token:trm_infantry_tank_cs_chassis }
				check_variable = { v = token:trm_infantry_tank_destroyer_chassis }
				check_variable = { v = token:trm_infantry_tank_assault_gun_chassis }
				check_variable = { v = token:trm_infantry_tank_artillery_chassis }
				check_variable = { v = token:trm_infantry_tank_aa_chassis }
				check_variable = { v = token:trm_infantry_tank_amphibious_chassis }
			}
		}
		localization_key = "GFX_archetype_medium_tank_equipment_medium"
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:trm_heavy_tank_chassis }
				check_variable = { v = token:trm_heavy_tank_cs_chassis }
				check_variable = { v = token:trm_heavy_tank_destroyer_chassis }
				check_variable = { v = token:trm_heavy_tank_assault_gun_chassis }
				check_variable = { v = token:trm_heavy_tank_artillery_chassis }
				check_variable = { v = token:trm_heavy_tank_aa_chassis }
				check_variable = { v = token:trm_heavy_tank_amphibious_chassis }
			}
		}
		localization_key = "GFX_archetype_heavy_tank_equipment_medium"
	}
	text = {
		trigger = {
			OR = {
				check_variable = { v = token:trm_superheavy_tank_chassis }
				check_variable = { v = token:trm_superheavy_tank_cs_chassis }
				check_variable = { v = token:trm_superheavy_tank_destroyer_chassis }
				check_variable = { v = token:trm_superheavy_tank_assault_gun_chassis }
				check_variable = { v = token:trm_superheavy_tank_artillery_chassis }
				check_variable = { v = token:trm_superheavy_tank_aa_chassis }
				check_variable = { v = token:trm_superheavy_tank_amphibious_chassis }
			}
		}
		localization_key = "GFX_archetype_heavy_tank_equipment_medium"
	}
	text = {
		localization_key = GFX_archetype_[?v.GetTokenKey]_medium
	}
}

defined_text = {
	name = GetCapitulationEquipmentNum
	text = {
		trigger = {
			check_variable = { v = token:fuel }
		}
		localization_key = "[?amount]K"
	}
	text = {
		localization_key = "[?amount]"
	}
}

defined_text = {
	name = GetRelationModifierBackground
	text = {
		trigger = {
			check_variable = { relation_i = 0 }
		}
		localization_key = "relation_modifier_entry_start"
	}
	text = {
		trigger = {
			set_temp_variable = { compare = relation_i }
			add_to_temp_variable = { compare = 1 }
			check_variable = { relation_modifiers^num = compare }
		}
		localization_key = "relation_modifier_entry_end"
	}
	text = {
		localization_key = relation_modifier_entry
	}
}
defined_text = {
	name = GetDiploViewContainer
	text = {
		trigger = {
			check_variable = { v = token:improve_relations }
		}
		localization_key = diplo_setting_entry
	}
	text = {
		trigger = {
			ROOT = { has_country_flag = show_their_favour@PREV }
		}
		localization_key = select_their_favour_entry
	}
	text = {
		localization_key = select_favour_entry
	}
}
defined_text = {
	name = GetFavourEffect
	text = {
		localization_key = "[?notification_target^i.GetTokenKey]_tt"
	}
}
defined_text = {
	name = GetFavourRequestEffect
	text = {
		localization_key = "[?v.GetTokenKey]_tt"
	}
}
defined_text = {
	name = GetFavourEffectTooltip
	text = {
		localization_key = "[?favour_v.GetTokenKey]_tt"
	}
}

defined_text = {
	name = GetNotificationContainer
	
	text = {
		trigger = {
			check_variable = { v = token:notif_mobilization }
		}
		localization_key = BI_notification_mobilization
	}
	text = {
		trigger = {
			check_variable = { v = token:notif_invasion }
		}
		localization_key = BI_notification_invasion
	}
	text = {
		trigger = {
			check_variable = { v = token:notif_favour_accepted }
		}
		localization_key = BI_notification_favour_accepted
	}
	text = {
		trigger = {
			check_variable = { v = token:notif_favour_declined }
		}
		localization_key = BI_notification_favour_declined
	}
	text = {
		trigger = {
			check_variable = { v = token:notif_favour_cancelled }
		}
		localization_key = BI_notification_favour_cancelled
	}
	text = {
		trigger = {
			check_variable = { v = token:notif_favour_aborted }
		}
		localization_key = BI_notification_favour_aborted
	}
	text = {
		trigger = {
			check_variable = { v = token:notif_difficulty }
		}
		localization_key = BI_notification_difficulty
	}
	text = {
		localization_key = BI_notification_entry
	}
}

defined_text = {
	name = GetHEDTechRequirement
	
	text = {
		trigger = {
			check_variable = { tech_trigger^num > iteration }
			add_to_temp_variable = { iteration = 1 }
		}
		localization_key = "[GetHEDTechRequirementEntry]"
	}
}
defined_text = {
	name = GetHEDTechRequirementEntry
	
	text = {
		trigger = {
			add_to_temp_variable = { entry = 1 }
		}
		localization_key = HTD_tech_requirement_tooltip_entry
	}
}

defined_text = {
	name = GetDifficultyUIOpener
	
	text = {
		trigger = {
			add_to_temp_variable = { iteration = 1 }
			check_variable = { global.player_adjusting_difficulty^num > iteration }
		}
		localization_key = "[GetDifficultyUIOpenerEntry]"
	}
}
defined_text = {
	name = GetDifficultyUIOpenerEntry
	
	text = {
		trigger = {
			add_to_temp_variable = { entry = 1 }
		}
		localization_key = DIFFICULTY_DESC_ENTRY
	}
}
defined_text = {
	name = GetENGTerritoryControl
	
	text = {
		trigger = {
			NOT = { is_controlled_by_ROOT_or_ally = yes }
		}
		localization_key = ENG_the_colonies_state_lost
	}
	text = {
		localization_key = ENG_the_colonies_state
	}
}
defined_text = {
	name = GetExiledLegitimacy
	
	text = {
		trigger = {
			var:exile_decision_target = {
				set_temp_variable = { legitimacy_value = THIS.legitimacy }
			}
		}
		localization_key = SELECTED_EXILE_LEGITIMACY
	}
}