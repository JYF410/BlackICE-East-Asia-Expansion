create_agency_array = {
	if = {
		limit = {
			check_variable = { global.agency_upgrades^num = 0 }
		}
		add_to_array = { global.agency_upgrades = token:upgrade_agency_second_upgrade }
		add_to_array = { global.agency_upgrades = token:upgrade_agency_third_upgrade }
		
		add_to_array = { global.agency_upgrades = token:upgrade_army_department }
			add_to_array = { global.agency_upgrades = token:upgrade_army_enemy_intel_reduction }
			add_to_array = { global.agency_upgrades = token:upgrade_army_stackable }
			add_to_array = { global.agency_upgrades = token:upgrade_army_no_token_use }
			add_to_array = { global.agency_upgrades = token:upgrade_army_enemy_counter_intel }
			
		add_to_array = { global.agency_upgrades = token:upgrade_naval_department }
			add_to_array = { global.agency_upgrades = token:upgrade_navy_enemy_intel_reduction }
			add_to_array = { global.agency_upgrades = token:upgrade_navy_stackable }
			add_to_array = { global.agency_upgrades = token:upgrade_navy_no_token_use }
			add_to_array = { global.agency_upgrades = token:upgrade_navy_enemy_counter_intel }
			
		add_to_array = { global.agency_upgrades = token:upgrade_airforce_department }
			add_to_array = { global.agency_upgrades = token:upgrade_air_enemy_intel_reduction }
			add_to_array = { global.agency_upgrades = token:upgrade_air_stackable }
			add_to_array = { global.agency_upgrades = token:upgrade_air_no_token_use }
			add_to_array = { global.agency_upgrades = token:upgrade_air_enemy_counter_intel }
			
		add_to_array = { global.agency_upgrades = token:upgrade_economy_civilian }
			add_to_array = { global.agency_upgrades = token:upgrade_economy_enemy_intel_reduction }
			add_to_array = { global.agency_upgrades = token:upgrade_economy_stackable }
			add_to_array = { global.agency_upgrades = token:upgrade_economy_no_token_use }
			add_to_array = { global.agency_upgrades = token:upgrade_economy_enemy_counter_intel }
			
		add_to_array = { global.agency_upgrades = token:upgrade_passive_defense }
			add_to_array = { global.agency_upgrades = token:upgrade_army_defense_sweep }
			add_to_array = { global.agency_upgrades = token:upgrade_air_defense_sweep }
			add_to_array = { global.agency_upgrades = token:upgrade_navy_defense_sweep }
			add_to_array = { global.agency_upgrades = token:upgrade_civilian_defense_sweep }
			
			add_to_array = { global.agency_upgrades = token:upgrade_defense_harmed }
			add_to_array = { global.agency_upgrades = token:upgrade_defense_intel_extraction }
			add_to_array = { global.agency_upgrades = token:upgrade_defense_critical_success }
			
		add_to_array = { global.agency_upgrades = token:upgrade_security_department }
		
		add_to_array = { global.agency_upgrades = token:upgrade_form_operations }
		
		add_to_array = { global.agency_upgrades = token:upgrade_operation_infiltrate }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_infiltrate_critical_success }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_infiltrate_risk }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_infiltrate_cost }
			
		add_to_array = { global.agency_upgrades = token:upgrade_operation_steal_tech }
			add_to_array = { global.agency_upgrades = token:upgrade_steal_tech_effect }
			add_to_array = { global.agency_upgrades = token:upgrade_steal_tech_uses }
			add_to_array = { global.agency_upgrades = token:upgrade_steal_tech_aot }
			
		add_to_array = { global.agency_upgrades = token:upgrade_operation_target_unit_leader }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_target_army_leader_sick }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_target_army_leader_meeting }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_target_attache }
			
		add_to_array = { global.agency_upgrades = token:upgrade_operation_sabotage }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_sabotage_damage }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_sabotage_uses }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_sabotage_repair }
			
		add_to_array = { global.agency_upgrades = token:upgrade_operation_strengthen_resistance }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_strengthen_resistance_effect }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_strengthen_resistance_uses }
			
		add_to_array = { global.agency_upgrades = token:upgrade_operation_strengthen_society }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_strengthen_society_effect }
			add_to_array = { global.agency_upgrades = token:upgrade_operation_strengthen_society_uses }
			
		add_to_array = { global.agency_upgrades = token:upgrade_expand_operations }
			add_to_array = { global.agency_upgrades = token:upgrade_underground_contacts }
			add_to_array = { global.agency_upgrades = token:upgrade_training_centers }
			add_to_array = { global.agency_upgrades = token:upgrade_commando_training }
			add_to_array = { global.agency_upgrades = token:upgrade_diplo_training }
			add_to_array = { global.agency_upgrades = token:upgrade_psycho_warfare }
			add_to_array = { global.agency_upgrades = token:upgrade_invisible_ink }
			add_to_array = { global.agency_upgrades = token:upgrade_suicide_pills }
		
		add_to_array = { global.agency_upgrades = token:upgrade_form_department }
			add_to_array = { global.agency_upgrades = token:upgrade_decryption_boost }
			add_to_array = { global.agency_upgrades = token:upgrade_decryption_boost_2 }
			add_to_array = { global.agency_upgrades = token:upgrade_crypto_strength }
			add_to_array = { global.agency_upgrades = token:upgrade_crypto_strength_2 }
	}
}

ui_agency_add_modifier_overview = {

	if = {
		limit = {
			meta_trigger = { 
				text = {
					has_country_flag = { flag = [V] value = [X] }
				}
				V = "[?v.GetTokenKey]"
				X = "[GetAgencyUpgradeValue]"
			}
			NOT = { is_in_array = { agency_bonus = modifier } }
		}
		add_to_temp_array = { agency_bonus = modifier }
		add_to_temp_array = { agency_bonus_value = value }
	}
}
ui_agency_create_modifier_overview = {
	clear_array = ui_agency_modifier
	clear_array = ui_agency_modifier_value
	for_each_loop = {
		array = agency_bonus 
		
		add_to_array = { ui_agency_modifier = v }
		add_to_array = { ui_agency_modifier_value = agency_bonus_value^i }
	}
}

ui_agency_add_modifier_entry = {
	if = {
		limit = {
			meta_trigger = { 
				text = {
					OR = {
						has_done_agency_upgrade = [V]
						has_country_flag = { flag = [V] value > [X] }
					}
				}
				V = "[?v.GetTokenKey]"
				X = "[GetAgencyUpgradeValue]"
				#debug = yes
			}
		}
		if = {
			limit = {
				meta_trigger = {
					text = {
						[V] = yes
					}
					V = "[?v.GetTokenKey]"
				}
			}
		}
		
		if = {
			limit = {
				NOT = { is_in_array = { upgrade_overview = v } }
			}
			add_to_array = { upgrade_overview = v }
			add_to_array = { upgrade_overview_branch = branch }
		}
		
		if = {
			limit = {
				NOT = { is_in_array = { modifier_token@var:v = modifier } }
			}
			add_to_array = { modifier_token@var:v = modifier }
			add_to_array = { modifier_value@var:v = modifier_v }
			#log = "[?modifier.GetTokenKey] [?modifier] modifier"
		}
		else = {
			for_each_loop = {
				array = modifier_token@var:v
				value = v2
				break = break2
				
				#log = "[?modifier.GetTokenKey] modifier | [?v2.GetTokenKey] v2"
				#log = "[?modifier_value@var:v^i] modifier_value@var:v^i"
				#log = "[?modifier_v] modifier_v"
				if = {
					limit = {
						check_variable = { modifier = v2 }
					}
					add_to_variable = { modifier_value@var:v^i = modifier_v }
					set_temp_variable = { break2 = 1 }
				}
			}
		}
	}
	
}

d_print_upgrade_definitions = {
	for_each_loop = {
		array = upgrade_array
		
		meta_effect = {
			text = {
				[V] = yes
				set_country_flag = { flag = [V] value = 3 }
			}
			X = "[?level]"
			V = "[?v.GetTokenKey]"
		}
		
		log = "[?v.GetTokenKey] = {"
		log = "    level = {"
		log = "        modifier = {"
		log = "            [?modifier_token@var:v^0.GetTokenKey] = [?modifier_value@var:v^0]"
		log = "        }"
		log = "        complete_effect = { set_country_flag = { flag = [?v.GetTokenKey] value = 1 } }"
		log = "    }"
		if = { limit = { check_variable = { level > 1 } }
		log = "    level = {"
		log = "        modifier = {"
		log = "            [?modifier_token@var:v^1.GetTokenKey] = [?modifier_value@var:v^1]"
		log = "        }"
		log = "        complete_effect = { set_country_flag = { flag = [?v.GetTokenKey] value = 2 } }"
		log = "    }"
		}
		if = { limit = { check_variable = { level > 2 } }
		log = "    level = {"
		log = "        modifier = {"
		log = "            [?modifier_token@var:v^2.GetTokenKey] = [?modifier_value@var:v^2]"
		log = "        }"
		log = "        complete_effect = { set_country_flag = { flag = [?v.GetTokenKey] value = 3 } }"
		log = "    }"
		}
		log = "}"
	}
}

ui_agency_level_check = {
	meta_effect = {
		text = {
			add_to_temp_variable = { [V] = 1 }
		}
		V = "[?v.GetTokenKey]"
	}
}

upgrade_agency_second_upgrade = {
	
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = agency_upgrades
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:agency_upgrades }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = operative_slot
			VALUE = 1
			STATUS = +0
		}
		set_temp_variable = { modifier = token:operative_slot }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_agency_third_upgrade = {
	
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = agency_upgrades
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:agency_upgrades }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = operative_slot
			VALUE = 1
			STATUS = +0
		}
		set_temp_variable = { modifier = token:operative_slot }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_army_department = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = army_intel_factor
			VALUE = 0.05
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:army_intel_factor }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = army_intel_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:army_intel_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = army_intel_factor
			VALUE = 0.15
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:army_intel_factor }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_army_no_token_use = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_army_keep_asset_chance
			VALUE = 0.25
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_army_keep_asset_chance }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_army_keep_asset_chance
			VALUE = 0.25
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_army_keep_asset_chance }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_army_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_army_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_army_stackable = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_army_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_army_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_army_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_army_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_army_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_army_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}

}
upgrade_army_enemy_intel_reduction = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = army_intel_to_others
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:army_intel_to_others }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
	
}
upgrade_army_enemy_counter_intel = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_army_enemy_effect
			VALUE = -0.05
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_army_enemy_effect }
		set_temp_variable = { modifier_v = -0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_army_enemy_effect
			VALUE = -0.1
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_army_enemy_effect }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_army_enemy_effect
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_army_enemy_effect }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_army_defense_sweep = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = enemy_army_asset_discover_chance
			VALUE = 0.001
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_army_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.001 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = enemy_army_asset_discover_chance
			VALUE = 0.001
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_army_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.002 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = enemy_army_asset_discover_chance
			VALUE = 0.002
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_army_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.003 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_naval_department = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = navy_intel_factor
			VALUE = 0.05
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:navy_intel_factor }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = navy_intel_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:navy_intel_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = navy_intel_factor
			VALUE = 0.15
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:navy_intel_factor }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_navy_no_token_use = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_navy_keep_asset_chance
			VALUE = 0.25
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_navy_keep_asset_chance }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_navy_keep_asset_chance
			VALUE = 0.25
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_navy_keep_asset_chance }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_navy_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_navy_keep_asset_chance }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_navy_stackable = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_navy_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_navy_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_navy_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_navy_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_navy_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_navy_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}

}
upgrade_navy_enemy_intel_reduction = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = navy_intel_to_others
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:navy_intel_to_others }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
	
}
upgrade_navy_enemy_counter_intel = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_navy_enemy_effect
			VALUE = -0.05
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_navy_enemy_effect }
		set_temp_variable = { modifier_v = -0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_navy_enemy_effect
			VALUE = -0.1
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_navy_enemy_effect }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_navy_enemy_effect
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_navy_enemy_effect }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_navy_defense_sweep = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = enemy_navy_asset_discover_chance
			VALUE = 0.001
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_navy_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.001 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = enemy_navy_asset_discover_chance
			VALUE = 0.001
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_navy_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.002 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = enemy_navy_asset_discover_chance
			VALUE = 0.002
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_navy_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.003 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_airforce_department = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = airforce_intel_factor
			VALUE = 0.05
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:airforce_intel_factor }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = airforce_intel_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:airforce_intel_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = airforce_intel_factor
			VALUE = 0.15
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:airforce_intel_factor }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_air_no_token_use = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_air_keep_asset_chance
			VALUE = 0.25
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_air_keep_asset_chance }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_air_keep_asset_chance
			VALUE = 0.25
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_air_keep_asset_chance }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_air_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_air_keep_asset_chance }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_air_stackable = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_air_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_air_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_air_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_air_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_air_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_air_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}

}
upgrade_air_enemy_intel_reduction = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = airforce_intel_to_others
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:airforce_intel_to_others }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_air_enemy_counter_intel = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_air_enemy_effect
			VALUE = -0.05
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_air_enemy_effect }
		set_temp_variable = { modifier_v = -0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_air_enemy_effect
			VALUE = -0.1
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_air_enemy_effect }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_air_enemy_effect
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_air_enemy_effect }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_air_defense_sweep = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = enemy_air_asset_discover_chance
			VALUE = 0.001
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_air_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.001 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = enemy_air_asset_discover_chance
			VALUE = 0.001
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_air_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.002 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = enemy_air_asset_discover_chance
			VALUE = 0.002
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_air_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.003 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}

upgrade_economy_civilian = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = civilian_intel_factor
			VALUE = 0.05
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:civilian_intel_factor }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = civilian_intel_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:civilian_intel_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = civilian_intel_factor
			VALUE = 0.15
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:civilian_intel_factor }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_economy_no_token_use = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_economy_keep_asset_chance
			VALUE = 0.25
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_economy_keep_asset_chance }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_economy_keep_asset_chance
			VALUE = 0.25
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_economy_keep_asset_chance }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_economy_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_economy_keep_asset_chance }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_economy_stackable = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_economy_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_economy_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_economy_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_economy_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_economy_max_asset
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_economy_max_asset }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}

}
upgrade_economy_enemy_intel_reduction = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = civilian_intel_to_others
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:civilian_intel_to_others }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_economy_enemy_counter_intel = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_economy_enemy_effect
			VALUE = -0.05
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_economy_enemy_effect }
		set_temp_variable = { modifier_v = -0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_economy_enemy_effect
			VALUE = -0.1
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_economy_enemy_effect }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_economy_enemy_effect
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_economy_enemy_effect }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_civilian_defense_sweep = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = enemy_economy_asset_discover_chance
			VALUE = 0.001
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_economy_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.001 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = enemy_economy_asset_discover_chance
			VALUE = 0.001
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_economy_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.002 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = enemy_economy_asset_discover_chance
			VALUE = 0.002
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_economy_asset_discover_chance }
		set_temp_variable = { modifier_v = 0.003 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}

upgrade_passive_defense = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = intelligence_agency_defense
			VALUE = 1
			STATUS = +
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	
}
upgrade_defense_harmed = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = enemy_operative_harmed_time_factor
			VALUE = 0.05
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_harmed_time_factor }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = enemy_operative_forced_into_hiding_time_factor
			VALUE = 0.05
			STATUS = +%
		}
		set_temp_variable = { modifier = token:enemy_operative_forced_into_hiding_time_factor }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = enemy_operative_harmed_time_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_harmed_time_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = enemy_operative_forced_into_hiding_time_factor
			VALUE = 0.1
			STATUS = +%
		}
		set_temp_variable = { modifier = token:enemy_operative_forced_into_hiding_time_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = enemy_operative_harmed_time_factor
			VALUE = 0.15
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_harmed_time_factor }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = enemy_operative_forced_into_hiding_time_factor
			VALUE = 0.15
			STATUS = +%
		}
		set_temp_variable = { modifier = token:enemy_operative_forced_into_hiding_time_factor }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_defense_intel_extraction = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = enemy_operative_capture_chance_factor  
			VALUE = 0.05
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_capture_chance_factor  }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = enemy_operative_capture_chance_factor  
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_capture_chance_factor  }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = enemy_operative_capture_chance_factor  
			VALUE = 0.15
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_capture_chance_factor  }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_defense_critical_success = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = enemy_operation_critical_success_chance 
			VALUE = -0.05
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operation_critical_success_chance }
		set_temp_variable = { modifier_v = -0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.15
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = enemy_operation_critical_success_chance 
			VALUE = -0.1
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operation_critical_success_chance }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = enemy_operation_critical_success_chance 
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operation_critical_success_chance }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = intelligence_agency_defense
			VALUE = 0.1
			STATUS = +
		}
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_security_department = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = intelligence_agency_defense
			VALUE = 1
			STATUS = +
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = intelligence_agency_defense
			VALUE = 1
			STATUS = +
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:intelligence_agency_defense }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = enemy_operative_detection_chance_factor
			VALUE = 0.35
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_detection_chance }
		set_temp_variable = { modifier_v = 0.35 }
		ui_agency_add_modifier_entry = yes
	}
}

upgrade_form_operations = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operative_slot
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operative_slot }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = new_operative_slot_bonus
			VALUE = 1
			STATUS = +0
		} 
		set_temp_variable = { modifier = token:new_operative_slot_bonus }
		set_temp_variable = { modifier_v = 3 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = UNLOCK_OPERATION_ALL
		
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enable_operations }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_steal_tech = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_steal_tech_outcome
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_outcome }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_steal_tech_risk
			VALUE = -0.1
			STATUS = %-
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_risk }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_steal_tech_cost
			VALUE = -0.1
			STATUS = %-
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_cost }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_steal_tech_effect = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_steal_tech_bonus_factor
			VALUE = 0.05
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_bonus_factor }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_steal_tech_bonus_factor
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_bonus_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_steal_tech_bonus_factor
			VALUE = 0.15
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_bonus_factor }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_steal_tech_uses = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_steal_tech_uses
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_uses }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_steal_tech_uses
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_uses }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_steal_tech_uses
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_uses }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_steal_tech_aot = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_steal_tech_aot_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_aot_factor }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_steal_tech_aot_factor
			VALUE = 0.15
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_aot_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_steal_tech_aot_factor
			VALUE = 0.2
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_steal_tech_aot_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_target_unit_leader = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_target_army_leader_outcome
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_target_army_leader_outcome }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_target_army_leader_risk
			VALUE = -0.1
			STATUS = %-
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_target_army_leader_risk }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_target_army_leader_cost
			VALUE = -0.1
			STATUS = %- 
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_target_army_leader_cost }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_target_army_leader_sick = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_target_army_leader_effect
			VALUE = 0.05
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_target_army_leader_effect }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_target_army_leader_effect
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_target_army_leader_effect }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_target_army_leader_effect
			VALUE = 0.15
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_target_army_leader_effect }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_target_army_leader_meeting = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_target_army_leader_spread
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_target_army_leader_spread }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_target_army_leader_spread
			VALUE = 0.15
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_target_army_leader_spread }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_target_army_leader_spread
			VALUE = 0.2
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_target_army_leader_spread }
		set_temp_variable = { modifier_v = 0.2 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_target_attache = {

	custom_override_tooltip = {
		tooltip = upgrade_operation_target_attache_tt
		
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enable_army_leader_attache_target }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_sabotage = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_sabotage_outcome
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_outcome }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_sabotage_risk
			VALUE = -0.1
			STATUS = %-
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_risk }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_sabotage_cost
			VALUE = -0.1
			STATUS = %- 
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_cost }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_sabotage_damage = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_sabotage_damage
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_damage }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_sabotage_damage
			VALUE = 0.15
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_damage }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_sabotage_damage
			VALUE = 0.2
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_damage }
		set_temp_variable = { modifier_v = 0.2 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_sabotage_uses = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_sabotage_spread
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_spread }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_sabotage_spread
			VALUE = 0.15
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_spread }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_sabotage_spread
			VALUE = 0.2
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_spread }
		set_temp_variable = { modifier_v = 0.2 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_sabotage_repair = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_sabotage_repair
			VALUE = -0.05
			STATUS = %-
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_repair }
		set_temp_variable = { modifier_v = -0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_sabotage_repair
			VALUE = -0.1
			STATUS = %-
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_repair }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_sabotage_repair
			VALUE = -0.15
			STATUS = %-
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_sabotage_repair }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_strengthen_resistance = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_strengthen_resistance_outcome
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_resistance_outcome }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_strengthen_resistance_risk
			VALUE = -0.1
			STATUS = %-
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_resistance_risk }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_strengthen_resistance_cost
			VALUE = -0.1
			STATUS = %- 
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_resistance_cost }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_strengthen_resistance_effect = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_strengthen_resistance_effect
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_resistance_effect }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_strengthen_resistance_effect
			VALUE = 0.15
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_resistance_effect }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_strengthen_resistance_effect
			VALUE = 0.2
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_resistance_effect }
		set_temp_variable = { modifier_v = 0.2 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_strengthen_resistance_uses = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_strengthen_resistance_spread
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_resistance_spread }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_strengthen_resistance_spread
			VALUE = 0.15
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_resistance_spread }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_strengthen_resistance_spread
			VALUE = 0.25
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_resistance_spread }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
}

upgrade_operation_strengthen_society = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_strengthen_society_outcome
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_society_outcome }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_strengthen_society_risk
			VALUE = -0.1
			STATUS = %-
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_society_risk }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_strengthen_society_cost
			VALUE = -0.1
			STATUS = %- 
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_society_cost }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_strengthen_society_effect = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_strengthen_society_effect
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_society_effect }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_strengthen_society_effect
			VALUE = 0.15
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_society_effect }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_strengthen_society_effect
			VALUE = 0.2
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_society_effect }
		set_temp_variable = { modifier_v = 0.2 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_strengthen_society_uses = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_strengthen_society_spread
			VALUE = 0.1
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_society_spread }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_strengthen_society_spread
			VALUE = 0.15
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_society_spread }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_strengthen_society_spread
			VALUE = 0.25
			STATUS = %+
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_strengthen_society_spread }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_infiltrate = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_infiltrate_outcome
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_outcome }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_infiltrate_outcome
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_outcome }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_infiltrate_critical_success = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_infiltrate_outcome
			VALUE = 0.05
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_outcome }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_infiltrate_outcome
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_outcome }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_infiltrate_outcome
			VALUE = 0.15
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_outcome }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_operation_infiltrate_risk = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_infiltrate_risk
			VALUE = -0.05
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_risk }
		set_temp_variable = { modifier_v = -0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_infiltrate_risk
			VALUE = -0.1
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_risk }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_infiltrate_risk
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_risk }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
}

upgrade_operation_infiltrate_cost = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operation_infiltrate_cost
			VALUE = -0.05
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_cost }
		set_temp_variable = { modifier_v = -0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = operation_infiltrate_cost
			VALUE = -0.1
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_cost }
		set_temp_variable = { modifier_v = -0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = operation_infiltrate_cost
			VALUE = -0.15
			STATUS = -%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operation_infiltrate_cost }
		set_temp_variable = { modifier_v = -0.15 }
		ui_agency_add_modifier_entry = yes
	}
}

upgrade_expand_operations = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operative_slot
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operative_slot }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = new_operative_slot_bonus
			VALUE = 1
			STATUS = +0
		}
		set_temp_variable = { modifier = token:new_operative_slot_bonus }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_underground_contacts = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = intel_network_gain_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:intel_network_gain_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = intel_network_gain_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:intel_network_gain_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = intel_network_gain_factor
			VALUE = 0.15
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:intel_network_gain_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_training_centers = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = occupied_operative_recruitment_chance
			VALUE = 0.25
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:occupied_operative_recruitment_chance }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = new_operative_slot_bonus
			VALUE = 1
			STATUS = +0
		}
		set_temp_variable = { modifier = token:new_operative_slot_bonus }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = enemy_operative_recruitment_chance
			VALUE = 0.15
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_recruitment_chance }
		set_temp_variable = { modifier_v = 0.15 }
		ui_agency_add_modifier_entry = yes
	}
	
	custom_override_tooltip = {
		tooltip = upgrade_training_centers_tt
		
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enable_local_recruitment_decision }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
		
}

upgrade_commando_training = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = commando_trait_chance_factor
			VALUE = 0.5
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:commando_trait_chance_factor }
		set_temp_variable = { modifier_v = 0.5 }
		ui_agency_add_modifier_entry = yes
	}
			
}

upgrade_diplo_training = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = control_trade_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:control_trade_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = diplomatic_pressure_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		set_temp_variable = { modifier = token:diplomatic_pressure_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = control_trade_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:control_trade_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = diplomatic_pressure_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		set_temp_variable = { modifier = token:diplomatic_pressure_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = control_trade_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:control_trade_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = diplomatic_pressure_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		set_temp_variable = { modifier = token:diplomatic_pressure_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
		
}
upgrade_psycho_warfare = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = enemy_operative_recruitment_chance
			VALUE = 0.05
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_recruitment_chance }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = propaganda_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		set_temp_variable = { modifier = token:propaganda_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = boost_ideology_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		set_temp_variable = { modifier = token:boost_ideology_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = enemy_operative_recruitment_chance
			VALUE = 0.05
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_recruitment_chance }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = propaganda_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		set_temp_variable = { modifier = token:propaganda_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = boost_ideology_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		set_temp_variable = { modifier = token:boost_ideology_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = enemy_operative_recruitment_chance
			VALUE = 0.05
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:enemy_operative_recruitment_chance }
		set_temp_variable = { modifier_v = 0.05 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = propaganda_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		set_temp_variable = { modifier = token:propaganda_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = boost_ideology_mission_factor
			VALUE = 0.1
			STATUS = +%
		}
		set_temp_variable = { modifier = token:boost_ideology_mission_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_invisible_ink = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = intel_from_operatives_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:intel_from_operatives_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = intel_from_operatives_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:intel_from_operatives_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = intel_from_operatives_factor
			VALUE = 0.1
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:intel_from_operatives_factor }
		set_temp_variable = { modifier_v = 0.1 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_suicide_pills = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = operative_death_on_capture_chance
			VALUE = 0.25
			STATUS = +%
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:operative_death_on_capture_chance }
		set_temp_variable = { modifier_v = 0.25 }
		ui_agency_add_modifier_entry = yes
	}
}
	
upgrade_form_department = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = crypto_department_enabled
			VALUE = 1
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:crypto_department_enabled }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = crypto_strength
			VALUE = 1
			STATUS = +0
		}
		set_temp_variable = { modifier = token:crypto_strength }
		set_temp_variable = { modifier_v = 1 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER
			MODIFIER = decryption_power
			VALUE = 25
			STATUS = +0
		}
		set_temp_variable = { modifier = token:decryption_power }
		set_temp_variable = { modifier_v = 25 }
		ui_agency_add_modifier_entry = yes
	}
	
	custom_effect_tooltip = {
		localization_key = UNLOCK_OPERATION
		OPERATION = operation_capture_cipher
	}
}

upgrade_decryption_boost = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = decryption_power
			VALUE = 15
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:decryption_power }
		set_temp_variable = { modifier_v = 15 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = decryption_power
			VALUE = 10
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:decryption_power }
		set_temp_variable = { modifier_v = 10 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = decryption_power
			VALUE = 10
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:decryption_power }
		set_temp_variable = { modifier_v = 10 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_decryption_boost_2 = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = decryption_power
			VALUE = 25
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:decryption_power }
		set_temp_variable = { modifier_v = 25 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = decryption_power
			VALUE = 20
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:decryption_power }
		set_temp_variable = { modifier_v = 20 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = decryption_power
			VALUE = 15
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:decryption_power }
		set_temp_variable = { modifier_v = 15 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_crypto_strength = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = crypto_strength
			VALUE = 2
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:crypto_strength }
		set_temp_variable = { modifier_v = 2 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = crypto_strength
			VALUE = 2
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:crypto_strength }
		set_temp_variable = { modifier_v = 2 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = crypto_strength
			VALUE = 2
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:crypto_strength }
		set_temp_variable = { modifier_v = 2 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_crypto_strength_2 = {

	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 1
			MODIFIER = crypto_strength
			VALUE = 4
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:crypto_strength }
		set_temp_variable = { modifier_v = 4 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 2
			MODIFIER = crypto_strength
			VALUE = 4
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:crypto_strength }
		set_temp_variable = { modifier_v = 4 }
		ui_agency_add_modifier_entry = yes
	}
	custom_override_tooltip = {
		tooltip = {
			localization_key = AGENCY_MODIFIER_LEVEL
			LEVEL = 3
			MODIFIER = crypto_strength
			VALUE = 4
			STATUS = +0
		}
		ui_agency_level_check = yes
		set_temp_variable = { modifier = token:crypto_strength }
		set_temp_variable = { modifier_v = 4 }
		ui_agency_add_modifier_entry = yes
	}
}
upgrade_counter_intel = {
	if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_passive_defense }
		}
		upgrade_intelligence_agency = upgrade_passive_defense
	}
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_defense_harmed }
		}			
		upgrade_intelligence_agency = upgrade_defense_harmed
	}
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_defense_intel_extraction }
		}			
		upgrade_intelligence_agency = upgrade_defense_intel_extraction
	}	
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_defense_critical_success }
		}			
		upgrade_intelligence_agency = upgrade_defense_critical_success
	}
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_security_department }
		}			
		upgrade_intelligence_agency = upgrade_security_department
	}
	else = {
		custom_effect_tooltip = counter_intel_maxed_tt
	}
}
upgrade_occupied_civs = {
	if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_operation_strengthen_society }
		}
		upgrade_intelligence_agency = upgrade_operation_strengthen_society
	}
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_operation_strengthen_society_uses }
		}			
		upgrade_intelligence_agency = upgrade_operation_strengthen_society_uses
	}
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_operation_strengthen_society_effect }
		}			
		upgrade_intelligence_agency = upgrade_operation_strengthen_society_effect
	}
	else = {
		custom_effect_tooltip = occupied_civs_maxed_tt
	}
}	
upgrade_operation_resistance = {
	if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_operation_strengthen_resistance }
		}
		upgrade_intelligence_agency = upgrade_operation_strengthen_resistance
	}
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_operation_strengthen_resistance_effect }
		}			
		upgrade_intelligence_agency = upgrade_operation_strengthen_resistance_effect
	}
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_operation_strengthen_resistance_uses }
		}			
		upgrade_intelligence_agency = upgrade_operation_strengthen_resistance_uses
	}
	else = {
		custom_effect_tooltip = occupied_operation_resistance_maxed_tt
	}
}
upgrade_operation_biggness = {
	if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_agency_second_upgrade }
		}
		upgrade_intelligence_agency = upgrade_agency_second_upgrade
	}
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_agency_third_upgrade }
		}			
		upgrade_intelligence_agency = upgrade_agency_third_upgrade
	}
	else = {
		custom_effect_tooltip = operation_biggness_maxed_tt
	}
}
upgrade_operation_decryption = {
	if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_form_department }
		}
		upgrade_intelligence_agency = upgrade_form_department
	}
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_decryption_boost }
		}			
		upgrade_intelligence_agency = upgrade_decryption_boost
	}
	else_if = {
		limit = {
			NOT = { has_done_agency_upgrade = upgrade_decryption_boost_2 }
		}			
		upgrade_intelligence_agency = upgrade_decryption_boost_2
	}
	else = {
		custom_effect_tooltip = upgrade_operation_decryption_maxed_tt
	}
}