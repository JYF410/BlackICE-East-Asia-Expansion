focus_tree = {
	id = south_african_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SAF
			OR = {
				has_dlc = "Together for Victory"
				has_dlc = "Waking the Tiger"
			}
		}
		
		#modifier = {
		#	add = 10
		#	original_tag = SAF
		#	has_dlc = "Together for Victory"
		#}
	}
	
	default = no

	continuous_focus_position = { x = 80 y = 930 }
	shared_focus = CW_fisson_focus
	shared_focus = CW_vichy_colonies
	shared_focus = CW_allied_anger

	############################
	#### WAR PREP SECTION ######
	############################

	focus = {
		id = SAF_war_measures_act
		icon = GFX_goal_generic_demand_territory
		x = 1
		y = 0

		cost = 70 # Previously was: 70.0 



		available = {
			threat > 0.2
		}
		
		bypass = {

		}

		continue_if_invalid = yes
		available_if_capitulated = yes

		

		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = SAF_emergency_workers
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_war_measures_act }
		x = -1
		y = 1
		relative_position_id = SAF_war_measures_act

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			add_ideas = SAF_emergency_workers
		}
	}

	focus = {
		id = SAF_cape_garrison_artillery
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SAF_emergency_workers }
		x = -1
		y = 2
		relative_position_id = SAF_war_measures_act

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_in_home_area = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes							
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SAF_reconstitute_the_cape_corps
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_cape_garrison_artillery}
		x = 0
		y = 1
		relative_position_id = SAF_cape_garrison_artillery

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_history_of_segregation
				add_idea = SAF_history_of_segregation_2
			}
		}
	}

	focus = {
		id = SAF_expand_the_cape_corps
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SAF_reconstitute_the_cape_corps }
		mutually_exclusive = { focus = SAF_outlaw_strikes }
		x = 0
		y = 3
		relative_position_id = SAF_reconstitute_the_cape_corps

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			remove_ideas = SAF_history_of_segregation_2
		}
	}

	focus = {
		id = SAF_outlaw_strikes
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SAF_work_for_all_poor }
		mutually_exclusive = { focus = SAF_expand_the_cape_corps }
		x = 4
		y = 0
		relative_position_id = SAF_expand_the_cape_corps

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_cheap_labor_2
				add_idea = SAF_cheap_labor_3
			}
		}
	}


	############################
	# GO COMMONWEALTH SECTION ##
	############################
	focus = {
		id = SAF_condem_versailles
		icon = GFX_goal_fra_defense_cracks
		x = 5
		y = 0

		cost = 30 # Previously was: 70.0 



		available = {
			GER = {
				has_completed_focus = GER_rhineland
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_political_power = 60
			reverse_add_opinion_modifier  = {
				target = FRA
				modifier = protest_action
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.025
			}
			reverse_add_opinion_modifier  = {
				target = GER
				modifier = fascism_leanings_good_temp
			}	
			add_opinion_modifier  = {
				target = GER
				modifier = fascism_leanings_good_temp
			}			
		}
	}
	focus = {
		id = SAF_support_the_policy_of_appeasement
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 0
		y = 1
		relative_position_id = SAF_condem_versailles
		cost = 40 # Previously was: 70.0 



		available = {
			GER = {
				has_completed_focus = GER_anschluss
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_political_power = 60
		}
	}

	focus = {
		id = SAF_csir
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = SAF_war_measures_act }
		prerequisite = { focus = SAF_support_the_policy_of_appeasement }
		x = -3
		y = 1
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 70 # Previously was: 70.0 



		available = {
			is_in_tech_sharing_group = commonwealth_research
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			SAF = {
				modify_tech_sharing_bonus = {
					id = commonwealth_research
					bonus = 0.1  # we get 20% higher bonus from this group
				}
			}
		}
	}

	focus = {
		id = SAF_police_windhoek
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SAF_support_the_policy_of_appeasement }
		x = 0
		y = 1
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 70 # Previously was: 70.0 



		available = {
			if = {
				limit = {
					is_ai = no
				}
				has_equipment = {
					garrison_equipment > 99
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {			
			swap_ideas = {
				remove_idea = SAF_ossewabrandwag
				add_idea = SAF_ossewabrandwag_2
			}
			remove_opinion_modifier = { target = ENG modifier = SAF_anti_british_sentiment }
			add_equipment_to_stockpile = {
				type = garrison_equipment
				amount = -50
			}
		}
	}
	focus = {
		id = SAF_empire
		icon = GFX_goal_eng_empire
		prerequisite = { focus = SAF_condem_versailles }
		x = 2
		y = 1
		relative_position_id = SAF_condem_versailles

		cost = 85

		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			country_event = tfv_south_africa.5
			depression_improves = yes
			air_experience = 8
			add_stability = 0.05
			add_political_power = 50
			every_owned_state = { 
				random_select_amount = 3
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_hospital
		icon = GFX_goal_medicine
		prerequisite = { focus = SAF_empire }
		x = 0
		y = 1
		relative_position_id = SAF_empire

		cost = 50 

		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			681 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = SAF_hospital
				bonus = 0.25
				uses = 1
				category = medical_tech
			}
		}
	}
	focus = {
		id = SAF_armor_car
		icon = GFX_focus_SWE_lynx_armored_car
		prerequisite = { focus = SAF_csir }
		x = 0
		y = 1
		relative_position_id = SAF_csir

		cost = 50 

		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			541 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = tank_assembly
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_desert_equipment
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_armor_car }
		x = -1
		y = 1
		relative_position_id = SAF_armor_car

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			add_ideas = SAF_desert_equipment
		}
	}

	focus = {
		id = SAF_suppress_the_stormjaers
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SAF_armor_car }
		prerequisite = { focus = SAF_police_windhoek }
		x = 1
		y = 1
		relative_position_id = SAF_armor_car

		cost = 70 # Previously was: 70.0 



		available = {
			if = {
				limit = {
					is_ai = no
				}
				has_equipment = {
					garrison_equipment > 899
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			remove_ideas = SAF_ossewabrandwag_2
			add_equipment_to_stockpile = {
				type = garrison_equipment
				amount = -750
			}
		}
	}

	focus = {
		id = SAF_secure_interests_in_africa
		icon = GFX_goal_tfv_saf_secure_interests_in_africa
		prerequisite = { focus = SAF_suppress_the_stormjaers }
		prerequisite = { focus = SAF_desert_equipment }
		x = 1
		y = 1
		relative_position_id = SAF_desert_equipment

		cost = 70 # Previously was: 70.0 

		available = {
			NOT = { has_war_with = ENG }
			ENG = { is_puppet = no }
			if = {
				limit = {
					is_ai = yes
				}
				is_historical_focus_on = no
			}

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			ENG = { 
				custom_effect_tooltip = needs_approval 
				country_event = tfv_south_africa.1
			}
		}
	}

	############################
	## SHARED POLITICS SECTION #
	############################

	focus = {
		id = SAF_native_laws_amendment_act
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SAF_police_windhoek }
		x = 0
		y = 1
		relative_position_id = SAF_police_windhoek

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_ideas = SAF_cheap_labor_1
		}
	}

	focus = {
		id = SAF_work_for_all_poor
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_native_laws_amendment_act }
		x = 0
		y = 2
		relative_position_id = SAF_native_laws_amendment_act

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			depression_improves = yes
			swap_ideas = {
				remove_idea = SAF_cheap_labor_1
				add_idea = SAF_cheap_labor_2
			}
		}
	}

	
	focus = {
		id = SAF_voortrekker_monument
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SAF_native_laws_amendment_act }
		x = 1
		y = 1
		relative_position_id = SAF_native_laws_amendment_act

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_ideas = SAF_voortrekker_monument
		}
	}
	focus = {
		id = SAF_commemorate_the_battle_of_blood_river
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = SAF_voortrekker_monument }
		x = 0
		y = 2
		relative_position_id = SAF_voortrekker_monument

		cost = 70 # Previously was: 70.0 



		available = {
			agrarianism < 0.05
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_voortrekker_monument
				add_idea = SAF_voortrekker_monument_2
			}

		}
	}
	############################
	##### INDUSTRY SECTION #####
	############################

	focus = {
		id = SAF_south_african_railways
		icon = GFX_goal_generic_construct_infrastructure
		x = 12
		y = 0

		cost = 55 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_expand_the_mining_industry
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SAF_south_african_railways }
		x = -1
		y = 1
		relative_position_id = SAF_south_african_railways

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
		}

		completion_reward = {
			depression_improves = yes
			unlock_decision_tooltip = develop_transvaal_coal_deposits
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = SAF_expand_the_mining_industry_IC
			}
			add_tech_bonus = {
				name = SAF_expand_the_mining_industry
				bonus = 0.35
				uses = 1
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
		}
	}
	
	focus = {
		id = SAF_sappi
		icon = GFX_goal_books
		prerequisite = { focus = SAF_south_african_railways }
		x = -3
		y = 1
		relative_position_id = SAF_south_african_railways

		cost = 30 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_heavy_engineering
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_south_african_railways }
		x = 1
		y = 1
		relative_position_id = SAF_south_african_railways

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_heavy_engineering
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
	}
	focus = {
		id = SAF_buffelspoort
		icon = GFX_focus_USA_bonneville
		prerequisite = { focus = SAF_heavy_engineering }
		x = 0
		y = 1
		relative_position_id = SAF_heavy_engineering

		cost = 40 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			541 = {
				add_resource = {
					type = food
					amount = 12
				}
			}
		}
	}
	focus = {
		id = SAF_infrastructure_effort
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SAF_heavy_engineering focus = SAF_expand_the_mining_industry }
		x = -1
		y = 2
		relative_position_id = SAF_south_african_railways

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_infrastructure_effort_Inf
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 2
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SAF_infrastructure_effort_Inf
			}
		}
	}
	focus = {
		id = SAF_ansteys
		icon = GFX_focus_generic_industrial_towns
		prerequisite = { focus = SAF_infrastructure_effort }
		x = -2
		y = 1
		relative_position_id = SAF_infrastructure_effort

		cost = 33



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			275 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_armament_effort
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SAF_infrastructure_effort }
		x = -1
		y = 3
		relative_position_id = SAF_south_african_railways

		cost = 40 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_armament_effort_AF
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SAF_armament_effort_AF
			}
		}
	}
	focus = {
		id = SAF_windhoeker
		icon = GFX_focus_SWE_lynx_armored_car
		prerequisite = { focus = SAF_armament_effort }
		x = -1
		y = 2
		relative_position_id = SAF_armament_effort

		cost = 50 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			541 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = engine_assembly
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_south_african_steel
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_infrastructure_effort }
		x = 1
		y = 3
		relative_position_id = SAF_south_african_railways

		cost = 70 # Previously was: 70.0 



		available = {
			controls_state = 275
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			275 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = steel_refinery
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_pretoria_arms
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SAF_armament_effort }
		prerequisite = { focus = SAF_south_african_steel }
		x = -1
		y = 4
		relative_position_id = SAF_south_african_railways

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_pretoria_arms_AF
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
				set_state_flag = SAF_pretoria_arms_AF
			}
		}
	}

	focus = {
		id = SAF_expand_the_rand_mines
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SAF_south_african_steel }
		x = 1
		y = 4
		relative_position_id = SAF_south_african_railways

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			add_ideas = SAF_gold_exports
		}
	}
	focus = {
		id = SAF_Land
		icon = GFX_cement_factory
		prerequisite = { focus = SAF_expand_the_rand_mines }
		x = 1
		y = 2
		relative_position_id = SAF_expand_the_rand_mines

		cost = 37 

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_Land
				bonus = 0.33
				uses = 1
				category = farming_tech
			}	
			275 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_fund_the_university_of_south_africa
		icon = GFX_focus_research
		prerequisite = { focus = SAF_pretoria_arms focus = SAF_expand_the_rand_mines }
		x = 0
		y = 5
		relative_position_id = SAF_south_african_railways

		cost = 70 # Previously was: 70.0 

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			add_research_slot = 1
			add_research_centre = yes
			SLOT:industry_folder = yes
			SLOT:raw_materials_folder = yes
			SLOT:electronics_folder = yes
			set_variable = { SAF_university_slot = amount_research_slots }
		}
	}

	focus = {
		id = SAF_establish_the_atomics_energy_board
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = SAF_fund_the_university_of_south_africa }
		x = 0
		y = 6
		relative_position_id = SAF_south_african_railways

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_establish_the_atomics_energy_board
				bonus = 0.5
				uses = 2
				category = nuclear
			}
			set_temp_variable = { target_slot = SAF_university_slot }
			SLOT:nuclear_folder = yes
		}
	}

	focus = {
		id = SAF_the_cape_defense_institute
		icon = GFX_focus_research
		prerequisite = { focus = SAF_establish_the_atomics_energy_board }
		x = -1
		y = 7
		relative_position_id = SAF_south_african_railways

		cost = 70 # Previously was: 70.0 



		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			add_research_slot = 1
			add_research_centre = yes
			SLOT:naval_folder = yes
			SLOT:naval_techs_folder = yes
		}
	}

	focus = {
		id = SAF_defense_collaboration_initiative
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = SAF_establish_the_atomics_energy_board }
		x = 1
		y = 7
		relative_position_id = SAF_south_african_railways

		cost = 70 # Previously was: 70.0 



		available = {
			OR = {
				is_subject = no
				date > 1940.1.1
			}
			has_war = yes
			is_in_faction = yes
			OR = {
				num_of_factories > 50
				any_allied_country = {
					num_of_factories > 50
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			add_research_slot = 1
			add_research_centre = yes
			SLOT:ww1_land_doctrine_folder = yes
			SLOT:land_doctrine_folder = yes
			SLOT:naval_doctrine_folder = yes
			SLOT:air_doctrine_folder = yes
		}
	}


	############################
	####### ARMY SECTION #######
	############################

	focus = {
		id = SAF_special_service_battalion
		icon = GFX_goal_generic_army_doctrines
		x = 16
		y = 0

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = SAF_special_service_battalion
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SAF_improve_the_three_oh_three
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = SAF_special_service_battalion }
		x = -1
		y = 1
		relative_position_id = SAF_special_service_battalion

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_improve_the_three_oh_three
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = SAF_q_services_corps
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SAF_special_service_battalion }
		x = 1
		y = 1
		relative_position_id = SAF_special_service_battalion

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_q_services_corps
				bonus = 0.5
				uses = 2
				technology = motorised_infantry
				technology = tech_logistics_company
				technology = tech_logistics_company2
				technology = tech_logistics_company3
				technology = tech_logistics_company4
			}
		}
	}

	focus = {
		id = SAF__south_african_military_college
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SAF_improve_the_three_oh_three focus = SAF_q_services_corps }
		x = 0
		y = 2
		relative_position_id = SAF_special_service_battalion

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = SAF__south_african_military_college
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SAF_expand_the_south_african_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SAF_improve_the_three_oh_three focus = SAF__south_african_military_college }
		x = -1
		y = 3
		relative_position_id = SAF_special_service_battalion

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_expand_the_south_african_artillery
				bonus = 0.5
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = SAF_sa_engineer_corps
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_q_services_corps focus = SAF__south_african_military_college }
		x = 1
		y = 3
		relative_position_id = SAF_special_service_battalion

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_sa_engineer_corps
				bonus = 0.5
				uses = 1
				category = support_tech
			}
		}
	}

	focus = {
		id = SAF_equipment_effort
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = SAF_expand_the_south_african_artillery focus = SAF_sa_engineer_corps }
		x = 0
		y = 4
		relative_position_id = SAF_special_service_battalion

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_equipment_effort
				bonus = 0.5
				uses = 1
				category = infantry_weapons
				category = artillery
			}
		}
	}

	focus = {
		id = SAF_mechanization_effort
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = SAF_equipment_effort }
		x = -1
		y = 5
		relative_position_id = SAF_special_service_battalion

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_mechanization_effort
				bonus = 0.5
				uses = 1
				category = cat_mechanized_equipment
			}
		}
	}

	focus = {
		id = SAF_south_african_special_forces
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = SAF_equipment_effort focus = SAF_sa_engineer_corps }
		x = 1
		y = 5
		relative_position_id = SAF_special_service_battalion

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_south_african_special_forces
				bonus = 0.5
				uses = 1
				category = para_tech
				category = marine_tech
				category = mountaineers_tech
			}
		}
	}

	focus = {
		id = SAF_armor_effort
		icon = GFX_goal_british_tanks
		prerequisite = { focus = SAF_south_african_special_forces focus = SAF_mechanization_effort }
		x = 0
		y = 6
		relative_position_id = SAF_special_service_battalion

		cost = 70 # Previously was: 70.0 

		available = {
			has_tech = tech_trm_british_armour
			tank_assembly > 4
			is_in_faction_with = ENG
			ENG = { has_tech = tech_trm_cavalry_tank_chassis_eng_mk3_1 }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		
		completion_reward = {
			custom_effect_tooltip = SAF_tank_allow_cruiser_tank_tt
			hidden_effect = {
				set_technology = { popup = no tech_trm_cavalry_tank_chassis_eng_mk1_1 = 1 }
				set_technology = { popup = no tech_trm_cavalry_tank_chassis_eng_mk2_1 = 1 }
			}
			set_technology = { popup = no tech_trm_cavalry_tank_chassis_eng_mk3_1 = 1 }
		}
	}


	############################
	####### AIR SECTION ########
	############################

	focus = {
		id = SAF_commit_to_the_five_year_plan
		icon = GFX_goal_generic_build_airforce
		x = 20
		y = 0	

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			air_experience = 25
			random_state = {				
				limit = {
					has_state_flag = SAF_commit_to_the_five_year_plan_AB
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = SAF_commit_to_the_five_year_plan
				bonus = 0.35
				uses = 1
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = SAF_commit_to_the_five_year_plan_AB
			}
			add_tech_bonus = {
				name = SAF_commit_to_the_five_year_plan
				bonus = 0.35
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = SAF_improve_the_hawker_hartbees
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = SAF_commit_to_the_five_year_plan }
		mutually_exclusive = { focus = SAF_replace_the_blenheim  }
		x = -1
		y = 1
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_improve_the_hawker_hartbees
				bonus = 0.3
				uses = 1
				category = light_fighter
				category = cas_bomber
			}
		}
	}

	focus = {
		id = SAF_replace_the_blenheim
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = SAF_commit_to_the_five_year_plan }
		mutually_exclusive = { focus = SAF_improve_the_hawker_hartbees  }
		x = 1
		y = 1
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_replace_the_blenheim
				bonus = 0.3
				uses = 1
				category = tactical_bomber
				category = naval_bomber
			}
		}
	}
	focus = {
		id = SAF_sci
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = SAF_improve_the_hawker_hartbees focus = SAF_replace_the_blenheim }
		x = -2
		y = 2
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 84 # Previously was: 84.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_research_slot = 1
			add_research_centre = yes
			SLOT:air_techs_folder = yes
		}
	}
	focus = {
		id = SAF_perfect_the_cab_rank_technique
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SAF_improve_the_hawker_hartbees focus = SAF_replace_the_blenheim }
		x = 0
		y = 2
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = SAF_perfect_the_cab_rank_technique
				bonus = 0.5
				uses = 1
				category = cat_battlefield_support
			}
		}
	}

	focus = {
		id = SAF_desert_air_force
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = SAF_perfect_the_cab_rank_technique }
		x = -1
		y = 3
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_desert_air_force
				bonus = 0.35
				uses = 1
				category = cas_bomber
			}
		}
	}

	focus = {
		id = SAF_secure_the_cape_sea_route
		icon = GFX_goal_generic_air_bomber 
		prerequisite = { focus = SAF_perfect_the_cab_rank_technique focus = SAF_replace_the_blenheim }
		x = 1
		y = 3
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_secure_the_cape_sea_route
				bonus = 0.35
				uses = 1
				category = naval_bomber
			}
		}
	}

	focus = {
		id = SAF_retain_experienced_pilots
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SAF_desert_air_force focus = SAF_secure_the_cape_sea_route }
		x = 0
		y = 4
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			air_experience = 35
			add_tech_bonus = {
				name = SAF_retain_experienced_pilots
				bonus = 0.35
				uses = 1
				category = air_doctrine
			}
		}
	}


	############################
	###### NAVY SECTION ########
	############################

	focus = {
		id = SAF_seaward_defence_force
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 24
		y = 0		

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			navy_experience = 25
			random_state = {
				limit = {
					has_state_flag = SAF_seaward_defence_force_DY
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				prioritize = { 681 719 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = SAF_seaward_defence_force_DY
			}			
			add_tech_bonus = {
				name = SAF_seaward_defence_force
				bonus = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = SAF_protect_the_trade
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = SAF_seaward_defence_force }
		mutually_exclusive = { focus = SAF_disrupt_the_trade }
		x = -1
		y = 1
		relative_position_id = SAF_seaward_defence_force

		cost = 70 # Previously was: 70.0 


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_protect_the_trade
				bonus = 0.5
				uses = 1
				category = naval_doctrine_convoy
				category = naval_doctrine_destroyer
			}
		}
	}

	focus = {
		id = SAF_disrupt_the_trade
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = SAF_seaward_defence_force }
		mutually_exclusive = { focus = SAF_protect_the_trade }
		x = 1
		y = 1
		relative_position_id = SAF_seaward_defence_force

		cost = 70 # Previously was: 70.0 


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_disrupt_the_trade
				bonus = 0.5
				uses = 1
				category = naval_doctrine_submarine
			}
		}
	}

	focus = {
		id = SAF_expand_the_simons_town_base
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SAF_protect_the_trade focus = SAF_disrupt_the_trade }
		x = 0
		y = 2
		relative_position_id = SAF_seaward_defence_force

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
		}

		completion_reward = {
			681 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = shipyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 12589
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_anti_submarine_tactics
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = SAF_expand_the_simons_town_base }
		x = -1
		y = 3
		relative_position_id = SAF_seaward_defence_force

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_anti_submarine_tactics
				bonus = 0.5
				uses = 2
				category = asw_tech
			}
		}
	}

	focus = {
		id = SAF_submarine_warfare
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = SAF_expand_the_simons_town_base }
		x = 1
		y = 3
		relative_position_id = SAF_seaward_defence_force

		cost = 70 # Previously was: 70.0 


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_submarine_warfare
				bonus = 0.35
				uses = 1
				category = ss_tech
			}
		}
	}

	focus = {
		id = SAF_prepare_overseas_offensive
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = SAF_anti_submarine_tactics }
		mutually_exclusive = { focus = SAF_strengthen_the_cape_garrison_artillery }
		x = -1
		y = 4
		relative_position_id = SAF_seaward_defence_force

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		

		completion_reward = {
			add_tech_bonus = {
				name = SAF_prepare_overseas_offensive
				bonus = 0.5
				uses = 1
				category = naval_doctrine_destroyer
				category = naval_doctrine_cruiser
			}
			add_tech_bonus = {
				name = SAF_prepare_overseas_offensive
				bonus = 0.5
				uses = 1
				category = marine_tech
				category = tp_tech
			}
		}
	}

	focus = {
		id = SAF_strengthen_the_cape_garrison_artillery
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = SAF_submarine_warfare }
		mutually_exclusive = { focus = SAF_prepare_overseas_offensive }
		x = 1
		y = 4
		relative_position_id = SAF_seaward_defence_force

		cost = 70 # Previously was: 70.0 



		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_in_home_area = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes							
						limit_to_naval_base = yes
					}
					level = 1
					instant_build = yes
				}
			}
		}
	}
	#######################################################
	# requistion trucks
	
}		
