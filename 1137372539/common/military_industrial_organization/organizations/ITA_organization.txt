#####################

###  ##  #  # # #  ## 
 #  #  # ## # # # #   
 #  #### # ## ##   #  
 #  #  # #  # # #   # 
 #  #  # #  # # # ## 

 #################### 

ITA_fiat_organization = {	
	icon = GFX_idea_fiat
	allowed = {	
		tag = ITA
	}

	available = {
		owner = { controls_state = 158 }
	}

	equipment_type = {
		armor
	}
	research_categories = {
		armor
	}

	tree_header_text = {
		text = mio_header_engine_and_drive_system
		x = 1
	}

	tree_header_text = {
		text = mio_header_chassis
		x = 5
	}

	tree_header_text = {
		text = mio_header_guns_and_turret
		x = 8
	}

	task_capacity = 3
	
	initial_trait = {
		name = ITA_fiat_initial

		production_bonus = {
			production_resource_need_factor = -0.1		
		}
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
		}
	}

	trait = { 
        token = ITA_mio_trait_new_industrialization_program
        name = ITA_new_industrialization_program
        icon = GFX_generic_mio_trait_icon_production_capacity
        special_trait_background = yes

        position = { x=1 y=0 }
        
		production_bonus = {
			production_capacity_factor = 0.02
			production_resource_need_factor = 0.02							
		}
		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}
	}
	trait = { 
        token = ITA_mio_trait_military_expansion
        name = ITA_mio_trait_military_expansion
        icon = GFX_generic_mio_trait_icon_building
		relative_position_id = ITA_mio_trait_new_industrialization_program   
		all_parents = {
			ITA_mio_trait_new_industrialization_program
		}
        position = { x=0 y=1 }
        
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 158 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_trait_engine_expansion
        name = ITA_mio_trait_engine_expansion
        icon = GFX_generic_mio_trait_icon_building
		relative_position_id = ITA_mio_trait_military_expansion   
		all_parents = {
			ITA_mio_trait_military_expansion
		}
		mutually_exclusive = {
			ITA_mio_trait_tank_assembly_expansion	
		}
        position = { x=-1 y=1 }
        
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 158 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = engine_assembly
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_trait_tank_assembly_expansion
        name = ITA_mio_trait_tank_assembly_expansion
        icon = GFX_generic_mio_trait_icon_production_capacity
		relative_position_id = ITA_mio_trait_military_expansion   
		all_parents = {
			ITA_mio_trait_military_expansion
		}
		mutually_exclusive = {
			ITA_mio_trait_engine_expansion
		}
        position = { x=1 y=1 }

		production_bonus = {
			production_capacity_factor = 0.02
			production_resource_need_factor = 0.02
		}
        
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 158 }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = tank_assembly
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_trait_local_machine_tool_industry
        name = ITA_mio_trait_local_machine_tool_industry
        icon = GFX_generic_mio_trait_icon_efficiency_gain
		relative_position_id = ITA_mio_trait_tank_assembly_expansion   
		all_parents = {
			ITA_mio_trait_tank_assembly_expansion
		}
		
        position = { x=0 y=1 }

		production_bonus = {
			production_efficiency_gain_factor = 0.04
		}
		organization_modifier = {
			military_industrial_organization_size_up_requirement = 0.1
		}
        
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 158 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_trait_aerodynamics_department
        name = ITA_mio_trait_aerodynamics_department
        icon = GFX_generic_mio_trait_icon_mio
		relative_position_id = ITA_mio_trait_engine_expansion   
		all_parents = {
			ITA_mio_trait_engine_expansion
		}
		
        position = { x=0 y=1 }

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.33
			military_industrial_organization_research_bonus = 0.05
		}	
	}

	trait = { 
        token = ITA_mio_trait_italian_made
        name = ITA_mio_trait_italian_made
        icon = GFX_generic_mio_trait_icon_reliability
		relative_position_id = ITA_mio_trait_aerodynamics_department   
		any_parent  = {
			ITA_mio_trait_aerodynamics_department
			ITA_mio_trait_local_machine_tool_industry
		}
		
        position = { x=1 y=1 }

		equipment_bonus = {
			reliability = 0.05			
		}
	}

	trait = { 
        token = ITA_mio_trait_new_combustion_chambers
        name = ITA_mio_trait_new_combustion_chambers
        icon = GFX_generic_mio_trait_icon_fuel_consumption
		
		position = { x=7 y=0 }

		equipment_bonus = {
			fuel_consumption = -0.04
			build_cost_ic = 0.02
		}
	}

	trait = { 
        token = ITA_mio_trait_reinforced_rivets
        name = ITA_mio_trait_reinforced_rivets
        icon = GFX_generic_mio_trait_icon_armor_value
		
		position = { x=9 y=0 }
		
		equipment_bonus = {
			armor_value = 0.03
		}
	}

	trait = { 
        token = ITA_mio_trait_german_metallurgic_technology
        name = ITA_mio_trait_german_metallurgic_technology
        icon = GFX_generic_mio_trait_icon_hardness
		relative_position_id = ITA_mio_trait_new_combustion_chambers
		any_parent = {
			ITA_mio_trait_new_combustion_chambers
			ITA_mio_trait_reinforced_rivets
		}
		position = { x=2 y=1 }
		limit_to_equipment_type = {
			mio_cat_eq_all_medium_tank
			mio_cat_eq_all_heavy_tank
		}
		equipment_bonus = {
			hardness = 0.02
			armor_value = 0.03
		}
		on_complete = {
			GER = {
				add_cic = 1000
			}
		}
	}
	trait = { 
        token = ITA_mio_trait_specialized_terrain_components
        name = ITA_mio_trait_specialized_terrain_components
        icon = GFX_generic_mio_trait_icon_defense
		relative_position_id = ITA_mio_trait_new_combustion_chambers
		any_parent = {
			ITA_mio_trait_new_combustion_chambers
			ITA_mio_trait_reinforced_rivets
		}
		position = { x=0 y=1 }
		limit_to_equipment_type = {
			mio_cat_eq_all_light_tank
		}
		equipment_bonus = {
			defense = 0.03
			build_cost_ic = 0.01
		}		
	}
	trait = { 
        token = ITA_mio_trait_muzzle_breaks
        name = ITA_mio_trait_muzzle_breaks
        icon = GFX_generic_mio_trait_icon_hard_attack
		relative_position_id = ITA_mio_trait_german_metallurgic_technology
		position = { x=0 y=1 }
		all_parents = {
			ITA_mio_trait_german_metallurgic_technology
		}
		limit_to_equipment_type = {
			mio_cat_eq_all_medium_tank
			mio_cat_eq_all_heavy_tank
		}
		equipment_bonus = {
			hard_attack = 0.03
		}		
	}
	trait = { 
        token = ITA_mio_trait_chromium_plating
        name = ITA_mio_trait_chromium_plating
        icon = GFX_generic_mio_trait_icon_reliability
		relative_position_id = ITA_mio_trait_muzzle_breaks
		position = { x=0 y=1 }
		all_parents = {
			ITA_mio_trait_muzzle_breaks
		}
		mutually_exclusive = {
			ITA_mio_trait_improved_gearboxes
		}
		limit_to_equipment_type = {
			mio_cat_eq_all_heavy_tank
		}
		equipment_bonus = {
			reliability = 0.04
		}
		production_bonus = {
			production_resource_need_factor = 0.05
		}
	}
	trait = { 
        token = ITA_mio_trait_improved_gearboxes
        name = ITA_mio_trait_improved_gearboxes
        icon = GFX_generic_mio_trait_icon_soft_attack
		relative_position_id = ITA_mio_trait_muzzle_breaks
		position = { x=-1 y=1 }
		mutually_exclusive = {
			ITA_mio_trait_chromium_plating
		}
		all_parents = {
			ITA_mio_trait_muzzle_breaks
		}
		limit_to_equipment_type = {
			mio_cat_eq_all_medium_tank
		}
		equipment_bonus = {
			soft_attack = 0.03
			build_cost_ic = 0.02
		}		
	}

	trait = { 
        token = ITA_mio_trait_advanced_propellants
        name = ITA_mio_trait_advanced_propellants
        icon = GFX_generic_mio_trait_icon_ap_attack
		relative_position_id = ITA_mio_trait_chromium_plating
		position = { x=0 y=1 }
		all_parents = {
			ITA_mio_trait_chromium_plating
		}
		# mutually_exclusive = {
		# 	ITA_mio_trait_improved_gearboxes
		# }
		limit_to_equipment_type = {
			mio_cat_eq_all_heavy_tank
		}
		equipment_bonus = {
			ap_attack = 0.05
		}
		production_bonus = {
			production_cost_factor = 0.03
		}
	}
	trait = { 
        token = ITA_mio_trait_extra_horsepower
        name = ITA_mio_trait_extra_horsepower
        icon = GFX_generic_mio_trait_icon_maximum_speed
		relative_position_id = ITA_mio_trait_improved_gearboxes
		position = { x=0 y=1 }
		
		all_parents = {
			ITA_mio_trait_improved_gearboxes
		}
		limit_to_equipment_type = {
			mio_cat_eq_all_medium_tank
		}
		equipment_bonus = {
			maximum_speed = 0.03
			reliability = -0.05
		}		
	}


	trait = { 
        token = ITA_mio_trait_suspension_improvements
        name = ITA_mio_trait_suspension_improvements
        icon = GFX_generic_mio_trait_icon_breakthrough
		relative_position_id = ITA_mio_trait_specialized_terrain_components
		all_parents = {
			ITA_mio_trait_specialized_terrain_components
		}
		position = { x=0 y=1 }
		limit_to_equipment_type = {
			mio_cat_eq_all_light_tank
		}
		equipment_bonus = {
			breakthrough = 0.05
		}		
	}
	trait = { 
        token = ITA_mio_trait_german_optics
        name = ITA_mio_trait_german_optics
        icon = GFX_generic_mio_trait_icon_ap_attack
		relative_position_id = ITA_mio_trait_suspension_improvements
		all_parents = {
			ITA_mio_trait_suspension_improvements
		}
		position = { x=0 y=1 }
		limit_to_equipment_type = {
			mio_cat_eq_all_light_tank
		}
		equipment_bonus = {
			ap_attack = 0.05
		}
		on_complete = {
			GER = {
				add_cic = 750
			}
		}	
	}
		
	trait = { 
        token = ITA_mio_up_gunning
        name = ITA_mio_up_gunning
        icon = GFX_generic_mio_trait_icon_research		
		
		position = { x=5 y=0 }
		mutually_exclusive = {
			ITA_mio_up_engine
		}
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = armor_tech_gun
					bonus = 0.15
					uses = 1
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_up_engine
        name = ITA_mio_up_engine
        icon = GFX_generic_mio_trait_icon_research
		
		position = { x=3 y=0 }
		mutually_exclusive = {
			ITA_mio_up_gunning
		}
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = armor_tech_engine
					bonus = 0.2
					uses = 1
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_up_suspension
        name = ITA_mio_up_suspension
        icon = GFX_generic_mio_trait_icon_research
		any_parent = {
			ITA_mio_up_engine
			ITA_mio_up_gunning
		}
		mutually_exclusive = {
			ITA_mio_up_armor
		}
		relative_position_id = ITA_mio_up_gunning
		position = { x=0 y=1 }
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = armor_tech_suspension
					bonus = 0.25
					uses = 1
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_up_armor
        name = ITA_mio_up_armor
        icon = GFX_generic_mio_trait_icon_research
		any_parent = {
			ITA_mio_up_engine
			ITA_mio_up_gunning
		}
		mutually_exclusive = {
			ITA_mio_up_suspension
		}
		relative_position_id = ITA_mio_up_gunning
		position = { x=-2 y=1 }
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = armor_tech_armor
					bonus = 0.25
					uses = 1
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_up_gunning_2
        name = ITA_mio_up_gunning_2
        icon = GFX_generic_mio_trait_icon_research
		relative_position_id = ITA_mio_up_suspension
		position = { x=-2 y=1 }
		any_parent = {
			ITA_mio_up_armor
			ITA_mio_up_suspension
		}		
		mutually_exclusive = { ITA_mio_up_engine_2 }
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = armor_tech_gun
					bonus = 0.35
					uses = 1
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_up_engine_2
        name = ITA_mio_up_engine_2
        icon = GFX_generic_mio_trait_icon_research
		relative_position_id = ITA_mio_up_suspension
		any_parent = {
			ITA_mio_up_armor
			ITA_mio_up_suspension
		}
		position = { x=0 y=1 }
		mutually_exclusive = { ITA_mio_up_gunning_2 }
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = armor_tech_armor_construction
					bonus = 0.35
					uses = 1
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_radio_tech
        name = ITA_mio_radio_tech
        icon = GFX_generic_mio_trait_icon_research
		relative_position_id = ITA_mio_up_engine_2
		any_parent = {
			ITA_mio_up_engine_2
			ITA_mio_up_gunning_2
		}
		position = { x=-2 y=1 }
		mutually_exclusive = { ITA_mio_any_tank_tech }
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = radio_tech
					bonus = 0.55
					uses = 1
				}
			}
		}
	}
	trait = { 
        token = ITA_mio_any_tank_tech
        name = ITA_mio_any_tank_tech
        icon = GFX_generic_mio_trait_icon_research
		relative_position_id = ITA_mio_up_engine_2
		any_parent = {
			ITA_mio_up_engine_2
			ITA_mio_up_gunning_2
		}
		position = { x=0 y=1 }
		mutually_exclusive = { ITA_mio_radio_tech }
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = armor_tech
					bonus = 0.35
					uses = 1
				}
			}
		}
	}
}



#####################

 ## #  # ### ###   ## 
#   #  #  #  #  # #   
 #  ####  #  ###   #  
  # #  #  #  #      # 
##  #  # ### #    ##  
 
#####################

ITA_crda_organization = {
	include = generic_battle_line_ship_organization
	icon = GFX_idea_crda
	
	allowed = {	
		tag = ITA
	}
	
	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_ship_capital_ship_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

ITA_cantiere_oto_organization = {
	include = generic_escort_ship_organization
	icon = GFX_idea_ITA_oto
	
	allowed = {	
		tag = ITA 
	}
	
	available = {
		FROM = {
			controls_state =  857 #158 #PIEDMONT (Genova)
		}
		##ITA_is_northern_designer = yes
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_ship_screen_ship_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

ITA_navalmeccanica_organization = {
	include = generic_refurbishment_repair_organization
	icon = GFX_idea_ITA_navalmeccanica
	
	allowed = {	
		tag = ITA 
	}
	
	available = {
		FROM = {
			controls_state = 117 # CAMPAGNA (Napoli)	
		}
		##ITA_is_southern_designer = yes
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_ship_screen_ship_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
} 

ITA_cantiere_navale_di_ancona_organization = {
	include = generic_raider_ship_organization
	icon = GFX_idea_ITA_cantera_navale_di_ancona
	
	allowed = {	
		tag = ITA 
	}
	
	available = {
		FROM = {
			controls_state = 936 #157 # ABRUZZO (Ancona)		
		}
		##ITA_is_southern_designer = yes
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_ship_general_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

ITA_cantieri_navali_tosi_organization = {
	include = generic_submarine_organization
	icon = GFX_idea_ITA_cantieri_navali_tosi
	
	allowed = {	
		tag = ITA 
	}
	
	available = {
		FROM = {
			controls_state = 858 # 849 # PUGLIA (Taranto)
			
		}
		##ITA_is_southern_designer = yes
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_ship_submarine_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

###########################

###  #    ##  #  # ###  ## 
#  # #   #  # ## # #   #   
###  #   #### # ## ##   #  
#    #   #  # #  # #     # 
#    ### #  # #  # ### ##  

###########################

ITA_macchi_organization = {
	include = generic_light_aircraft_organization
	icon = GFX_idea_macchi
	allowed = {	
		tag = ITA
	}
	research_categories = {
		macchi_air
	}
	equipment_type = {
		mio_cat_eq_only_light_fighter
		#mio_cat_macchi_air
	}	
	available = {
		FROM = {
			controls_state = 159 #LOMBARDIA
		}
	}

	task_capacity = 8

	initial_trait = {
		name = generic_mio_initial_trait_light_aircraft_designer
		
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}
		
		equipment_bonus = {
			air_agility = 0.02
		}
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_plane_fighter_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 2
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

ITA_savoia_marchetti_organization = {
	include = generic_medium_aircraft_organization
	icon = GFX_idea_savoia_marchetti
	research_categories = {
		savoia_marchetti_air
	}		
	allowed = {	
		tag = ITA 
	}
	equipment_type = {
		mio_cat_eq_all_medium_plane
		transport_plane_equipment
		#mio_cat_savoia_marchetti_air
	}	
	available = {
		FROM = {
			controls_state = 159 #LOMBARDIA
		}
		#ITA_is_northern_designer = yes
	}

	task_capacity = 8

	initial_trait = {
		name = generic_mio_initial_trait_multi_role_tactical_aircraft
		
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		limit_to_equipment_type = { mio_cat_eq_all_medium_plane }

		equipment_bonus = {
			naval_strike_attack = 0.02
			air_ground_attack = 0.02
			air_bombing = 0.03
		}
	}

	add_trait = {
		token = ITA_mio_trait_air_race_pedigree
		name = ITA_mio_trait_air_race_pedigree
		icon = GFX_generic_mio_department_icon_plane_medium_engine
		special_trait_background = yes
		
		position = { x=7 y=0 }  
		#relative_position_id = generic_mio_trait_narrow_build
		
		#any_parent = { generic_mio_trait_narrow_build }
		
		limit_to_equipment_type = { mio_cat_eq_all_medium_plane }
		equipment_bonus = {
			maximum_speed = 0.01
			air_range = 0.05
		}
	}

	add_trait = {
		token = ITA_mio_trait_special_aerotorpedoes_unit
		name = ITA_mio_trait_special_aerotorpedoes_unit
		icon = GFX_generic_mio_trait_icon_torpedo_attack
		special_trait_background = yes
		
		position = { x=1 y=0 }  
		relative_position_id = ITA_mio_trait_air_race_pedigree
		
		#any_parent = { generic_mio_trait_narrow_build }
		
		limit_to_equipment_type = { mio_cat_eq_all_medium_plane }
		equipment_bonus = {
			naval_strike_attack = 0.03
		}
	}

#	add_trait = {
#		token = ITA_mio_trait_remote_operated
#		name = ITA_mio_trait_remote_operated
#		icon = GFX_generic_mio_trait_icon_build_cost_ic
#		special_trait_background = yes
#		
#		position = { x=3 y=0 }  
#		relative_position_id = generic_mio_trait_bomber_specialization
#		available = {
#			FROM = { has_tech = experimental_rockets }
#		}
#		
#		#any_parent = { generic_mio_trait_narrow_build }
#		
#		limit_to_equipment_type = { mio_cat_eq_all_small_plane }
#		equipment_bonus = {
#			reliability = 0.1
#		}
#		production_bonus = {
#			production_cost_factor = -0.1
#		}
#	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_plane_general_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 2
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

ITA_caproni_organization = {
	include = generic_cas_aircraft_organization
	icon = GFX_idea_caproni
	
	allowed = {	 
		tag = ITA
	}
	research_categories = {
		caproni_air
	}	
	equipment_type = {
		mio_cat_eq_all_close_air_support
		#mio_cat_caproni_air
	}
	available = {
		FROM = {
			controls_state = 159 #LOMBARDIA
		}
		#ITA_is_northern_designer = yes
	}

	task_capacity = 8

	initial_trait = {
		name = generic_mio_initial_trait_cas_aircraft_designer
		
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		equipment_bonus = {
			air_ground_attack = 0.03
			naval_strike_attack = 0.03
		}
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_plane_cas_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 2
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

ITA_reggiane_organization = {
	include = generic_high_agility_fighter_aircraft_organization
	icon = GFX_idea_reggiane_aircraft
	
	allowed = {	 
		tag = ITA
	}
	research_categories = {
		reggiane_air
	}	
	equipment_type = {
		mio_cat_eq_only_light_fighter
		#mio_cat_reggiane_air
	}
	available = {
		FROM = {
			controls_state = 161
		}
		#ITA_is_northern_designer = yes
	}

	task_capacity = 8

	initial_trait = {
		name = generic_mio_initial_trait_high_agility_fighters_designer
		
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		equipment_bonus = {
			air_agility = 0.03
			air_defence = -0.015
		}
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_plane_cas_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 2
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

ITA_piaggio_organization = {
	include = generic_heavy_aircraft_organization
	icon = GFX_idea_piaggio
	research_categories = {
		piaggio_air
	}
	equipment_type = {
		mio_cat_eq_all_heavy_plane
		transport_plane_equipment
		#mio_cat_piaggio_air
	}
	allowed = {	 
		tag = ITA 
	}
	
	available = {
		FROM = {
			controls_state = 158 #PIEMONTE
		}
		#ITA_is_northern_designer = yes
	}
	
	task_capacity = 8

	initial_trait = {
		name = generic_mio_initial_trait_heavy_aircraft_designer

		limit_to_equipment_type = { mio_cat_eq_all_heavy_plane}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}
		equipment_bonus = {
			air_bombing = 0.05
		}
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_plane_heavy_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 2
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

ITA_imam_organization = {
	include = generic_multi_role_aircraft_organization
	icon = GFX_idea_imam_aircraft
	
	allowed = {	
		tag = ITA
	}
	research_categories = {
		imam_air
	}
	equipment_type = {
		mio_cat_eq_all_small_plane_no_cv
		mio_cat_eq_all_medium_plane
		transport_plane_equipment
		#mio_cat_imam_air
	}
	available = {
		FROM = {
			controls_state = 117 #CAMPANIA (Napoli)
		}
		#ITA_is_southern_designer = yes
	}

	task_capacity = 8

	initial_trait = {
		name = generic_mio_initial_trait_multi_role_aircraft_designer

		limit_to_equipment_type = { mio_cat_eq_all_small_plane mio_cat_eq_all_medium_plane }
		
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		equipment_bonus = {
			air_ground_attack = 0.02
			naval_strike_attack = 0.02
			air_attack = 0.02
			air_defence = 0.02
		}
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_plane_medium_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 2
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

ITA_crda_cant_organization = {
	include = generic_naval_aircraft_organization
	icon = GFX_idea_ITA_crda_cant
	
	allowed = {	 
		tag = ITA 
	}
	research_categories = {
		cant_air
	}	
	equipment_type = {
		mio_cat_eq_all_cv_aircraft
		mio_cat_eq_all_naval_aircraft
		#mio_cat_cant_air
	}	
	available = {
		FROM = {
			controls_state = 736 #LITORALE (Trieste)
		}
		#ITA_is_southern_designer = yes
	}
	
	task_capacity = 8

	initial_trait = {
		name = generic_mio_initial_trait_naval_aircraft_designer

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		production_bonus = {
			production_capacity_factor = 0.05
		}
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_plane_naval_bomber_production
		special_trait_background = yes

		position = { x=9 y=0 }
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 2
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

ITA_fiat_aviazione_organization = {
	include = generic_range_focused_aircraft_organization
	icon = GFX_idea_ITA_fiat_aviazione
	research_categories = {
		fiat_air
	}
	equipment_type = {
		mio_cat_eq_all_small_plane
		mio_cat_eq_all_medium_plane 
		transport_plane_equipment
		#mio_cat_fiat_air
	}
	allowed = {	 
		tag = ITA
	}
	
	available = {
		FROM = {
			controls_state = 158 #PIEDMONT (Torino)
		}	
	}
	
	task_capacity = 8
	
	initial_trait = {
		name = generic_mio_initial_trait_range_focused_aircraft_designer

		limit_to_equipment_type = { mio_cat_eq_all_small_plane mio_cat_eq_all_medium_plane }
		
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		equipment_bonus = {
			naval_strike_attack = -0.03
			air_range = 0.02
			maximum_speed = 0.01
		}
	}

	override_trait = {
		token = generic_mio_trait_extra_cargo_doors

		position = { x=8 y=0 }
	}

	add_trait = {
		token = ITA_mio_trait_high_altitude_fighter_development
		name = ITA_mio_trait_high_altitude_fighter_development
		icon = GFX_generic_mio_trait_icon_air_agility
		special_trait_background = yes
		
		position = { x=0 y=1 }  
		relative_position_id = generic_mio_trait_low_drag_wings
		
		any_parent = { generic_mio_trait_low_drag_wings }
		
		limit_to_equipment_type = { mio_cat_eq_all_small_plane }
		equipment_bonus = {
			air_agility = 0.02
			air_attack = 0.02
		}
	}

	add_trait = { 
		token = ITA_mio_trait_new_industrialization_program
		name = ITA_new_industrialization_program
		icon = GFX_generic_mio_department_icon_plane_general_production
		special_trait_background = yes

		position = { x=9 y=0 }

		visible = {
			FROM = { original_tag = ITA }
		}
		
		available = {
			FROM = {
				has_completed_focus = ITA_industrial_war_effort
			}
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 2
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}
	}
}

################################### 

#   #  ##  ### ### ###  ### ### #   
## ## #  #  #  #   #  #  #  #   #   
# # # ####  #  ##  ###   #  ##  #   
#   # #  #  #  #   #  #  #  #   #   
#   # #  #  #  ### #  # ### ### ### 


###################################

ITA_beretta_organization = {
	include = generic_infantry_equipment_organization
	icon = GFX_idea_beretta

	allowed = {	
		OR = {
			tag = ITA
			tag = ETH
		}
	}
	available = {
		if = {
			limit = {
				FROM = {
					tag = ETH
				}
			}
			FROM = {
				has_completed_focus = IEA_equipment_effort
			}
		}
	}
}

ITA_lancia_organization = {
	include = generic_motorized_mechanized_organization
	icon = GFX_idea_lancia
	
	allowed = {	 
		tag = ITA 
	}
}

ITA_breda_organization = {
	include = generic_artillery_organization
	icon = GFX_idea_breda
	allowed = {	 
		tag = ITA
	}
	research_categories = {
		motorized_equipment
		breda_air
	}
	
}

ITA_brescia_arsenal_organization = {
	include = generic_support_equipment_organization
	icon = GFX_idea_ITA_brescia_arsenal
	
	allowed = {	 
		OR = {
			tag = ITA
			tag = ETH
		}
	}
	available = {
		if = {
			limit = {
				FROM = {
					tag = ETH
				}
			}
			FROM = {
				has_completed_focus = IEA_police
			}
		}
	}
}
