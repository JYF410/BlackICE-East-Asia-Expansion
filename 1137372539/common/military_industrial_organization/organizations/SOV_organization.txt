
########    ###    ##    ## ##    ##  ######
   ##      ## ##   ###   ## ##   ##  ##    ##
   ##     ##   ##  ####  ## ##  ##   ##
   ##    ##     ## ## ## ## #####     ######
   ##    ######### ##  #### ##  ##         ##
   ##    ##     ## ##   ### ##   ##  ##    ##
   ##    ##     ## ##    ## ##    ##  ######

SOV_gaz_organization = {
	#include = generic_heavy_tank_organization
	icon = GFX_idea_gaz

	allowed = {
		tag = SOV
	}

	equipment_type = {
		mio_cat_eq_all_light_tank
		motorized_lia_equipment
	}

	tree_header_text = {
		text = mio_header_engine_and_drive_system
		x = 1
	}

	tree_header_text = {
		text = mio_header_chassis
		x = 5
	}

	tree_header_text = {
		text = mio_header_guns_and_turret
		x = 8
	}
	
	research_bonus = -1

	initial_trait = {
		name = SOV_mio_gaz_initial
		
		organization_modifier = {
			military_industrial_organization_funds_gain = 0.5
		}
		production_bonus = {
			production_capacity_factor = 0.03
		}
	}

	trait = {
		name = SOV_mio_gaz_adapt_bus_engines
		token = SOV_mio_gaz_adapt_bus_engines
		icon = GFX_generic_mio_trait_icon_building
		position = { x = 4 y = 0 }
		
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 845 }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = engine_assembly
						level = 1
						instant_build = yes
					}
				}
			}
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 0.15
		}
	}
	trait = {
		name = SOV_mio_gaz_american_assistance
		token = SOV_mio_gaz_american_assistance
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		relative_position_id = SOV_mio_gaz_adapt_bus_engines
		position = { x = 0 y = 1 }
		all_parents = {
			SOV_mio_gaz_adapt_bus_engines
		}
		production_bonus = {
			production_efficiency_gain_factor = 0.1	
		} 
		
		on_complete = {
			USA = {
				add_cic = 500
			}
		}
	}
	trait = {
		name = SOV_mio_gaz_streamlined_logistics
		token = SOV_mio_gaz_streamlined_logistics
		icon = GFX_generic_mio_trait_icon_build_cost_ic
		relative_position_id = SOV_mio_gaz_american_assistance
		position = { x = -1 y = 1 }
		mutually_exclusive = {
			SOV_mio_gaz_modernized_assembly_lines
		}
		all_parents = {
			SOV_mio_gaz_american_assistance
		}
		production_bonus = {
			production_cost_factor = -0.05	
		}		
	}
	trait = {
		name = SOV_mio_gaz_modernized_assembly_lines
		token = SOV_mio_gaz_modernized_assembly_lines
		icon = GFX_generic_mio_trait_icon_efficiency_cap
		relative_position_id = SOV_mio_gaz_american_assistance
		position = { x = 1 y = 1 }
		mutually_exclusive = {
			SOV_mio_gaz_streamlined_logistics
		}
		all_parents = {
			SOV_mio_gaz_american_assistance
		}
		production_bonus = {
			production_efficiency_cap_factor = 0.1	
		}		
	}
	trait = {
		name = SOV_mio_gaz_expanded_engine_program
		token = SOV_mio_gaz_expanded_engine_program
		icon = GFX_generic_mio_trait_icon_building
		relative_position_id = SOV_mio_gaz_modernized_assembly_lines
		position = { x = -2 y = 1 }
		mutually_exclusive = {
			SOV_mio_gaz_expanded_facilities
		}
		any_parent = {
			SOV_mio_gaz_modernized_assembly_lines
			SOV_mio_gaz_streamlined_logistics
		}
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 845 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = engine_assembly
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	trait = {
		name = SOV_mio_gaz_expanded_facilities
		token = SOV_mio_gaz_expanded_facilities
		icon = GFX_generic_mio_trait_icon_building
		relative_position_id = SOV_mio_gaz_modernized_assembly_lines
		position = { x = 0 y = 1 }
		mutually_exclusive = {
			SOV_mio_gaz_expanded_engine_program
		}
		any_parent = {
			SOV_mio_gaz_modernized_assembly_lines
			SOV_mio_gaz_streamlined_logistics
		}
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 845 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = tank_assembly
						level = 2
						instant_build = yes
					}
				}
			}
		}		
	}
}

SOV_Plant37_organization = {
	#include = generic_heavy_tank_organization
	icon = GFX_idea_plant37

	allowed = {
		tag = SOV
	}

	equipment_type = {
		mio_cat_eq_all_light_tank			
	}
	research_categories = {
		industry_tech
	}

	tree_header_text = {
		text = mio_header_engine_and_drive_system
		x = 1
	}

	tree_header_text = {
		text = mio_header_chassis
		x = 5
	}

	tree_header_text = {
		text = mio_header_guns_and_turret
		x = 8
	}

	task_capacity = 1
	research_bonus = -1
	
	initial_trait = {
		name = SOV_Plant37_organization_initial
		
		organization_modifier = {
			military_industrial_organization_funds_gain = 0.5
		}
	}
	trait = {
		name = SOV_mio_Plant37_precision_machinery
		token = SOV_mio_Plant37_precision_machinery
		icon = GFX_generic_mio_trait_icon_production_capacity
		position = { x = 3 y = 0 }
		mutually_exclusive = {
			SOV_mio_Plant37_innovative_engineers
		}
		
		production_bonus = {
			production_capacity_factor = 0.05
			production_resource_need_factor = 0.05
		}
	}
	trait = {
		name = SOV_mio_Plant37_innovative_engineers
		token = SOV_mio_Plant37_innovative_engineers
		icon = GFX_generic_mio_trait_icon_mio
		position = { x = 5 y = 0 }
		mutually_exclusive = {
			SOV_mio_Plant37_precision_machinery
		}
		
		organization_modifier = {
			military_industrial_organization_size_up_requirement = -0.2
		}
	}
	trait = {
		name = SOV_mio_Plant37_centralized_command_structure
		token = SOV_mio_Plant37_centralized_command_structure
		icon = GFX_generic_mio_trait_icon_mio
		relative_position_id = SOV_mio_Plant37_precision_machinery
		position = { x = 0 y = 1 }
		all_parents = {
			SOV_mio_Plant37_precision_machinery
		}
		
		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}
		on_complete = {
			FROM = {
				add_political_power = 150
			}
		}
	}
	trait = {
		name = SOV_mio_Plant37_radio_technology
		token = SOV_mio_Plant37_radio_technology
		icon = GFX_generic_mio_trait_icon_research
		relative_position_id = SOV_mio_Plant37_centralized_command_structure
		position = { x = 0 y = 1 }
		all_parents = {
			SOV_mio_Plant37_centralized_command_structure
		}
		
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = electronics
					bonus = 0.4
				}
			}
		}
	}
	trait = {
		name = SOV_mio_Plant37_supply_chains
		token = SOV_mio_Plant37_supply_chains
		icon = GFX_generic_mio_trait_icon_build_cost_ic
		relative_position_id = SOV_mio_Plant37_innovative_engineers
		position = { x = 0 y = 1 }
		all_parents = {
			SOV_mio_Plant37_innovative_engineers
		}
		
		production_bonus = {
			production_cost_factor = -0.1
		}
	}
	trait = {
		name = SOV_mio_Plant37_advanced_workflow_optimization
		token = SOV_mio_Plant37_advanced_workflow_optimization
		icon = GFX_generic_mio_trait_icon_efficiency_cap
		relative_position_id = SOV_mio_Plant37_supply_chains
		position = { x = 0 y = 1 }
		all_parents = {
			SOV_mio_Plant37_innovative_engineers
		}
		
		production_bonus = {
			production_conversion_speed_factor = 0.33
			production_efficiency_cap_factor = 0.05
		}
	}
	trait = {
		name = SOV_mio_Plant37_war_economy_integration
		token = SOV_mio_Plant37_war_economy_integration
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		relative_position_id = SOV_mio_Plant37_advanced_workflow_optimization
		position = { x = -1 y = 1 }
		any_parent = {
			SOV_mio_Plant37_advanced_workflow_optimization
			SOV_mio_Plant37_radio_technology
		}
		
		production_bonus = {
			production_efficiency_gain_factor = 0.1
		}
		on_complete = {
			FROM = {
				add_cic = 500	
			}			
		}
	}
	trait = {
		name = SOV_mio_Plant37_early_spreadsheets
		token = SOV_mio_Plant37_early_spreadsheets
		icon = GFX_generic_mio_trait_icon_production_capacity
		relative_position_id = SOV_mio_Plant37_war_economy_integration
		position = { x = 0 y = 1 }
		all_parents = {
			SOV_mio_Plant37_war_economy_integration
		}
		
		production_bonus = {
			production_capacity_factor = 0.10
			production_resource_need_factor = 0.15
		}		
	}
}
SOV_mytishchy_machine_building_plant_organization = {
	#include = generic_tank_refurbishment_plant_organization
	icon = GFX_idea_SOV_mytishchy_machine_building_plant

	allowed = {
		tag = SOV
	}
	equipment_type = {
		mio_cat_eq_all_medium_tank
		mio_cat_eq_all_light_tank
		train_equipment
	}
	research_categories = {
		
	}

	tree_header_text = {
		text = mio_header_engine_and_drive_system
		x = 1
	}

	tree_header_text = {
		text = mio_header_chassis
		x = 5
	}

	tree_header_text = {
		text = mio_header_guns_and_turret
		x = 8
	}

	task_capacity = 2
	research_bonus = -1
	
	initial_trait = {
		name = SOV_mytishchy_machine_building_plant_initial

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.5
		}
	}

	trait = {
		name = SOV_mio_mytishchy_mass_lathe_production
		token = SOV_mio_mytishchy_mass_lathe_production
		icon = GFX_ger_porsche_mio_modernized_factroes
		position = { x = 5 y = 0 }
		
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 221 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	trait = {
		name = SOV_mio_mytishchy_first_russian_electric_arc_furnace
		token = SOV_mio_mytishchy_first_russian_electric_arc_furnace
		icon = GFX_generic_mio_trait_icon_research
		relative_position_id = SOV_mio_mytishchy_mass_lathe_production
		position = { x = 0 y = 1 }
		all_parents = {
			SOV_mio_mytishchy_mass_lathe_production
		}
		on_complete = {
			FROM = {
				add_tech_bonus = {
					technology = electric_arc_furnace
					bonus = 0.5
				}
			}
		}
	}
	trait = {
		name = SOV_mio_mytishchy_electrode_shop
		token = SOV_mio_mytishchy_electrode_shop
		icon = GFX_generic_mio_trait_icon_production_capacity
		relative_position_id = SOV_mio_mytishchy_first_russian_electric_arc_furnace
		position = { x = 0 y = 1 }
		all_parents = {
			SOV_mio_mytishchy_first_russian_electric_arc_furnace
		}
		production_bonus = {
			production_capacity_factor = 0.05
			production_resource_need_factor = 0.05
		}
	}
	trait = {
		name = SOV_mio_mytishchy_paton_automatic_welding
		token = SOV_mio_mytishchy_paton_automatic_welding
		icon = GFX_generic_mio_trait_icon_production_capacity
		relative_position_id = SOV_mio_mytishchy_electrode_shop
		position = { x = 0 y = 1 }
		all_parents = {
			SOV_mio_mytishchy_electrode_shop
		}
		production_bonus = {
			production_capacity_factor = 0.1
			production_resource_need_factor = 0.1
		}
	}
	trait = {
		name = SOV_mio_mytishchy_agarkov_movement
		token = SOV_mio_mytishchy_agarkov_movement
		icon = GFX_generic_mio_trait_icon_build_cost_ic
		relative_position_id = SOV_mio_mytishchy_paton_automatic_welding
		position = { x = 0 y = 1 }
		all_parents = {
			SOV_mio_mytishchy_paton_automatic_welding
		}
		on_complete = {
			FROM = {
				add_equipment_bonus = {
					name = SOV_mio_mytishchy_agarkov_movement
					bonus = {
						armor = {
							build_cost_ic = -0.05
						}
					}
				}
			}
		}
	}
}

SOV_kirov_plant_organization = {
	#include = generic_tank_refurbishment_plant_organization
	icon = GFX_idea_SOV_kirov
	allowed = {
		tag = SOV
	}

	equipment_type = {
		mio_cat_eq_all_heavy_tank
		train_equipment
	}
	research_categories = {
		
	}

	tree_header_text = {
		text = mio_header_engine_and_drive_system
		x = 1
	}

	tree_header_text = {
		text = mio_header_chassis
		x = 5
	}

	tree_header_text = {
		text = mio_header_guns_and_turret
		x = 8
	}
	
	research_bonus = -1

	initial_trait = {
		name = SOV_kirov_plant_organization_initial

		production_bonus = {
			production_capacity_factor = 0.05
			production_resource_need_factor = 0.05
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.5
		}
	}
	trait = {
		name = SOV_mio_kirov_plant_lenin_legacy
		token = SOV_mio_kirov_plant_lenin_legacy
		icon = GFX_generic_mio_trait_icon_stability		
		position = { x = 4 y = 0 }		
		on_complete = {
			FROM = {
				add_political_power = 100
				add_stability = 0.05
			}
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 0.2
		}
	}
	trait = {
		name = SOV_mio_kirov_plant_expand_tank_facilities
		token = SOV_mio_kirov_plant_expand_tank_facilities
		icon = GFX_generic_mio_trait_icon_building
		relative_position_id = SOV_mio_kirov_plant_lenin_legacy
		position = { x = -1 y = 1 }
		
		all_parents = {
			SOV_mio_kirov_plant_lenin_legacy
		}
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 195 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = tank_assembly
						level = 2
						instant_build = yes
					}
				}
			}
		}		
	}
	trait = {
		name = SOV_mio_kirov_plant_rellocate_to_tankograd
		token = SOV_mio_kirov_plant_rellocate_to_tankograd
		icon = GFX_generic_mio_trait_icon_building
		relative_position_id = SOV_mio_kirov_plant_lenin_legacy
		position = { x = 1 y = 1 }
		
		all_parents = {
			SOV_mio_kirov_plant_lenin_legacy
		}
		available = {
			FROM = {
				has_completed_focus = SOV_tankograd
			}
		}
		on_complete = {
			FROM = {
				572  = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = tank_assembly
						level = 3
						instant_build = yes
					}
				}
			}
		}		
	}
	trait = {
		name = SOV_mio_kirov_plant_tank_repair_workshop_department
		token = SOV_mio_kirov_plant_tank_repair_workshop_department
		icon = GFX_generic_mio_trait_icon_resources
		relative_position_id = SOV_mio_kirov_plant_rellocate_to_tankograd
		position = { x = -1 y = 1 }
		
		any_parent = {
			SOV_mio_kirov_plant_rellocate_to_tankograd
			SOV_mio_kirov_plant_expand_tank_facilities
		}
		production_bonus = {		
			production_resource_penalty_factor = -0.2
			production_resource_need_factor = -0.05
		}
	}
	trait = {
		name = SOV_mio_kirov_plant_tank_socialist_production
		token = SOV_mio_kirov_plant_tank_socialist_production
		icon = GFX_generic_mio_trait_icon_production_capacity
		relative_position_id = SOV_mio_kirov_plant_tank_repair_workshop_department
		position = { x = -1 y = 1 }
		mutually_exclusive = {
			SOV_mio_kirov_plant_tank_accept_capitalist_techniques
		}
		all_parents = {
			SOV_mio_kirov_plant_tank_repair_workshop_department
		}
		production_bonus = {		
			production_capacity_factor = 0.1
			production_resource_need_factor = 0.1
		}
	}
	trait = {
		name = SOV_mio_kirov_plant_tank_accept_capitalist_techniques
		token = SOV_mio_kirov_plant_tank_accept_capitalist_techniques
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		relative_position_id = SOV_mio_kirov_plant_tank_repair_workshop_department
		position = { x = 1 y = 1 }
		mutually_exclusive = {
			SOV_mio_kirov_plant_tank_socialist_production
		}
		all_parents = {
			SOV_mio_kirov_plant_tank_repair_workshop_department
		}
		production_bonus = {		
			production_efficiency_gain_factor = 0.1
			production_efficiency_cap_factor = 0.05
		}
	}
	trait = {
		name = SOV_mio_kirov_plant_tankograd_unification
		token = SOV_mio_kirov_plant_tankograd_unification
		icon = GFX_generic_mio_trait_icon_conversion_speed
		relative_position_id = SOV_mio_kirov_plant_tank_accept_capitalist_techniques
		position = { x = 1 y = 1 }
		
		any_parent = {
			SOV_mio_kirov_plant_tank_accept_capitalist_techniques
			SOV_mio_kirov_plant_tank_socialist_production
		}
		all_parents = {
			SOV_mio_kirov_plant_rellocate_to_tankograd
		}
		production_bonus = {		
			production_conversion_speed_factor = 0.8
		}
	}
}



SOV_kharkov_locomotive_plant_organization = {
	#include = generic_tank_refurbishment_plant_organization
	icon = GFX_idea_kharkov_loco
	allowed = {
		tag = SOV
	}

	equipment_type = {
		mio_cat_eq_all_medium_tank
	}
	research_categories = {
		
	}

	tree_header_text = {
		text = mio_header_engine_and_drive_system
		x = 1
	}

	tree_header_text = {
		text = mio_header_chassis
		x = 5
	}

	tree_header_text = {
		text = mio_header_guns_and_turret
		x = 8
	}
	
	research_bonus = -1

	initial_trait = {
		name = SOV_kharkov_locomotive_plant_initial

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.5
		}
	}

	trait = {
		name = SOV_mio_kharkov_locomotive_plant_expand_factories
		token = SOV_mio_kharkov_locomotive_plant_expand_factories
		icon = GFX_generic_mio_trait_icon_building
		mutually_exclusive = {
			SOV_mio_kharkov_locomotive_plant_expand_assemblies
		}
		position = { x = 3 y = 0 }
		
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 221 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	trait = {
		name = SOV_mio_kharkov_locomotive_plant_expand_assemblies
		token = SOV_mio_kharkov_locomotive_plant_expand_assemblies
		icon = GFX_generic_mio_trait_icon_building
		mutually_exclusive = {
			SOV_mio_kharkov_locomotive_plant_expand_factories
		}
		position = { x = 5 y = 0 }
		
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 221 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = tank_assembly
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	trait = {
		name = SOV_mio_kharkov_locomotive_plant_capital_investments
		token = SOV_mio_kharkov_locomotive_plant_capital_investments
		icon = GFX_generic_mio_trait_icon_unique
		relative_position_id = SOV_mio_kharkov_locomotive_plant_expand_assemblies
		any_parent = {
			SOV_mio_kharkov_locomotive_plant_expand_assemblies
			SOV_mio_kharkov_locomotive_plant_expand_factories
		}
		position = { x = -1 y = 1 }

		organization_modifier = {
			military_industrial_organization_funds_gain = -0.05
			military_industrial_organization_size_up_requirement = -0.1
			military_industrial_organization_design_team_assign_cost = -0.5
			military_industrial_organization_design_team_change_cost = -0.5
		}		
	}
	trait = {
		name = SOV_mio_kharkov_locomotive_plant_Uralvagonzavod
		token = SOV_mio_kharkov_locomotive_plant_Uralvagonzavod
		icon = GFX_generic_mio_trait_icon_building
		relative_position_id = SOV_mio_kharkov_locomotive_plant_capital_investments
		all_parents = {
			SOV_mio_kharkov_locomotive_plant_capital_investments
		}
		position = { x = 1 y = 1 }
		available = {
			FROM = {
				has_defensive_war_with = GER
			}
		}
		on_complete = {
			FROM = {
				random_owned_controlled_state = {
					prioritize = { 398 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = tank_assembly
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					prioritize = { 398 }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = engine_assembly
						level = 1
						instant_build = yes
					}
				}
			}			
		}
	}
	trait = {
		name = SOV_mio_kharkov_locomotive_plant_labor_priority
		token = SOV_mio_kharkov_locomotive_plant_labor_priority
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		relative_position_id = SOV_mio_kharkov_locomotive_plant_capital_investments
		all_parents = {
			SOV_mio_kharkov_locomotive_plant_capital_investments
		}
		position = { x = -1 y = 1 }

		production_bonus = {
			production_efficiency_gain_factor = 0.1
		}		
	}
	trait = {
		name = SOV_mio_kharkov_locomotive_plant_efficient_production
		token = SOV_mio_kharkov_locomotive_plant_efficient_production
		icon = GFX_generic_mio_trait_icon_resources
		relative_position_id = SOV_mio_kharkov_locomotive_plant_labor_priority
		all_parents = {
			SOV_mio_kharkov_locomotive_plant_labor_priority
		}
		position = { x = 0 y = 1 }

		production_bonus = {
			production_resource_need_factor = -0.15
		}		
	}

	

	trait = {
		name = SOV_mio_kharkov_locomotive_plant_early_paton_process_integration
		token = SOV_mio_kharkov_locomotive_plant_early_paton_process_integration
		icon = GFX_generic_mio_trait_icon_production_capacity
		relative_position_id = SOV_mio_kharkov_locomotive_plant_Uralvagonzavod
		all_parents = {
			SOV_mio_kharkov_locomotive_plant_Uralvagonzavod
		}
		position = { x = 2 y = 1 }

		available = {
			FROM = {
				has_tech = submerged_arc_weld
			}			
		}
		organization_modifier = {
			military_industrial_organization_size_up_requirement = 0.07
		}
		production_bonus = {
			production_capacity_factor = 0.05
			production_resource_need_factor = 0.05
		}	
	}
	trait = {
		name = SOV_mio_kharkov_locomotive_plant_install_more_paton_machines
		token = SOV_mio_kharkov_locomotive_plant_install_more_paton_machines
		icon = GFX_generic_mio_trait_icon_production_capacity
		relative_position_id = SOV_mio_kharkov_locomotive_plant_early_paton_process_integration
		all_parents = {
			SOV_mio_kharkov_locomotive_plant_early_paton_process_integration
		}
		position = { x = 0 y = 1 }
		organization_modifier = {
			military_industrial_organization_size_up_requirement = 0.1
		}
		production_bonus = {
			production_capacity_factor = 0.1
			production_resource_need_factor = 0.1
		}	
	}
	trait = {
		name = SOV_mio_kharkov_locomotive_plant_install_more_paton_machines_2
		token = SOV_mio_kharkov_locomotive_plant_install_more_paton_machines_2
		icon = GFX_generic_mio_trait_icon_production_capacity
		relative_position_id = SOV_mio_kharkov_locomotive_plant_install_more_paton_machines
		all_parents = {
			SOV_mio_kharkov_locomotive_plant_install_more_paton_machines
		}
		position = { x = 1 y = 0 }
		organization_modifier = {
			military_industrial_organization_size_up_requirement = 0.13
		}

		production_bonus = {
			production_capacity_factor = 0.1
			production_resource_need_factor = 0.1
		}	
	}
}

SOV_morozov_design_bureau_organization = {
	#include = generic_mobile_tank_organization
	icon = GFX_idea_morozov_design_bureau

	allowed = {
		tag = SOV
	}

	equipment_type = {
		#mio_cat_eq_all_light_tank
		mio_cat_eq_all_medium_tank
	}
	research_categories = {
		armor_tech_transmission
		armor_tech_suspension
		armor_tech_engine
	}

	ai_will_do = {
		factor = 0
	}

	tree_header_text = {
		text = mio_header_engine_and_drive_system
		x = 1
	}

	tree_header_text = {
		text = mio_header_chassis
		x = 5
	}

	tree_header_text = {
		text = mio_header_guns_and_turret
		x = 8
	}

	initial_trait = {
		name = SOV_morozov_initial

		equipment_bonus = {
			maximum_speed = 0.03
		}
		production_bonus = {
			production_capacity_factor = -1
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 2
		}
	}

	trait = {
		name = SOV_mio_morozov_appoint_mikhail_koshkin
		token = SOV_mio_morozov_appoint_mikhail_koshkin
		icon = GFX_generic_mio_trait_icon_research
		position = { x = 1 y = 0 }		
		mutually_exclusive = {
			SOV_mio_morozov_appoint_conservative
		}
		equipment_bonus = {
			reliability = -0.05
		}
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.15
		}
		on_complete = {
			FROM = {
				add_tech_bonus = {
					technology = tech_trm_medium_tank_chassis_sov_t34_1
					bonus = 0.3
				}
			}
		}
	}
	trait = {
		name = SOV_mio_morozov_appoint_conservative
		token = SOV_mio_morozov_appoint_conservative
		icon = GFX_generic_mio_trait_icon_research
		position = { x = 7 y = 0 }		
		mutually_exclusive = {
			SOV_mio_morozov_appoint_mikhail_koshkin
		}
		equipment_bonus = {
			reliability = 0.02
		}
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}		
	}


	trait = {
		name = SOV_mio_morozov_telescopic_sights
		token = SOV_mio_morozov_telescopic_sights
		icon = GFX_generic_mio_trait_icon_ap_attack
		position = { x = 3 y = 1 }		
		relative_position_id = SOV_mio_morozov_appoint_mikhail_koshkin
		any_parent = {			
			SOV_mio_morozov_appoint_mikhail_koshkin
			SOV_mio_morozov_appoint_conservative
		}
		equipment_bonus = {
			ap_attack = 0.05
			hard_attack = 0.05
			soft_attack = 0.02
		}		
	}
	trait = {
		name = SOV_mio_morozov_shell_casing_designs
		token = SOV_mio_morozov_shell_casing_designs
		icon = GFX_generic_mio_trait_icon_soft_attack
		position = { x = 0 y = 1 }		
		relative_position_id = SOV_mio_morozov_telescopic_sights
		all_parents = {			
			SOV_mio_morozov_telescopic_sights
		}
		equipment_bonus = {
			soft_attack = 0.05
			build_cost_ic = 0.03
		}		
	}
	trait = {
		name = SOV_mio_morozov_beat_the_panzers
		token = SOV_mio_morozov_beat_the_panzers
		icon = GFX_generic_mio_trait_icon_research
		position = { x = 0 y = 1 }		
		relative_position_id = SOV_mio_morozov_shell_casing_designs
		all_parents = {			
			SOV_mio_morozov_telescopic_sights
		}
		on_complete = {
			FROM = {
				add_tech_bonus = {
					technology = tech_trm_weapon_c_sov_85_d5
					bonus = 0.5
				}
			}
		}
	}


	trait = {
		name = SOV_mio_morozov_improved_engine_mounting
		token = SOV_mio_morozov_improved_engine_mounting
		icon = GFX_generic_mio_trait_icon_build_cost_ic
		position = { x = -1 y = 1 }		
		relative_position_id = SOV_mio_morozov_appoint_mikhail_koshkin
		any_parent = {			
			SOV_mio_morozov_appoint_mikhail_koshkin
			SOV_mio_morozov_appoint_conservative
		}
		equipment_bonus = {
			build_cost_ic = -0.05
		}		
	}


	trait = {
		name = SOV_mio_morozov_radiatior_designs
		token = SOV_mio_morozov_radiatior_designs
		icon = GFX_generic_mio_trait_icon_fuel_consumption
		position = { x = 0 y = 1 }		
		relative_position_id = SOV_mio_morozov_improved_engine_mounting
		all_parents = {
			SOV_mio_morozov_improved_engine_mounting
		}
		equipment_bonus = {
			fuel_consumption = -0.07
		}		
	}

	trait = {
		name = SOV_mio_morozov_deploy_imporoved_v2_engines
		token = SOV_mio_morozov_deploy_imporoved_v2_engines
		icon = GFX_generic_mio_trait_icon_maximum_speed
		position = { x = 0 y = 1 }		
		relative_position_id = SOV_mio_morozov_radiatior_designs
		all_parents = {
			SOV_mio_morozov_radiatior_designs
		}
		equipment_bonus = {
			maximum_speed = 0.03
			reliability = 0.03	
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = -0.3
		}
		on_complete = {
			FROM = {
				add_equipment_bonus = {
					name = SOV_mio_morozov_deploy_imporoved_v2_engines
					bonus = {
						armor = {
							maximum_speed = 0.02
							reliability = 0.02
							instant = yes
						}
					}
				}
			}
		}
	}

	trait = {
		name = SOV_mio_morozov_transmission_cooling_oil
		token = SOV_mio_morozov_transmission_cooling_oil
		icon = GFX_generic_mio_trait_icon_reliability
		position = { x = 7 y = 1 }		
		relative_position_id = SOV_mio_morozov_appoint_mikhail_koshkin
		any_parent = {			
			SOV_mio_morozov_appoint_mikhail_koshkin
			SOV_mio_morozov_appoint_conservative
		}
		equipment_bonus = {
			reliability = 0.03
		}		
	}
	trait = {
		name = SOV_mio_morozov_5_speed_gearbox
		token = SOV_mio_morozov_5_speed_gearbox
		icon = GFX_generic_mio_trait_icon_breakthrough
		position = { x = 0 y = 1 }		
		relative_position_id = SOV_mio_morozov_transmission_cooling_oil
		all_parents = {
			SOV_mio_morozov_transmission_cooling_oil
		}
		equipment_bonus = {
			breakthrough = 0.06
			build_cost_ic = 0.02
			reliability = -0.02
		}		
	}
	trait = {
		name = SOV_mio_morozov_improved_gear_synch
		token = SOV_mio_morozov_improved_gear_synch
		icon = GFX_generic_mio_trait_icon_reliability
		position = { x = 0 y = 1 }		
		relative_position_id = SOV_mio_morozov_5_speed_gearbox
		all_parents = {
			SOV_mio_morozov_5_speed_gearbox
		}
		equipment_bonus = {
			reliability = 0.04
		}		
	}
}

SOV_astrov_design_bureau_organization = {
	#include = generic_medium_tank_organization
	icon = GFX_idea_astrov_design_bureau

	allowed = {
		tag = SOV
	}

	equipment_type = {
		mio_cat_eq_all_light_tank
	}
	research_categories = {

	}

	ai_will_do = {
		factor = 0
	}

	tree_header_text = {
		text = mio_header_engine_and_drive_system
		x = 1
	}

	tree_header_text = {
		text = mio_header_chassis
		x = 5
	}

	tree_header_text = {
		text = mio_header_guns_and_turret
		x = 8
	}

	initial_trait = {
		name = SOV_mio_astrov_intial

		production_bonus = {
			production_capacity_factor = -1
		}
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.15
			military_industrial_organization_funds_gain = 1
		}
	}

	trait = {
		name = SOV_mio_astrov_permanent_staff
		token = SOV_mio_astrov_permanent_staff
		icon = GFX_generic_mio_trait_icon_research
		position = { x = 3 y = 0 }
		mutually_exclusive = {
			SOV_mio_astrov_factory_dependant_staff
		}
		equipment_bonus = {
			reliability = 0.02
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = -0.15
			military_industrial_organization_research_bonus = 0.05
		}
	}
	trait = {
		name = SOV_mio_astrov_factory_dependant_staff
		token = SOV_mio_astrov_factory_dependant_staff
		icon = GFX_generic_mio_trait_icon_reliability
		mutually_exclusive = {
			SOV_mio_astrov_permanent_staff
		}
		position = { x = 6 y = 0 }
		equipment_bonus = {
			reliability = -0.03
		}		
	}
	trait = {
		name = SOV_mio_astrov_pre_heater_engines
		token = SOV_mio_astrov_pre_heater_engines
		icon = GFX_generic_mio_trait_icon_research
		relative_position_id = SOV_mio_astrov_factory_dependant_staff
		any_parent = {
			SOV_mio_astrov_factory_dependant_staff
			SOV_mio_astrov_permanent_staff
		}
		position = { x = -2 y = 1  }
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = armor_tech_engine
					bonus = 0.25
					uses = 1
				}
			}
		}	
	}
	trait = {
		name = SOV_mio_astrov_bus_engines
		token = SOV_mio_astrov_bus_engines
		icon = GFX_generic_mio_trait_icon_reliability
		relative_position_id = SOV_mio_astrov_factory_dependant_staff
		any_parent = {
			SOV_mio_astrov_factory_dependant_staff
			SOV_mio_astrov_permanent_staff
		}
		position = { x = -1 y = 1  }
		equipment_bonus = {
			build_cost_ic = -0.05
			reliability = 0.03
			maximum_speed = -0.04
		}
	}
	trait = {
		name = SOV_mio_astrov_collimator_sights
		token = SOV_mio_astrov_collimator_sights
		icon = GFX_generic_mio_trait_icon_anti_air_attack
		relative_position_id = SOV_mio_astrov_bus_engines
		all_parents = {
			SOV_mio_astrov_bus_engines
			SOV_mio_astrov_pre_heater_engines
		}
		mutually_exclusive = {
			SOV_mio_astrov_propulsion_improvement
		}
		position = { x = -2 y = 1  }
		equipment_bonus = {
			air_attack = 0.15
			build_cost_ic = 0.01
		}
	}
	trait = {
		name = SOV_mio_astrov_propulsion_improvement
		token = SOV_mio_astrov_propulsion_improvement
		icon = GFX_generic_mio_trait_icon_maximum_speed
		relative_position_id = SOV_mio_astrov_bus_engines
		all_parents = {
			SOV_mio_astrov_bus_engines
			SOV_mio_astrov_pre_heater_engines
		}
		mutually_exclusive = {
			SOV_mio_astrov_collimator_sights
		}
		position = { x = 1 y = 1  }
		equipment_bonus = {
			soft_attack = 0.02
			hard_attack = 0.02
			maximum_speed = 0.03
			build_cost_ic = 0.03
		}
	}
	trait = {
		name = SOV_mio_astrov_dual_circuit_power_steering
		token = SOV_mio_astrov_dual_circuit_power_steering
		icon = GFX_generic_mio_trait_icon_breakthrough
		relative_position_id = SOV_mio_astrov_propulsion_improvement
		all_parents = {
			SOV_mio_astrov_propulsion_improvement
		}
		position = { x = 2 y = 1  }
		equipment_bonus = {
			breakthrough = 0.05
			defense = 0.03
		}
	}
	trait = {
		name = SOV_mio_astrov_cassette_loading_system
		token = SOV_mio_astrov_cassette_loading_system
		icon = GFX_generic_mio_trait_icon_hard_attack
		relative_position_id = SOV_mio_astrov_collimator_sights
		all_parents = {
			SOV_mio_astrov_collimator_sights			
		}		
		position = { x = -2 y = 1  }
		equipment_bonus = {
			soft_attack = 0.03
			hard_attack = 0.06
			build_cost_ic = 0.03
		}
	}
	trait = {
		name = SOV_mio_astrov_advanced_spall_protection
		token = SOV_mio_astrov_advanced_spall_protection
		icon = GFX_generic_mio_trait_icon_armor_value
		relative_position_id = SOV_mio_astrov_cassette_loading_system
		mutually_exclusive = {
			SOV_mio_astrov_crew_ergonomics
		}
		any_parent = {
			SOV_mio_astrov_cassette_loading_system
			SOV_mio_astrov_dual_circuit_power_steering
		}		
		position = { x = 2 y = 1  }
		equipment_bonus = {
			hardness = 0.02
			armor_value = 0.1
		}
	}
	trait = {
		name = SOV_mio_astrov_crew_ergonomics
		token = SOV_mio_astrov_crew_ergonomics
		icon = GFX_generic_mio_trait_icon_max_strength #not correct, but good icon for this
		relative_position_id = SOV_mio_astrov_cassette_loading_system
		mutually_exclusive = {
			SOV_mio_astrov_advanced_spall_protection
		}
		any_parent = {
			SOV_mio_astrov_cassette_loading_system
			SOV_mio_astrov_dual_circuit_power_steering
		}		
		position = { x = 3 y = 1  }
		equipment_bonus = {
			defense = 0.02
			soft_attack = 0.03
			hard_attack = 0.03
			breakthrough = 0.02
			ap_attack = 0.02
		}
	}

	trait = {
		name = SOV_mio_astrov_gas_purging_systems
		token = SOV_mio_astrov_gas_purging_systems
		icon = GFX_generic_mio_trait_icon_defense
		relative_position_id = SOV_mio_astrov_cassette_loading_system
		any_parent = {
			SOV_mio_astrov_cassette_loading_system
			SOV_mio_astrov_dual_circuit_power_steering
		}
		mutually_exclusive = {
			SOV_mio_astrov_digital_instruments
		}
		position = { x = 4 y = 1  }
		equipment_bonus = {
			defense = 0.05
			breakthrough = 0.05
		}
	}
	trait = {
		name = SOV_mio_astrov_digital_instruments
		token = SOV_mio_astrov_digital_instruments
		icon = GFX_generic_mio_trait_icon_fuel_consumption
		relative_position_id = SOV_mio_astrov_cassette_loading_system
		mutually_exclusive = {
			SOV_mio_astrov_gas_purging_systems
		}
		any_parent = {
			SOV_mio_astrov_cassette_loading_system
			SOV_mio_astrov_dual_circuit_power_steering
		}		
		position = { x = 5 y = 1  }
		equipment_bonus = {
			fuel_consumption = -0.05
			build_cost_ic = 0.01
		}
	}
}

SOV_kirov_organization_mio = {
	icon = GFX_idea_SOV_kirov

	#include = generic_infantry_tank_organization	

	allowed = {
		tag = SOV
	}

	equipment_type = {
		mio_cat_eq_all_heavy_tank
	}
	research_categories = {
		#mio_cat_eq_tank_guns
		armor_tech_gun
	}

	ai_will_do = {
		factor = 0
	}

	tree_header_text = {
		text = mio_header_engine_and_drive_system
		x = 1
	}

	tree_header_text = {
		text = mio_header_chassis
		x = 5
	}

	tree_header_text = {
		text = mio_header_guns_and_turret
		x = 8
	}

	initial_trait = {
		name = SOV_mio_kirov_initial
		
		production_bonus = {
			production_capacity_factor = -1
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 1.25
		}
	}

	trait = {
		name = SOV_mio_kirov_welded_turrets
		token = SOV_mio_kirov_welded_turrets
		icon = GFX_generic_mio_trait_icon_armor_value
		mutually_exclusive = {
			SOV_mio_kirov_casted_turrets
		}
		position = { x = 3 y = 0 }
		
		equipment_bonus = {
			hardness = 0.01
			armor_value = 0.02
			reliability = -0.03
			build_cost_ic = 0.01
		}
	}
	trait = {
		name = SOV_mio_kirov_casted_turrets
		token = SOV_mio_kirov_casted_turrets
		icon = GFX_generic_mio_trait_icon_max_strength
		mutually_exclusive = {
			SOV_mio_kirov_welded_turrets
		}
		position = { x = 5 y = 0 }
		
		equipment_bonus = {
			hardness = 0.02
			armor_value = 0.02
			reliability = 0.02
			build_cost_ic = -0.02
		}
	}
	trait = {
		name = SOV_mio_kirov_welding_improvements
		token = SOV_mio_kirov_welding_improvements
		icon = GFX_generic_mio_trait_icon_hardness
		all_parents = {
			SOV_mio_kirov_welded_turrets
		}
		relative_position_id = SOV_mio_kirov_welded_turrets
		position = { x = -2 y = 1 }
		
		equipment_bonus = {
			hardness = 0.05
			armor_value = 0.02	
			reliability = 0.03
			build_cost_ic = -0.03
		}
	}
	# trait = {
	# 	name = SOV_mio_kirov_automatic_welding
	# 	token = SOV_mio_kirov_automatic_welding
	# 	icon = GFX_SOV_mio_kirov_automatic_welding
	# 	all_parents = {
	# 		SOV_mio_kirov_welding_improvements
	# 	}
	# 	relative_position_id = SOV_mio_kirov_welding_improvements
	# 	position = { x = 0 y = 1 }
		
	# 	on_complete = {
	# 		custom_effect_tooltip = "SOV_mio_kirov_automatic_welding_effect"
	# 	}
	# }
	trait = {
		name = SOV_mio_kirov_increased_firepower
		token = SOV_mio_kirov_increased_firepower
		icon = GFX_generic_mio_trait_icon_research
		any_parent = {
			SOV_mio_kirov_welded_turrets
			SOV_mio_kirov_casted_turrets
		}
		relative_position_id = SOV_mio_kirov_casted_turrets
		position = { x = -1 y = 1 }
		
		on_complete = {
			FROM = {
				add_tech_bonus = {
					technology = tech_trm_weapon_c_sov_76_f32
					bonus = 0.4
				}
			}
		}
	}
	trait = {
		name = SOV_mio_kirov_increased_firepower_2
		token = SOV_mio_kirov_increased_firepower_2
		icon = GFX_generic_mio_trait_icon_research
		all_parents = {
			SOV_mio_kirov_increased_firepower
		}
		mutually_exclusive = {
			SOV_mio_kirov_improve_existing_designs
		}
		relative_position_id = SOV_mio_kirov_increased_firepower
		position = { x = 0 y = 1 }
		
		on_complete = {
			FROM = {
				add_tech_bonus = {
					technology = tech_trm_weapon_c_sov_76_f34
					bonus = 0.4
				}
			}
		}
	}
	trait = {
		name = SOV_mio_kirov_improve_existing_designs
		token = SOV_mio_kirov_improve_existing_designs
		icon = GFX_generic_mio_trait_icon_soft_attack
		all_parents = {
			SOV_mio_kirov_increased_firepower
		}
		relative_position_id = SOV_mio_kirov_increased_firepower
		position = { x = 1 y = 1 }
		mutually_exclusive = {
			SOV_mio_kirov_increased_firepower_2
		}
		equipment_bonus = {
			soft_attack = 0.03
			hard_attack = 0.05
		}
	}
	trait = {
		name = SOV_mio_kirov_spg_development
		token = SOV_mio_kirov_spg_development
		icon = GFX_generic_mio_trait_icon_research
		any_parent = {
			SOV_mio_kirov_welded_turrets
			SOV_mio_kirov_casted_turrets
		}		
		relative_position_id = SOV_mio_kirov_welded_turrets
		position = { x = 4 y = 1 }
		
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = cat_heavy_armor_component
					bonus = 0.3
				}
			}
		}
	}
	trait = {
		name = SOV_mio_kirov_spg_development_2
		token = SOV_mio_kirov_spg_development_2
		icon = GFX_generic_mio_trait_icon_research		
		all_parents = {
			SOV_mio_kirov_spg_development
		}
		relative_position_id = SOV_mio_kirov_spg_development
		position = { x = 0 y = 1 }
		
		on_complete = {
			FROM = {
				add_tech_bonus = {
					category = armor_tech_gun
					bonus = 0.25
				}
			}
		}
	}
	trait = {
		name = SOV_mio_kirov_lightweight_roadwheel
		token = SOV_mio_kirov_lightweight_roadwheel
		icon = GFX_generic_mio_trait_icon_fuel_consumption
		any_parent = {
			SOV_mio_kirov_welded_turrets
			SOV_mio_kirov_casted_turrets
		}
		relative_position_id = SOV_mio_kirov_welded_turrets
		position = { x = 6 y = 1 }
		
		equipment_bonus = {
			fuel_consumption = -0.04
			maximum_speed = 0.01
		}
	}
	trait = {
		name = SOV_mio_kirov_reworked_powertrain
		token = SOV_mio_kirov_reworked_powertrain
		icon = GFX_generic_mio_trait_icon_breakthrough
		all_parents = {
			SOV_mio_kirov_lightweight_roadwheel
		}
		relative_position_id = SOV_mio_kirov_lightweight_roadwheel
		position = { x = 0 y = 1 }
		
		equipment_bonus = {
			breakthrough = 0.05
		}
	}
	trait = {
		name = SOV_mio_kirov_new_turret_designs
		token = SOV_mio_kirov_new_turret_designs
		icon = GFX_generic_mio_trait_icon_hard_attack
		all_parents = {
			SOV_mio_kirov_reworked_powertrain
		}
		relative_position_id = SOV_mio_kirov_reworked_powertrain
		position = { x = 0 y = 1 }
		
		equipment_bonus = {
			hard_attack = 0.04
			soft_attack = 0.04
		}
	}
}

SOV_okmo_organization = {
	#include = generic_infantry_tank_organization
	icon = GFX_idea_okmo

	allowed = {
		tag = SOV
	}

	equipment_type = {
		mio_cat_eq_all_light_tank
		trm_infantry_tank_chassis
	}
	research_categories = {

	}
	
	ai_will_do = {
		factor = 0
	}

	tree_header_text = {
		text = mio_header_engine_and_drive_system
		x = 1
	}

	tree_header_text = {
		text = mio_header_chassis
		x = 5
	}

	tree_header_text = {
		text = mio_header_guns_and_turret
		x = 8
	}

	initial_trait = {
		name = SOV_mio_okmo_initial

		equipment_bonus = {
			reliability = -0.1			
		}

		production_bonus = {
			production_capacity_factor = -1
		}
		organization_modifier = {
			military_industrial_organization_funds_gain = 1.2
		}
	}

	trait = {
		name = SOV_mio_okmo_conical_turret
		token = SOV_mio_okmo_conical_turret
		icon = GFX_generic_mio_trait_icon_hardness
		position = { x = 2 y = 0 }
		mutually_exclusive = {
			SOV_mio_okmo_underturret_box
		}
		equipment_bonus = {
			hardness = 0.02
			breakthrough = 0.02
			defense = 0.02
			build_cost_ic = 0.03
		}
	}
	trait = {
		name = SOV_mio_okmo_underturret_box
		token = SOV_mio_okmo_underturret_box
		icon = GFX_generic_mio_trait_icon_armor_value
		mutually_exclusive = {
			SOV_mio_okmo_conical_turret
		}
		position = { x = 0 y = 0 }
		equipment_bonus = {
			armor_value = 0.07
			build_cost_ic = 0.02
		}
	}

	trait = {
		name = SOV_mio_okmo_increased_fuel_tanks
		token = SOV_mio_okmo_increased_fuel_tanks
		icon = GFX_generic_mio_trait_icon_maximum_speed
		position = { x = 1 y = 1 }
		relative_position_id = SOV_mio_okmo_underturret_box
		any_parent = {
			SOV_mio_okmo_underturret_box
			SOV_mio_okmo_conical_turret
		}
		mutually_exclusive = {	SOV_mio_okmo_cooling_improvements }
		equipment_bonus = {
			maximum_speed = 0.01
			soft_attack = 0.02
			hard_attack = 0.02
			build_cost_ic = 0.03
			fuel_capacity = 0.05
		}
	}
	trait = {
		name = SOV_mio_okmo_cooling_improvements
		token = SOV_mio_okmo_cooling_improvements
		icon = GFX_generic_mio_trait_icon_reliability
		relative_position_id = SOV_mio_okmo_underturret_box
		mutually_exclusive = {	SOV_mio_okmo_increased_fuel_tanks	}
		any_parent = {
			SOV_mio_okmo_underturret_box
			SOV_mio_okmo_conical_turret
		}
		position = { x = 3 y = 1 }
		equipment_bonus = {
			reliability = 0.03			
			fuel_consumption = -0.05
		}
	}
	trait = {
		name = SOV_mio_okmo_GAZ_engines
		token = SOV_mio_okmo_GAZ_engines
		icon = GFX_generic_mio_trait_icon_fuel_consumption
		relative_position_id = SOV_mio_okmo_cooling_improvements
		any_parent = {
			SOV_mio_okmo_cooling_improvements
			SOV_mio_okmo_increased_fuel_tanks
		}
		limit_to_equipment_type = {
			mio_cat_eq_all_tank_destroyers
		}
		position = { x = -2 y = 2 }
		on_complete = {
			FROM = {
				mio:SOV_gaz_organization = {
					add_mio_funds = 1000				
				}
			}
		}
		equipment_bonus = {
			fuel_consumption = -0.05
			reliability = 0.02
		}
	}
	trait = {
		name = SOV_mio_up_gunning
		token = SOV_mio_up_gunning
		icon = GFX_generic_mio_trait_icon_research
		relative_position_id = SOV_mio_okmo_cooling_improvements
		any_parent = {
			SOV_mio_okmo_cooling_improvements
			SOV_mio_okmo_increased_fuel_tanks
		}		
		position = { x = 0 y = 2 }
		on_complete = {
			FROM = {
				add_tech_bonus = {
					technology = tech_trm_weapon_c_sov_76_f34
					bonus = 0.3
					uses = 1
				}
			}
		}		
	}
	trait = {
		name = SOV_mio_okmo_turret_drop_forward_section
		token = SOV_mio_okmo_turret_drop_forward_section
		icon = GFX_generic_mio_trait_icon_build_cost_ic
		relative_position_id = SOV_mio_okmo_cooling_improvements
		mutually_exclusive = {	SOV_mio_okmo_re_designed_hull }
		any_parent = {
			SOV_mio_okmo_cooling_improvements
			SOV_mio_okmo_increased_fuel_tanks
		}
		position = { x = 3 y = 1 }
		equipment_bonus = {
			build_cost_ic = -0.03
		}
	}
	trait = {
		name = SOV_mio_okmo_re_designed_hull
		token = SOV_mio_okmo_re_designed_hull
		icon = GFX_generic_mio_trait_icon_armor_value
		relative_position_id = SOV_mio_okmo_cooling_improvements
		mutually_exclusive = {	SOV_mio_okmo_turret_drop_forward_section	}
		any_parent = {
			SOV_mio_okmo_cooling_improvements
			SOV_mio_okmo_increased_fuel_tanks
		}
		position = { x = 1 y = 1 }
		equipment_bonus = {
			armor_value = 0.06
			build_cost_ic = 0.02
		}
	}
	trait = {
		name = SOV_mio_okmo_cross_drive_transmission
		token = SOV_mio_okmo_cross_drive_transmission
		icon = GFX_generic_mio_trait_icon_breakthrough
		relative_position_id = SOV_mio_okmo_re_designed_hull
		mutually_exclusive = {	SOV_mio_okmo_controlled_differential	}
		any_parent = {
			SOV_mio_okmo_re_designed_hull
			SOV_mio_okmo_turret_drop_forward_section
		}
		position = { x = 1 y = 1 }
		equipment_bonus = {
			breakthrough = 0.04
		}
	}
	trait = {
		name = SOV_mio_okmo_controlled_differential
		token = SOV_mio_okmo_controlled_differential
		icon = GFX_generic_mio_trait_icon_soft_attack
		relative_position_id = SOV_mio_okmo_re_designed_hull
		mutually_exclusive = {	SOV_mio_okmo_cross_drive_transmission	}
		any_parent = {
			SOV_mio_okmo_re_designed_hull
			SOV_mio_okmo_turret_drop_forward_section
		}
		position = { x = 3 y = 1 }
		equipment_bonus = {
			soft_attack = 0.05
			build_cost_ic = 0.02
		}
	}
	trait = {
		name = SOV_mio_okmo_gyrostabilization
		token = SOV_mio_okmo_gyrostabilization
		icon = GFX_generic_mio_trait_icon_hard_attack
		relative_position_id = SOV_mio_okmo_controlled_differential
		all_parents = {
			SOV_mio_okmo_controlled_differential
		}
		position = { x = 0 y = 1 }
		equipment_bonus = {
			hard_attack = 0.05
			ap_attack = 0.05
			build_cost_ic = 0.03
		}
	}
	trait = {
		name = SOV_mio_okmo_belleville_washer_track_system
		token = SOV_mio_okmo_belleville_washer_track_system
		icon = GFX_generic_mio_trait_icon_breakthrough
		relative_position_id = SOV_mio_okmo_cross_drive_transmission
		all_parents = {
			SOV_mio_okmo_cross_drive_transmission
		}
		position = { x = 0 y = 1 }
		equipment_bonus = {
			reliability = 0.03
			breakthrough = 0.04			
		}		
	}
}

 ######  ##     ## #### ########   ######
##    ## ##     ##  ##  ##     ## ##    ##
##       ##     ##  ##  ##     ## ##
 ######  #########  ##  ########   ######
      ## ##     ##  ##  ##              ##
##    ## ##     ##  ##  ##        ##    ##
 ######  ##     ## #### ##         ######

SOV_nevskoye_design_bureau_organization = {
	include = generic_battle_line_ship_organization
	icon = GFX_idea_nevskoye_design_bureau

	allowed = {
		tag = SOV
	}

}

SOV_rubin_design_bureau_organization = {
	include = generic_raider_ship_organization
	icon = GFX_idea_SOV_rubin_design_bureau

	allowed = {
		tag = SOV
	}

}

SOV_black_sea_shipyard_organization = {
	include = generic_black_sea_fleet_organization
	icon = GFX_idea_SOV_black_sea_shipyard

	allowed = {
		tag = SOV
	}

	tree_header_text = {
		text = mio_header_systems
		x = 1
	}

	tree_header_text = {
		text = mio_header_weapons
		x = 4
	}

	tree_header_text = {
		text = mio_header_production
		x = 7
	}

	override_trait = {
		token = generic_mio_advanced_periscope

		position = { x=1 y=1 }
		relative_position_id = generic_mio_trait_anti_air_defense
	}

	override_trait = {
		token = generic_mio_trait_state_sponsored_growth

		position = { x=3 y=0 }
		relative_position_id = generic_mio_trait_anti_air_defense
	}

}

SOV_sevastopol_marine_plant_organization = {
	include = generic_refurbishment_repair_organization
	icon = GFX_idea_SOV_sevastopol_marine_plant

	allowed = {
		tag = SOV
	}

	tree_header_text = {
		text = mio_header_protection
		x = 3
	}

	tree_header_text = {
		text = mio_header_weapons
		x = 7
	}

	override_trait = {
		token = generic_mio_trait_foam_fire_extinguishers

		position = { x=4 y=0 }
		relative_position_id = generic_mio_trait_heavy_armored_hull
	}

	override_trait = {
		token = generic_mio_trait_counter_flooding_system

		position = { x=2 y=0 }
		relative_position_id = generic_mio_trait_isolated_firemains
	}

}

########  ##          ###    ##    ## ########  ######
##     ## ##         ## ##   ###   ## ##       ##    ##
##     ## ##        ##   ##  ####  ## ##       ##
########  ##       ##     ## ## ## ## ######    ######
##        ##       ######### ##  #### ##             ##
##        ##       ##     ## ##   ### ##       ##    ##
##        ######## ##     ## ##    ## ########  ######

SOV_mig_design_bureau_organization = {
	include = generic_light_aircraft_organization
	icon = GFX_idea_mig_design_bureau
	research_categories = {
		mikoyan_gurevich_air
	}
	equipment_type = {
		mio_cat_eq_only_light_fighter
	}
	available = {
		owner = { not = { has_country_flag = mig_purged } }
	}
	allowed = {
		tag = SOV
	}

}

SOV_lavochkin_design_bureau_organization = {
	include = generic_high_agility_fighter_aircraft_organization
	icon = GFX_idea_LaGG_design_bureau
	research_categories = {
		lavochkin_air
	}
	equipment_type = {
		mio_cat_eq_only_light_fighter
	}
	available = {
		owner = { not = { has_country_flag = lagg_purged } }
	}
	allowed = {
		tag = SOV
	}

}

SOV_ilyushin_design_bureau_organization = {
	include = generic_cas_aircraft_organization
	icon = GFX_idea_ilyushin_design_bureau

	allowed = {
		tag = SOV
	}
	research_categories = {
		ilyushin_air
	}
	available = {
		owner = { not = { has_country_flag = ilyushin_purged } }
	}
	equipment_type = {
		mio_cat_eq_all_close_air_support
	}
}

SOV_yakovlev_design_bureau_organization = {
	include = generic_multi_role_aircraft_organization
	icon = GFX_idea_yakovlev_design_bureau

	allowed = {
		tag = SOV
	}
	research_categories = {
		yakolev_air
	}
	available = {
		owner = { not = { has_country_flag = yak_purged } }
	}
	equipment_type = {
		mio_cat_eq_all_small_plane_no_cv
		mio_cat_eq_all_medium_plane
		transport_plane_equipment
	}
}

SOV_tupolev_design_bureau_organization = {
	include = generic_heavy_aircraft_organization
	icon = GFX_idea_tupolev_design_bureau
	allowed = {
		tag = SOV
	}
	available = {
		owner = { not = { has_country_flag = tupolev_purged } }
	}
	research_categories = {
		tupolev_air
	}
	equipment_type = {
		mio_cat_eq_all_heavy_plane
		transport_plane_equipment
	}
	tree_header_text = {
		text = mio_header_design_department
		x = 2
	}

	tree_header_text = {
		text = mio_header_operational_department
		x = 7
	}

	override_trait = {
		token = generic_mio_trait_pressurized_cockpit

		position = { x=2 y=1 }
		relative_position_id = generic_mio_trait_reinforced_frames
	}

	override_trait = {
		token = generic_mio_trait_extended_rear_fuselage

		position = { x=5 y=0 }
		relative_position_id = generic_mio_trait_reinforced_frames
	}

	add_trait = {
		token = SOV_mio_trait_gas_tank_protection
		name = SOV_mio_trait_gas_tank_protection
		icon = GFX_generic_mio_trait_icon_anti_air_attack
		special_trait_background = yes

		position = { x=-1 y=1 }
		relative_position_id = generic_mio_trait_pressurized_cockpit

		any_parent = { generic_mio_trait_pressurized_cockpit }

		available = {
		}

		equipment_bonus = {
			air_defence = 0.02
			reliability = 0.02
		}
	}

	add_trait = {
		token = SOV_mio_trait_lightened_reduction_gear
		name = SOV_mio_trait_lightened_reduction_gear
		icon = GFX_generic_mio_trait_icon_fuel_consumption
		special_trait_background = yes

		position = { x=1 y=1 }
		relative_position_id = generic_mio_trait_pressurized_cockpit

		any_parent = { generic_mio_trait_pressurized_cockpit }

		available = {
		}

		equipment_bonus = {
			fuel_consumption = -0.04
			reliability = 0.01
		}
	}

}


##     ##    ###    ######## ######## ########  #### ######## ##
###   ###   ## ##      ##    ##       ##     ##  ##  ##       ##
#### ####  ##   ##     ##    ##       ##     ##  ##  ##       ##
## ### ## ##     ##    ##    ######   ########   ##  ######   ##
##     ## #########    ##    ##       ##   ##    ##  ##       ##
##     ## ##     ##    ##    ##       ##    ##   ##  ##       ##
##     ## ##     ##    ##    ######## ##     ## #### ######## ########



SOV_grabin_design_bureau_organization = {
	include = generic_artillery_organization
	icon = GFX_idea_grabin_design_bureau

	allowed = {
		tag = SOV
	}
}

SOV_tula_arms_plant_organization = {
	include = generic_infantry_equipment_organization
	icon = GFX_idea_tula_arms_plant

	allowed = {
		tag = SOV
	}
}

