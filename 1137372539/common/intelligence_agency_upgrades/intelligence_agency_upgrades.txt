
branches = {
	
	upgrade_agency_second_upgrade = {
		level = {
			modifier = {
				agency_upgrades = 1
				operative_slot = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_agency_second_upgrade value = 1 } }
		}
	}
	upgrade_agency_third_upgrade = {
		level = {
			modifier = {
				agency_upgrades = 1
				operative_slot = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_agency_third_upgrade value = 1 } }
		}
	}
	upgrade_army_department = {
		picture = GFX_upgrade_army_department
		level = {
			modifier = {
				army_intel_factor = 0.05
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_department value = 1 } }
		}
		level = {
			modifier = {
				army_intel_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_department value = 2 } }
		}
		level = {
			modifier = {
				army_intel_factor = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_department value = 3 } }
		}
	}
	upgrade_army_enemy_intel_reduction = {
		picture = GFX_upgrade_army_department
		level = {
			modifier = {
				army_intel_to_others = -15
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_enemy_intel_reduction value = 1 } }
		}
	}
	upgrade_army_stackable = {
		picture = GFX_upgrade_army_department
		level = {
			modifier = {
				operation_army_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_stackable value = 1 } }
		}
		level = {
			modifier = {
				operation_army_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_stackable value = 2 } }
		}
		level = {
			modifier = {
				operation_army_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_stackable value = 3 } }
		}
	}
	upgrade_army_no_token_use = {
		picture = GFX_upgrade_army_department
		level = {
			modifier = {
				operation_army_keep_asset_chance = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_no_token_use value = 1 } }
		}
		level = {
			modifier = {
				operation_army_keep_asset_chance = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_no_token_use value = 2 } }
		}
		level = {
			modifier = {
				operation_army_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_no_token_use value = 3 } }
		}
	}
	upgrade_army_enemy_counter_intel = {
		picture = GFX_upgrade_army_department
		level = {
			modifier = {
				operation_army_enemy_effect = -0.05
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_enemy_counter_intel value = 1 } }
		}
		level = {
			modifier = {
				operation_army_enemy_effect = -0.1
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_enemy_counter_intel value = 2 } }
		}
		level = {
			modifier = {
				operation_army_enemy_effect = -0.15
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_enemy_counter_intel value = 3 } }
		}
	}
	upgrade_naval_department = {
		picture = GFX_upgrade_naval_department
		level = {
			modifier = {
				navy_intel_factor = 0.05
			}
			complete_effect = { set_country_flag = { flag = upgrade_naval_department value = 1 } }
		}
		level = {
			modifier = {
				navy_intel_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_naval_department value = 2 } }
		}
		level = {
			modifier = {
				navy_intel_factor = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_naval_department value = 3 } }
		}
	}
	upgrade_navy_enemy_intel_reduction = {
		picture = GFX_upgrade_naval_department
		level = {
			modifier = {
				navy_intel_to_others = -15
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_enemy_intel_reduction value = 1 } }
		}
	}
	upgrade_navy_stackable = {
		picture = GFX_upgrade_naval_department
		level = {
			modifier = {
				operation_navy_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_stackable value = 1 } }
		}
		level = {
			modifier = {
				operation_navy_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_stackable value = 2 } }
		}
		level = {
			modifier = {
				operation_navy_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_stackable value = 3 } }
		}
	}
	upgrade_navy_no_token_use = {
		picture = GFX_upgrade_naval_department
		level = {
			modifier = {
				operation_navy_keep_asset_chance = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_no_token_use value = 1 } }
		}
		level = {
			modifier = {
				operation_navy_keep_asset_chance = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_no_token_use value = 2 } }
		}
		level = {
			modifier = {
				operation_navy_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_no_token_use value = 3 } }
		}
	}
	upgrade_navy_enemy_counter_intel = {
		picture = GFX_upgrade_naval_department
		level = {
			modifier = {
				operation_navy_enemy_effect = -0.05
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_enemy_counter_intel value = 1 } }
		}
		level = {
			modifier = {
				operation_navy_enemy_effect = -0.1
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_enemy_counter_intel value = 2 } }
		}
		level = {
			modifier = {
				operation_navy_enemy_effect = -0.15
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_enemy_counter_intel value = 3 } }
		}
	}
	upgrade_airforce_department = {
		picture = GFX_upgrade_airforce_department
		level = {
			modifier = {
				airforce_intel_factor = 0.05
			}
			complete_effect = { set_country_flag = { flag = upgrade_airforce_department value = 1 } }
		}
		level = {
			modifier = {
				airforce_intel_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_airforce_department value = 2 } }
		}
		level = {
			modifier = {
				airforce_intel_factor = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_airforce_department value = 3 } }
		}
	}
	upgrade_air_enemy_intel_reduction = {
		picture = GFX_upgrade_airforce_department
		level = {
			modifier = {
				airforce_intel_to_others = -15
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_enemy_intel_reduction value = 1 } }
		}
	}
	upgrade_air_stackable = {
		picture = GFX_upgrade_airforce_department
		level = {
			modifier = {
				operation_air_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_stackable value = 1 } }
		}
		level = {
			modifier = {
				operation_air_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_stackable value = 2 } }
		}
		level = {
			modifier = {
				operation_air_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_stackable value = 3 } }
		}
	}
	upgrade_air_no_token_use = {
		picture = GFX_upgrade_airforce_department
		level = {
			modifier = {
				operation_air_keep_asset_chance = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_no_token_use value = 1 } }
		}
		level = {
			modifier = {
				operation_air_keep_asset_chance = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_no_token_use value = 2 } }
		}
		level = {
			modifier = {
				operation_air_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_no_token_use value = 3 } }
		}
	}
	upgrade_air_enemy_counter_intel = {
		picture = GFX_upgrade_airforce_department
		level = {
			modifier = {
				operation_air_enemy_effect = -0.05
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_enemy_counter_intel value = 1 } }
		}
		level = {
			modifier = {
				operation_air_enemy_effect = -0.1
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_enemy_counter_intel value = 2 } }
		}
		level = {
			modifier = {
				operation_air_enemy_effect = -0.15
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_enemy_counter_intel value = 3 } }
		}
	}
	upgrade_economy_civilian = {
		picture = GFX_upgrade_economy_civilian
		level = {
			modifier = {
				civilian_intel_factor = 0.05
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_civilian value = 1 } }
		}
		level = {
			modifier = {
				civilian_intel_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_civilian value = 2 } }
		}
		level = {
			modifier = {
				civilian_intel_factor = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_civilian value = 3 } }
		}
	}
	upgrade_economy_enemy_intel_reduction = {
		picture = GFX_upgrade_economy_civilian
		level = {
			modifier = {
				civilian_intel_to_others = -15
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_enemy_intel_reduction value = 1 } }
		}
	}
	upgrade_economy_stackable = {
		picture = GFX_upgrade_economy_civilian
		level = {
			modifier = {
				operation_economy_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_stackable value = 1 } }
		}
		level = {
			modifier = {
				operation_economy_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_stackable value = 2 } }
		}
		level = {
			modifier = {
				operation_economy_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_stackable value = 3 } }
		}
	}
	upgrade_economy_no_token_use = {
		picture = GFX_upgrade_economy_civilian
		level = {
			modifier = {
				operation_economy_keep_asset_chance = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_no_token_use value = 1 } }
		}
		level = {
			modifier = {
				operation_economy_keep_asset_chance = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_no_token_use value = 2 } }
		}
		level = {
			modifier = {
				operation_economy_max_asset = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_no_token_use value = 3 } }
		}
	}
	upgrade_economy_enemy_counter_intel = {
		picture = GFX_upgrade_economy_civilian
		level = {
			modifier = {
				operation_economy_enemy_effect = -0.05
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_enemy_counter_intel value = 1 } }
		}
		level = {
			modifier = {
				operation_economy_enemy_effect = -0.1
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_enemy_counter_intel value = 2 } }
		}
		level = {
			modifier = {
				operation_economy_enemy_effect = -0.15
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_economy_enemy_counter_intel value = 3 } }
		}
	}
	upgrade_passive_defense = {
		picture = GFX_upgrade_passive_defense
		level = {
			modifier = {
				intelligence_agency_defense = 1

				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_passive_defense value = 1 } }
		}
	}
	upgrade_army_defense_sweep = {
		picture = GFX_upgrade_army_department
		level = {
			modifier = {
				enemy_army_asset_discover_chance = 0.001
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_defense_sweep value = 1 } }
		}
		level = {
			modifier = {
				enemy_army_asset_discover_chance = 0.001
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_defense_sweep value = 2 } }
		}
		level = {
			modifier = {
				enemy_army_asset_discover_chance = 0.002
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_army_defense_sweep value = 3 } }
		}
	}
	upgrade_air_defense_sweep = {
		picture = GFX_upgrade_airforce_department
		level = {
			modifier = {
				enemy_air_asset_discover_chance = 0.001
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_defense_sweep value = 1 } }
		}
		level = {
			modifier = {
				enemy_air_asset_discover_chance = 0.001
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_defense_sweep value = 2 } }
		}
		level = {
			modifier = {
				enemy_air_asset_discover_chance = 0.002
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_air_defense_sweep value = 3 } }
		}
	}
	upgrade_navy_defense_sweep = {
		picture = GFX_upgrade_naval_department
		level = {
			modifier = {
				enemy_navy_asset_discover_chance = 0.001
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_defense_sweep value = 1 } }
		}
		level = {
			modifier = {
				enemy_navy_asset_discover_chance = 0.001
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_defense_sweep value = 2 } }
		}
		level = {
			modifier = {
				enemy_navy_asset_discover_chance = 0.002
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_navy_defense_sweep value = 3 } }
		}
	}
	upgrade_civilian_defense_sweep = {
		picture = GFX_upgrade_economy_civilian
		level = {
			modifier = {
				enemy_economy_asset_discover_chance = 0.001
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_civilian_defense_sweep value = 1 } }
		}
		level = {
			modifier = {
				enemy_economy_asset_discover_chance = 0.001
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_civilian_defense_sweep value = 2 } }
		}
		level = {
			modifier = {
				enemy_economy_asset_discover_chance = 0.002
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_civilian_defense_sweep value = 3 } }
		}
	}
	upgrade_defense_harmed = {
		picture = GFX_upgrade_passive_defense
		level = {
			modifier = {
				enemy_operative_harmed_time_factor = 0.05
				enemy_operative_forced_into_hiding_time_factor = 0.05
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_defense_harmed value = 1 } }
		}
		level = {
			modifier = {
				enemy_operative_harmed_time_factor = 0.1
				enemy_operative_forced_into_hiding_time_factor = 0.1
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_defense_harmed value = 2 } }
		}
		level = {
			modifier = {
				enemy_operative_harmed_time_factor = 0.15
				enemy_operative_forced_into_hiding_time_factor = 0.15
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_defense_harmed value = 3 } }
		}
	}
	upgrade_defense_intel_extraction = {
		picture = GFX_upgrade_passive_defense
		level = {
			modifier = {
				enemy_operative_capture_chance_factor = 0.05
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_defense_intel_extraction value = 1 } }
		}
		level = {
			modifier = {
				enemy_operative_capture_chance_factor = 0.1
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_defense_intel_extraction value = 2 } }
		}
		level = {
			modifier = {
				enemy_operative_capture_chance_factor = 0.15
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_defense_intel_extraction value = 3 } }
		}
	}
	upgrade_defense_critical_success = {
		picture = GFX_upgrade_passive_defense
		level = {
			modifier = {
				enemy_operation_critical_success_chance = -0.05
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_defense_critical_success value = 1 } }
		}
		level = {
			modifier = {
				enemy_operation_critical_success_chance = -0.1
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_defense_critical_success value = 2 } }
		}
		level = {
			modifier = {
				enemy_operation_critical_success_chance = -0.15
				intelligence_agency_defense = 0.1
				
				hidden_modifier = { production_speed_security_branch_factor = 1 }
			}
			complete_effect = { set_country_flag = { flag = upgrade_defense_critical_success value = 3 } }
		}
	}
	upgrade_security_department = {
		picture = GFX_upgrade_passive_defense
		level = {
			modifier = {
				intelligence_agency_defense = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_security_department value = 1 } }
		}
		level = {
			modifier = {
				intelligence_agency_defense = 1
				enemy_operative_detection_chance_factor = 0.35
			}
			complete_effect = { set_country_flag = { flag = upgrade_security_department value = 2 } }
		}
	}
	upgrade_form_operations = {
		picture = GFX_upgrade_form_operations
		level = {
			modifier = {
				operative_slot = 1
				new_operative_slot_bonus = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_form_operations value = 1 } }
		}
	}
	upgrade_operation_infiltrate = {
		picture = GFX_upgrade_operation_infiltrate
		level = {
			modifier = {
				operation_infiltrate_outcome = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate value = 1 } }
		}
		level = {
			modifier = {
				operation_infiltrate_outcome = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate value = 2 } }
		}
	}
	upgrade_operation_infiltrate_critical_success = {
		picture = GFX_upgrade_operation_infiltrate
		level = {
			modifier = {
				operation_infiltrate_outcome = 0.05
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate_critical_success value = 1 } }
		}
		level = {
			modifier = {
				operation_infiltrate_outcome = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate_critical_success value = 2 } }
		}
		level = {
			modifier = {
				operation_infiltrate_outcome = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate_critical_success value = 3 } }
		}
	}
	upgrade_operation_infiltrate_risk = {
		picture = GFX_upgrade_operation_infiltrate
		level = {
			modifier = {
				operation_infiltrate_risk = -0.05
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate_risk value = 1 } }
		}
		level = {
			modifier = {
				operation_infiltrate_risk = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate_risk value = 2 } }
		}
		level = {
			modifier = {
				operation_infiltrate_risk = -0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate_risk value = 3 } }
		}
	}
	upgrade_operation_infiltrate_cost = {
		picture = GFX_upgrade_operation_infiltrate
		level = {
			modifier = {
				operation_infiltrate_cost = -0.05
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate_cost value = 1 } }
		}
		level = {
			modifier = {
				operation_infiltrate_cost = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate_cost value = 2 } }
		}
		level = {
			modifier = {
				operation_infiltrate_cost = -0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_infiltrate_cost value = 3 } }
		}
	}
	upgrade_operation_steal_tech = {
		picture = GFX_upgrade_operation_steal_tech
		level = {
			modifier = {
				operation_steal_tech_outcome = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_steal_tech value = 1 } }
		}
		level = {
			modifier = {
				operation_steal_tech_risk = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_steal_tech value = 2 } }
		}
		level = {
			modifier = {
				operation_steal_tech_cost = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_steal_tech value = 3 } }
		}
	}
	upgrade_steal_tech_effect = {
		picture = GFX_upgrade_operation_steal_tech
		level = {
			modifier = {
				operation_steal_tech_bonus_factor = 0.05
			}
			complete_effect = { set_country_flag = { flag = upgrade_steal_tech_effect value = 1 } }
		}
		level = {
			modifier = {
				operation_steal_tech_bonus_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_steal_tech_effect value = 2 } }
		}
		level = {
			modifier = {
				operation_steal_tech_bonus_factor = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_steal_tech_effect value = 3 } }
		}
	}
	upgrade_steal_tech_uses = {
		picture = GFX_upgrade_operation_steal_tech
		level = {
			modifier = {
				operation_steal_tech_uses = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_steal_tech_uses value = 1 } }
		}
		level = {
			modifier = {
				operation_steal_tech_uses = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_steal_tech_uses value = 2 } }
		}
		level = {
			modifier = {
				operation_steal_tech_uses = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_steal_tech_uses value = 3 } }
		}
	}
	upgrade_steal_tech_aot = {
		picture = GFX_upgrade_operation_steal_tech
		level = {
			modifier = {
				operation_steal_tech_aot_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_steal_tech_aot value = 1 } }
		}
		level = {
			modifier = {
				operation_steal_tech_aot_factor = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_steal_tech_aot value = 2 } }
		}
		level = {
			modifier = {
				operation_steal_tech_aot_factor = 0.2
			}
			complete_effect = { set_country_flag = { flag = upgrade_steal_tech_aot value = 3 } }
		}
	}
	upgrade_operation_target_unit_leader = {
		picture = GFX_upgrade_operation_target_unit_leader
		level = {
			modifier = {
				operation_target_army_leader_outcome = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_target_unit_leader value = 1 } }
		}
		level = {
			modifier = {
				operation_target_army_leader_risk = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_target_unit_leader value = 2 } }
		}
		level = {
			modifier = {
				operation_target_army_leader_cost = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_target_unit_leader value = 3 } }
		}
	}
	upgrade_operation_target_army_leader_sick = {
		picture = GFX_upgrade_operation_target_unit_leader
		level = {
			modifier = {
				operation_target_army_leader_effect = 0.05
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_target_army_leader_sick value = 1 } }
		}
		level = {
			modifier = {
				operation_target_army_leader_effect = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_target_army_leader_sick value = 2 } }
		}
		level = {
			modifier = {
				operation_target_army_leader_effect = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_target_army_leader_sick value = 3 } }
		}
	}
	upgrade_operation_target_army_leader_meeting = {
		picture = GFX_upgrade_operation_target_unit_leader
		level = {
			modifier = {
				operation_target_army_leader_spread = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_target_army_leader_meeting value = 1 } }
		}
		level = {
			modifier = {
				operation_target_army_leader_spread = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_target_army_leader_meeting value = 2 } }
		}
		level = {
			modifier = {
				operation_target_army_leader_spread = 0.2
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_target_army_leader_meeting value = 3 } }
		}
	}
	upgrade_operation_target_attache = {
		picture = GFX_upgrade_operation_target_unit_leader
		level = {
			modifier = {
				#enable_army_leader_attache_target = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_target_attache value = 1 } }
		}
	}
	upgrade_operation_sabotage = {
		picture = GFX_upgrade_operation_sabotage
		level = {
			modifier = {
				operation_sabotage_outcome = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage value = 1 } }
		}
		level = {
			modifier = {
				operation_sabotage_risk = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage value = 2 } }
		}
		level = {
			modifier = {
				operation_sabotage_cost = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage value = 3 } }
		}
	}
	upgrade_operation_sabotage_damage = {
		picture = GFX_upgrade_operation_sabotage
		level = {
			modifier = {
				operation_sabotage_damage = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage_damage value = 1 } }
		}
		level = {
			modifier = {
				operation_sabotage_damage = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage_damage value = 2 } }
		}
		level = {
			modifier = {
				operation_sabotage_damage = 0.2
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage_damage value = 3 } }
		}
	}
	upgrade_operation_sabotage_uses = {
		picture = GFX_upgrade_operation_sabotage
		level = {
			modifier = {
				operation_sabotage_spread = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage_uses value = 1 } }
		}
		level = {
			modifier = {
				operation_sabotage_spread = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage_uses value = 2 } }
		}
		level = {
			modifier = {
				operation_sabotage_spread = 0.2
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage_uses value = 3 } }
		}
	}
	upgrade_operation_sabotage_repair = {
		picture = GFX_upgrade_operation_sabotage
		level = {
			modifier = {
				operation_sabotage_repair = -0.05
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage_repair value = 1 } }
		}
		level = {
			modifier = {
				operation_sabotage_repair = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage_repair value = 2 } }
		}
		level = {
			modifier = {
				operation_sabotage_repair = -0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_sabotage_repair value = 3 } }
		}
	}
	upgrade_operation_strengthen_resistance = {
		picture = GFX_upgrade_operation_strengthen_resistance
		level = {
			modifier = {
				operation_strengthen_resistance_outcome = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_resistance value = 1 } }
		}
		level = {
			modifier = {
				operation_strengthen_resistance_risk = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_resistance value = 2 } }
		}
		level = {
			modifier = {
				operation_strengthen_resistance_cost = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_resistance value = 3 } }
		}
	}
	upgrade_operation_strengthen_resistance_effect = {
		picture = GFX_upgrade_operation_strengthen_resistance
		level = {
			modifier = {
				operation_strengthen_resistance_effect = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_resistance_effect value = 1 } }
		}
		level = {
			modifier = {
				operation_strengthen_resistance_effect = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_resistance_effect value = 2 } }
		}
		level = {
			modifier = {
				operation_strengthen_resistance_effect = 0.2
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_resistance_effect value = 3 } }
		}
	}
	upgrade_operation_strengthen_resistance_uses = {
		picture = GFX_upgrade_operation_strengthen_resistance
		level = {
			modifier = {
				operation_strengthen_resistance_spread = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_resistance_uses value = 1 } }
		}
		level = {
			modifier = {
				operation_strengthen_resistance_spread = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_resistance_uses value = 2 } }
		}
		level = {
			modifier = {
				operation_strengthen_resistance_spread = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_resistance_uses value = 3 } }
		}
	}
	upgrade_operation_strengthen_society = {
		picture = GFX_upgrade_operation_strengthen_society
		level = {
			modifier = {
				operation_strengthen_society_outcome = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_society value = 1 } }
		}
		level = {
			modifier = {
				operation_strengthen_society_risk = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_society value = 2 } }
		}
		level = {
			modifier = {
				operation_strengthen_society_cost = -0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_society value = 3 } }
		}
	}
	upgrade_operation_strengthen_society_effect = {
		picture = GFX_upgrade_operation_strengthen_society
		level = {
			modifier = {
				operation_strengthen_society_effect = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_society_effect value = 1 } }
		}
		level = {
			modifier = {
				operation_strengthen_society_effect = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_society_effect value = 2 } }
		}
		level = {
			modifier = {
				operation_strengthen_society_effect = 0.2
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_society_effect value = 3 } }
		}
	}
	upgrade_operation_strengthen_society_uses = {
		picture = GFX_upgrade_operation_strengthen_society
		level = {
			modifier = {
				operation_strengthen_society_spread = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_society_uses value = 1 } }
		}
		level = {
			modifier = {
				operation_strengthen_society_spread = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_society_uses value = 2 } }
		}
		level = {
			modifier = {
				operation_strengthen_society_spread = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_operation_strengthen_society_uses value = 3 } }
		}
	}
	
	upgrade_expand_operations = {
		picture = GFX_upgrade_expand_operations
		level = {
			modifier = {
				operative_slot = 1
				new_operative_slot_bonus = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_expand_operations value = 1 } }
		}
	}
	upgrade_underground_contacts = {
		picture = GFX_upgrade_expand_operations
		level = {
			modifier = {
				intel_network_gain_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_underground_contacts value = 1 } }
		}
		level = {
			modifier = {
				intel_network_gain_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_underground_contacts value = 2 } }
		}
		level = {
			modifier = {
				intel_network_gain_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_underground_contacts value = 3 } }
		}
	}
	upgrade_training_centers = {
		picture = GFX_upgrade_expand_operations
		level = {
			modifier = {
				occupied_operative_recruitment_chance = 0.25
				new_operative_slot_bonus = 1
			}
			complete_effect = { set_country_flag = { flag = upgrade_training_centers value = 1 } }
		}
		level = {
			modifier = {
				enemy_operative_recruitment_chance = 0.15
			}
			complete_effect = { set_country_flag = { flag = upgrade_training_centers value = 2 } }
		}
		level = {
			modifier = {
				#TODO ENABLE DECISIONS
			}
			complete_effect = { set_country_flag = { flag = upgrade_training_centers value = 3 } }
		}
	}
	upgrade_commando_training = {
		picture = GFX_upgrade_expand_operations
		level = {
			modifier = {
				commando_trait_chance_factor = 0.5
			}
			complete_effect = { set_country_flag = { flag = upgrade_commando_training value = 1 } }
		}
	}
	upgrade_diplo_training = {
		picture = GFX_upgrade_expand_operations
		level = {
			modifier = {
				control_trade_mission_factor = 0.1
				diplomatic_pressure_mission_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_diplo_training value = 1 } }
		}
		level = {
			modifier = {
				control_trade_mission_factor = 0.1
				diplomatic_pressure_mission_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_diplo_training value = 2 } }
		}
		level = {
			modifier = {
				control_trade_mission_factor = 0.1
				diplomatic_pressure_mission_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_diplo_training value = 3 } }
		}
	}
	upgrade_psycho_warfare = {
		picture = GFX_upgrade_expand_operations
		level = {
			modifier = {
				enemy_operative_recruitment_chance = 0.05
				propaganda_mission_factor = 0.1
				boost_ideology_mission_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_psycho_warfare value = 1 } }
		}
		level = {
			modifier = {
				enemy_operative_recruitment_chance = 0.05
				propaganda_mission_factor = 0.1
				boost_ideology_mission_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_psycho_warfare value = 2 } }
		}
		level = {
			modifier = {
				enemy_operative_recruitment_chance = 0.05
				propaganda_mission_factor = 0.1
				boost_ideology_mission_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_psycho_warfare value = 3 } }
		}
	}
	upgrade_invisible_ink = {
		picture = GFX_upgrade_expand_operations
		level = {
			modifier = {
				intel_from_operatives_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_invisible_ink value = 1 } }
		}
		level = {
			modifier = {
				intel_from_operatives_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_invisible_ink value = 2 } }
		}
		level = {
			modifier = {
				intel_from_operatives_factor = 0.1
			}
			complete_effect = { set_country_flag = { flag = upgrade_invisible_ink value = 3 } }
		}
	}
	upgrade_suicide_pills = {
		picture = GFX_upgrade_expand_operations
		level = {
			modifier = {
				operative_death_on_capture_chance = 0.25
			}
			complete_effect = { set_country_flag = { flag = upgrade_suicide_pills value = 1 } }
		}
	}
	upgrade_form_department = {
		picture = GFX_upgrade_form_department
		level = {
			modifier = {
				crypto_department_enabled = 1
				crypto_strength = 1
				decryption_power = 25
			}
			complete_effect = { set_country_flag = { flag = upgrade_form_department value = 1 } }
		}
	}
	upgrade_decryption_boost = {
		picture = GFX_upgrade_form_department
		level = {
			modifier = {
				decryption_power = 15
			}
			complete_effect = { set_country_flag = { flag = upgrade_decryption_boost value = 1 } }
		}
		level = {
			modifier = {
				decryption_power = 10
			}
			complete_effect = { set_country_flag = { flag = upgrade_decryption_boost value = 2 } }
		}
		level = {
			modifier = {
				decryption_power = 10
			}
			complete_effect = { set_country_flag = { flag = upgrade_decryption_boost value = 3 } }
		}
	}
	upgrade_decryption_boost_2 = {
		picture = GFX_upgrade_form_department
		level = {
			modifier = {
				decryption_power = 25
			}
			complete_effect = { set_country_flag = { flag = upgrade_decryption_boost_2 value = 1 } }
		}
		level = {
			modifier = {
				decryption_power = 20
			}
			complete_effect = { set_country_flag = { flag = upgrade_decryption_boost_2 value = 2 } }
		}
		level = {
			modifier = {
				decryption_power = 15
			}
			complete_effect = { set_country_flag = { flag = upgrade_decryption_boost_2 value = 3 } }
		}
	}
	upgrade_crypto_strength = {
		picture = GFX_upgrade_form_department
		level = {
			modifier = {
				crypto_strength = 2
			}
			complete_effect = { set_country_flag = { flag = upgrade_crypto_strength value = 1 } }
		}
		level = {
			modifier = {
				crypto_strength = 2
			}
			complete_effect = { set_country_flag = { flag = upgrade_crypto_strength value = 2 } }
		}
		level = {
			modifier = {
				crypto_strength = 2
			}
			complete_effect = { set_country_flag = { flag = upgrade_crypto_strength value = 3 } }
		}
	}
	upgrade_crypto_strength_2 = {
		picture = GFX_upgrade_form_department
		level = {
			modifier = {
				crypto_strength = 4
			}
			complete_effect = { set_country_flag = { flag = upgrade_crypto_strength_2 value = 1 } }
		}
		level = {
			modifier = {
				crypto_strength = 4
			}
			complete_effect = { set_country_flag = { flag = upgrade_crypto_strength_2 value = 2 } }
		}
		level = {
			modifier = {
				crypto_strength = 4
			}
			complete_effect = { set_country_flag = { flag = upgrade_crypto_strength_2 value = 3 } }
		}
	}
}
	