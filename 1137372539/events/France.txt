###########################
# French Events
###########################

add_namespace = france

# Japan demands Indochina
country_event = {
	id = france.1
	title = france.1.t
	desc = france.1.d
	picture = GFX_report_event_japan_army_mountainside
	
	is_triggered_only = yes
	
	option = { # Accept demands
		name = france.1.a
		ai_chance = {
			factor = 25 
			modifier = {
				factor = 50
				has_war = yes
				any_enemy_country = {
					strength_ratio = { 
						tag = ROOT 
						ratio < 0.4
					}
				}
			}
			modifier = {
				factor = 75
				844 = { NOT = { is_controlled_by = FRA } } #Paris	
			}
		} 
		JAP = {
			country_event = { days = 5 id = japan.6 }
		}
	}
	option = { # Refuse
		name = france.1.b
		ai_chance = { factor = 25 }
		JAP = {
			country_event = { days = 5 id = japan.7 }
		}
	}
}

# Maginot Line Extension
country_event = {
	id = france.2
	title = france.2.t
	desc = france.2.d
	picture = GFX_report_event_bunker_01
	is_triggered_only = yes
	
	option = {
		name = france.2.a
		18 = {
			add_building_construction = {
				type = pillbox
				province = 3560
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = pillbox
				province = 9472
				level = 1
				instant_build = yes
			}
		}
		886 = {
			add_building_construction = {
				type = pillbox
				province = 3447
				level = 1
				instant_build = yes
			}
		}
		17 = {
			add_building_construction = {
				type = bunker
				province = 5291
				level = 1
				instant_build = yes
			}
		}
		29 = {
			add_building_construction = {
				type = bunker
				province = 11606
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 11483
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 575
				level = 2
				instant_build = yes
			}
		}
	}
}

# Alpine Line Extension
country_event = {
	id = france.3
	title = france.3.t
	desc = france.3.d
	picture = GFX_report_event_bunker_01

	is_triggered_only = yes
	
	option = {
		name = france.3.a
		735 = {
			add_building_construction = {
				type = pillbox
				province = 9909
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = pillbox
				province = 3959
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 6975
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3764
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = pillbox
				province = 764
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9745
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 778
				level = 1
				instant_build = yes
			}
		}
	}
}
#ViÃ©not Accords
country_event = {
	id = france.4
	title = france.4.t
	desc = france.4.d
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	option = {
		name = france.32.a
		SYR = {
			add_autonomy_ratio = {
				value = 0.03
				localization = vienot_accord
			}
		}
		add_political_power = 10
	}
}

# Finish Vietnam Railway
country_event = {
	id = france.5
	title = france.5.t
	desc = france.5.d
	picture = GFX_news_event_ROM_railway
	
	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		#check_variable = { global.days_passed > 275 } #2nd of October, Fired on Startup
		FRI = {is_subject_of = FRA}
	}
	
	option = { # Finish it
		name = france.5.a
			build_railway = {
				path = { 4255 1300 4334 4405 }
			}
	}
	#option = { # No
	#	name = france.5.b
	#	
	#	FRI = {
	#		add_opinion_modifier = { target = FRA modifier = medium_decrease }
	#		if = {
	#			limit = { OR = {has_dlc = "Man the Guns" has_dlc = "Together for Victory" } }
	#			add_autonomy_ratio = {
	#			  value = 0.05
	#			}
	#		}
	#	}	
	#}
}
#Question of the Resistance?
country_event = {
	id = france.6
	title = france.6.t
	desc = france.6.d
	picture = GFX_report_event_french_resistance_02
	
	is_triggered_only = yes
	
	option = {
		name = france.6.a
		custom_effect_tooltip = lay_low_infra_TT
	}
	option = {
		name = france.6.b
		add_stability = -0.05
		add_war_support = -0.05		
		custom_effect_tooltip = full_scale_uprising_TT
		hidden_effect = {
			FRA = {
				set_country_flag = uprising
			}
		}
	}
}
#1938 European Athletics Championships
news_event = {
	id = france.7
	title = france.7.t
	desc = france.7.d
	picture = GFX_news_event_olympics_1940
	major = yes
	is_triggered_only = yes
	minor_flavor = yes
	trigger = {
		FRA = {
			has_war = no
		}
		GER = {
			has_war = no
		}
	}
	option = {
		name = france.7.a
		trigger = {
			NOT = {
				tag = GER
				tag = FIN
				tag = ENG
				tag = SWE
				tag = ITA
			}
		}
		if = {
			limit = {
				tag = FRA
			}
			add_political_power = 5
			effect_tooltip = {
				every_other_country = {
					limit = {
						OR = {
							tag = AUS
							tag = BEL
							tag = BUL
							tag = CZE
							tag = DEN
							tag = EST
							tag = GRE
							tag = HUN
							tag = IRE
							tag = LAT
							tag = LIT
							tag = HOL
							tag = NOR
							tag = POL
							tag = ROM
							tag = SWI
						}
					}
					reverse_add_opinion_modifier = { target = FRA modifier = impressive_display }
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					tag = AUS
					tag = BEL
					tag = BUL
					tag = CZE
					tag = DEN
					tag = EST
					tag = GRE
					tag = HUN
					tag = IRE
					tag = LAT
					tag = LIT
					tag = HOL
					tag = NOR
					tag = POL
					tag = ROM
					tag = SWI
				}
			}			
			add_opinion_modifier = { target = FRA modifier = impressive_display }
		}
	}
	option = {
		name = france.7.ger
		trigger = {
			tag = GER
		}
		add_political_power = 5
		add_opinion_modifier = { target = FRA modifier = impressive_display }
	}
	option = {
		name = france.7.fin
		trigger = {
			tag = FIN
		}
		add_political_power = 4
		add_opinion_modifier = { target = FRA modifier = impressive_display }
	}
	option = {
		name = france.7.eng
		trigger = {
			tag = ENG
		}
		add_political_power = 3
		add_opinion_modifier = { target = FRA modifier = impressive_display }
	}
	option = {
		name = france.7.swe
		trigger = {
			tag = SWE
		}
		add_political_power = 2
		add_opinion_modifier = { target = FRA modifier = impressive_display }
	}
	option = {
		name = france.7.ita
		trigger = {
			tag = ITA
		}
		add_political_power = 1
		add_opinion_modifier = { target = FRA modifier = impressive_display }
	}
}
country_event = {
    id = france.8
    is_triggered_only = yes
    
    hidden = yes  #timeout
    timeout_days = 1
    trigger = {
        check_variable = {FRA_expanding_mils < 25}
		has_war = no
    }
        
        
    immediate = {
        country_event = { id = france.8 days = 7 }
        add_to_variable = { FRA_expanding_mils = 1 }
        random_owned_controlled_state = {
			limit = {
				is_core_of = FRA
				is_fully_controlled_by = FRA
				NOT = { has_state_category = tiny_island }
				NOT = { has_state_category = small_island }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
    }
}
country_event = {
    id = france.9
	title = france.9.t
	desc = france.9.d
	picture = GFX_report_event_scw_republican_militia_gfxaddon
	is_triggered_only = yes
	fire_only_once = yes
    trigger = {
		SPR = {
			has_civil_war = no
		}
		OR = {
			country_exists = SPA
			original_tag = SPR
			OR = {
				has_government = fascism
				has_government = monarchism
				has_government = neutrality
			}
		}
		threat > 0.15
    }
        
        
	option = { #
		name = france.9.a
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
			division_template = {
				name = "Brigada Internacionales"
				template_counter = 117
				
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					
					infantry_assault = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
					
					militia = { x = 2 y = 0 }
					militia = { x = 2 y = 1 }
					
					militia = { x = 3 y = 0 }
					militia = { x = 3 y = 1 }
					
					anti_tank_brigade =  { x = 4 y = 0 }
				}
				support = {
					DIV_HQ = { x = 0 y = 0 }
					recon_cav = { x = 0 y = 1 }
				}
			}
		}
		31 = {
			create_unit = {
				division = "name = \"Spainish Fighters\" division_template = \"Brigada Internacionales\" start_experience_factor = 0.85 start_equipment_factor = 0.25"
				owner = FRA
			}
			every_state_division = {
				limit = {
					division_has_battalion_in_template = militia
				}
				add_history_entry = {
					key = "morocco.9.t"
					allow = yes
				}
				add_unit_medal_to_latest_entry = {
					unit_medals = neutral_virtue
				}
				add_divisional_commander_xp = 50
			}
		}
		
		add_cic = 500
		add_popularity = {
			ideology = communism
			popularity = 0.07
		}
	}
	option = { #
		name = france.9.b
		ai_chance = {
			factor = 0
		}
		add_political_power = 10
		add_popularity = {
			ideology = communism
			popularity = -0.02
		}
	}
}
### The Fall of France

# The Battle is Lost
country_event = { 
	id = france.10
	title = france.10.t
	desc = france.10.d
	picture = GFX_report_event_german_parade_paris
	#is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		democratic_govt = yes
		has_war_with = GER
		is_in_faction_with = ENG
		844 = { 
			CONTROLLER = { 
				is_in_faction_with = GER
			} 
		}
		OR = {
			AND = {
				14 = { is_controlled_by = GER }
				19 = { is_controlled_by = GER }
				29 = { is_controlled_by = GER }
			}
			has_capitulated = yes
		}
		ENG = { has_war_with = GER }
		
		GER = {
			is_faction_leader = yes
		}
		NOT = { has_global_flag = fall_of_france }
	}

	immediate = {
		hidden_effect = {
			GER = {
				add_timed_idea = {
					idea = GER_got_FRA
					days = 180
				}
			}
			news_event = { id = league.51 days = 3 random_days = 5 }
			if = {
				limit = {
					country_exists = SPA
				}
				SPA = {
					country_event = { id = spain.3 days = 115 }
				}
				GER = {
					country_event = { id = germany.31 days = 115 }
				}
			}
			remove_ideas = FRA_colonies	
			remove_dynamic_modifier = { modifier = FRA_phoney_war }
		}
	}
	
	option = { # Become Vichy
		name = france.10.a
		ai_chance = {
			factor = 0
		}
		trigger = { is_ai = no }
		set_country_flag = become_vichy
		set_global_flag = fall_of_france
		GER = { country_event = { id = france.14 hours = 6 } }
		custom_effect_tooltip = france.10.a_tt
		# Switches to Vichy if GER accepts
		add_stability = -0.95
	}
	option = { # Become Free French
		name = france.10.b
		ai_chance = {
			factor = 100
		}
		set_global_flag = fall_of_france
		GER = { country_event = { id = france.14 hours = 6 } }
		custom_effect_tooltip = france.10.b_tt
		add_stability = -0.95
	}
	option = { # Ask for British Union
		name = france.10.c
		ai_chance = {
			factor = 0
		}
		ENG = {
			country_event = { id = france.11 hours = 6 }
			effect_tooltip = {
				annex_country = { target = FRA transfer_troops = yes }
			}
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
}

# France suggests a Union (Britain)
country_event = {
	id = france.11
	title = france.11.t
	desc = france.11.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = { # Refuse Union
		name = france.11.a
		ai_chance = {
			factor = 80
		}
		FRA = {
			country_event = { hours = 6 id = france.13 }
		}
	}
	option = { # Agree to Union
		name = france.11.b
		ai_chance = {
			factor = 20
		}
		FRA = {
			country_event = { hours = 6 id = france.12 }
		}
	}
}

# Britain agrees to Union (France)
country_event = {
	id = france.12
	title = france.12.t
	desc = france.12.d
	picture = GFX_report_event_chamberlain_announce
	
	is_triggered_only = yes
	
	option = {
		name = france.12.a
		# Franco-British Union created
		set_global_flag = fall_of_france
		hidden_effect = {
			every_state = {
				limit = {
					is_core_of = FRA
				}
				ENG = {
					add_state_core = PREV
				}
			}
		}
		ENG = {
			annex_country = { target = FRA transfer_troops = yes }
		}
		custom_effect_tooltip = FRA_franco_british_cores
		hidden_effect = {
			GER = { 
				country_event = { hours = 6 id = news.35 }
			}
		}
	}
}

# Britain refuses Union (France)
country_event = {
	id = france.13
	title = france.13.t
	desc = france.13.d
	picture = GFX_report_event_pierre_laval
	
	is_triggered_only = yes
	
	option = { # Become Vichy
		name = france.13.a
		trigger = { is_ai = no }
		set_country_flag = become_vichy
		set_global_flag = fall_of_france
		GER = { country_event = france.14 }
		custom_effect_tooltip = france.10.a_tt
		# Switches to Vichy if GER accepts
	}
	
	option = { # Become Free France
		name = france.13.b
		GER = { country_event = france.14 }
		custom_effect_tooltip = france.10.b_tt
		set_global_flag = fall_of_france
	}
}

# France wants Armistice (Germany)
country_event = {
	id = france.14
	title = france.14.t
	desc = france.14.d
	picture = GFX_report_event_german_parade_paris
	
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = GER
		has_global_flag = fall_of_france
	}
	

	option = { # Agree
		name = france.14.a
		FRA = { set_country_flag = french_armistice }
		ai_chance = {
			factor = 100
		}
		# German Occupation Zone
		hidden_effect = {
			if = {
				limit = {
					844 = { owner = { tag = FRA } }
				}
				set_state_controller = 844
				GER = { set_state_controller = 844 }
			}
			if = {
				limit = {
					886 = { owner = { tag = FRA } }
				}
				set_state_controller = 886
				GER = { set_state_controller = 886 }
			}
			if = {
				limit = {
					28 = { owner = { tag = FRA } }
				}
				set_state_controller = 28
				GER = { set_state_controller = 28 }
			}
			if = {
				limit = {
					17 = { owner = { tag = FRA } }
				}
				set_state_controller = 17
				GER = { set_state_controller = 17 }
			}
			if = {
				limit = {
					27 = { owner = { tag = FRA } }
				}
				set_state_controller = 27
				GER = { set_state_controller = 27 }
			}
			if = {
				limit = {
					18 = { owner = { tag = FRA } }
				}
				set_state_controller = 18
				GER = { set_state_controller = 18 }
			}
			if = {
				limit = {
					29 = { owner = { tag = FRA } }
				}
				set_state_controller = 29
				GER = { set_state_controller = 29 }
			}
			if = {
				limit = {
					15 = { owner = { tag = FRA } }
				}
				set_state_controller = 15
				GER = { set_state_controller = 15 }
			}
			if = {
				limit = {
					16 = { owner = { tag = FRA } }
				}
				set_state_controller = 16
				GER = { set_state_controller = 16 }
			}
			if = {
				limit = {
					24 = { owner = { tag = FRA } }
				}
				set_state_controller = 24
				GER = { set_state_controller = 24 }
			}
			if = {
				limit = {
					30 = { owner = { tag = FRA } }
				}
				set_state_controller = 30
				GER = { set_state_controller = 30 }
			}
			if = {
				limit = {
					14 = { owner = { tag = FRA } }
				}
				set_state_controller = 14
				GER = { set_state_controller = 14 }
			}
			if = {
				limit = {
					23 = { owner = { tag = FRA } }
				}
				set_state_controller = 23
				GER = { set_state_controller = 23 }
			}
			if = {
				limit = {
					19 = { owner = { tag = FRA } }
				}
				set_state_controller = 19
				GER = { set_state_controller = 19 }
			}
			FRA = {
				country_event = { id = france.65 }
				news_event = { id = france.20 days = 1 }			
			}
		}
		news_event = { hours = 6 id = news.34 }
	}
	
	option = { # Conquer everything!
		name = france.14.b
		ai_chance = {
			factor = 0
		}
		FRA = {
			country_event = { hours = 6 id = france.15 }
			effect_tooltip = {
				every_owned_state = {
					limit = {
						has_active_resistance = yes
						controller = { 
							is_in_faction_with = GER
						}
					}						
					add_resistance = 20			
					add_resistance_target = {
						amount = 20
						occupied = FRA
						tooltip = FRA_increased_resistance
					}
				}
			}
		}
		hidden_effect = {
			ENG = {
				mark_focus_tree_layout_dirty = yes
				unlock_national_focus = CW_vichy_colonies
				unlock_national_focus = CW_pierre
				unlock_national_focus = CW_caribbeans
				unlock_national_focus = CW_meanace
				unlock_national_focus = CW_guiana
				unlock_national_focus = CW_operation_exporter
				unlock_national_focus = CW_gabon
				unlock_national_focus = CW_somaliland
				unlock_national_focus = CW_corsica
				unlock_national_focus = CW_ironclad
				unlock_national_focus = CW_reunion
				unlock_national_focus = USA_torch
				unlock_national_focus = CW_a_free_france
			}
			CAN = {
				mark_focus_tree_layout_dirty = yes
				unlock_national_focus = CW_vichy_colonies
				unlock_national_focus = CW_pierre
				unlock_national_focus = CW_caribbeans
				unlock_national_focus = CW_meanace
				unlock_national_focus = CW_guiana
				unlock_national_focus = CW_operation_exporter
				unlock_national_focus = CW_gabon
				unlock_national_focus = CW_somaliland
				unlock_national_focus = CW_corsica
				unlock_national_focus = CW_ironclad
				unlock_national_focus = CW_reunion
				unlock_national_focus = USA_torch
				unlock_national_focus = CW_a_free_france
			}
			SAF = {
				mark_focus_tree_layout_dirty = yes
				unlock_national_focus = CW_vichy_colonies
				unlock_national_focus = CW_pierre
				unlock_national_focus = CW_caribbeans
				unlock_national_focus = CW_meanace
				unlock_national_focus = CW_guiana
				unlock_national_focus = CW_operation_exporter
				unlock_national_focus = CW_gabon
				unlock_national_focus = CW_somaliland
				unlock_national_focus = CW_corsica
				unlock_national_focus = CW_ironclad
				unlock_national_focus = CW_reunion
				unlock_national_focus = USA_torch
				unlock_national_focus = CW_a_free_france
			}
			RAJ = {
				mark_focus_tree_layout_dirty = yes
				unlock_national_focus = CW_vichy_colonies
				unlock_national_focus = CW_pierre
				unlock_national_focus = CW_caribbeans
				unlock_national_focus = CW_meanace
				unlock_national_focus = CW_guiana
				unlock_national_focus = CW_operation_exporter
				unlock_national_focus = CW_gabon
				unlock_national_focus = CW_somaliland
				unlock_national_focus = CW_corsica
				unlock_national_focus = CW_ironclad
				unlock_national_focus = CW_reunion
				unlock_national_focus = USA_torch
				unlock_national_focus = CW_a_free_france
			}
			AST = {
				mark_focus_tree_layout_dirty = yes
				unlock_national_focus = CW_vichy_colonies
				unlock_national_focus = CW_pierre
				unlock_national_focus = CW_caribbeans
				unlock_national_focus = CW_meanace
				unlock_national_focus = CW_guiana
				unlock_national_focus = CW_operation_exporter
				unlock_national_focus = CW_gabon
				unlock_national_focus = CW_somaliland
				unlock_national_focus = CW_corsica
				unlock_national_focus = CW_ironclad
				unlock_national_focus = CW_reunion
				unlock_national_focus = USA_torch
				unlock_national_focus = CW_a_free_france
			}
			NZL = {
				mark_focus_tree_layout_dirty = yes
				unlock_national_focus = CW_vichy_colonies
				unlock_national_focus = CW_pierre
				unlock_national_focus = CW_caribbeans
				unlock_national_focus = CW_meanace
				unlock_national_focus = CW_guiana
				unlock_national_focus = CW_operation_exporter
				unlock_national_focus = CW_gabon
				unlock_national_focus = CW_somaliland
				unlock_national_focus = CW_corsica
				unlock_national_focus = CW_ironclad
				unlock_national_focus = CW_reunion
				unlock_national_focus = USA_torch
				unlock_national_focus = CW_a_free_france
			}
			if = {
				limit = {
					IRE = {
						is_in_faction_with = ENG
					}
				}
				IRE = {
					mark_focus_tree_layout_dirty = yes
					unlock_national_focus = CW_vichy_colonies
					unlock_national_focus = CW_pierre
					unlock_national_focus = CW_caribbeans
					unlock_national_focus = CW_meanace
					unlock_national_focus = CW_guiana
					unlock_national_focus = CW_operation_exporter
					unlock_national_focus = CW_gabon
					unlock_national_focus = CW_somaliland
					unlock_national_focus = CW_corsica
					unlock_national_focus = CW_ironclad
					unlock_national_focus = CW_reunion
					unlock_national_focus = USA_torch
					unlock_national_focus = CW_a_free_france
				}
			}
			USA = {
				set_country_flag = no_vichy
			}		
		}
	}
}

# Germany refuses armistice! (France)
country_event = {
	id = france.15
	title = france.15.t
	desc = france.15.d
	picture = GFX_report_event_french_resistance_01
	
	is_triggered_only = yes
	
	option = {
		name = france.15.a
		every_owned_state = {
			limit = {
				has_active_resistance = yes
				controller = { 
					is_in_faction_with = GER
				}
			}						
			add_resistance_target = {
				amount = 20
				occupied = FRA
				tooltip = FRA_resistance
			}
		}
	}
}

#Capital - Paris - captured by non french faction
country_event = {
	id = france.16
	title = france.16.t
	desc = france.16.d
	picture = GFX_report_event_french_resistance_03
	
	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		TAG = FRA
		has_capitulated = yes
		#OR = {
		#	844 = { controller = { NOT = { tag = FRA } } }
		#	FRA = {
		#		surrender_progress > 0.6
		#	}
		#}
	}
	
	option = {
		name = france.16.a
		remove_ideas = FRA_victors_of_wwi_4
		if = {
			limit = { 
				has_idea = FRA_disjointed_government
			}
			remove_ideas = FRA_disjointed_government
		}
		else_if = {
			limit = { 
				has_idea = FRA_disjointed_government_1
			}
			remove_ideas = FRA_disjointed_government_1
		}
		remove_ideas = FRA_protected_by_the_maginot_line
		hidden_effect = {
			remove_ideas = FRA_victors_of_wwi_1
			remove_ideas = FRA_victors_of_wwi_2
			remove_ideas = FRA_victors_of_wwi_3
			remove_ideas = FRA_reforms_failed
			remove_ideas = FRA_defensive_doc
			remove_ideas = FRA_offensive_doc
			remove_ideas = FRA_cut_maginot
			remove_ideas = FRA_maginot_fund_army
			remove_ideas = FRA_maginot_fund_navy
			remove_ideas = FRA_maginot_fund_air
			if = {
				limit = {
					has_manpower > 500000
				}
				add_manpower = -500000
			}
			if = {
				limit = {
					has_manpower > 200000
				}
				add_manpower = -200000
			}
		}
		add_ideas = FRA_defeatism_1
	}
}

# Invitation to French Faction
country_event = {
	id = france.17
	title = france.17.t
	desc = france.17.d
	picture = GFX_report_event_worried_french
	
	is_triggered_only = yes
	
	option = {
		name = france.17.a
		ai_chance = { factor = 90 }
		FRA = {
			country_event = france.18
			add_to_faction = ROOT
		}
		add_ai_strategy = {
			type = alliance
			id = "FRA"
			value = 200
		}
	}

	option = {
		name = france.17.b
		ai_chance = { factor = 10 }
		FRA = { country_event = france.19 }
	}
}

# [Country] Accepts
country_event = {
	id = france.18
	title = france.18.t
	desc = france.18.d
	picture = GFX_report_event_soldiers_in_france
	
	is_triggered_only = yes
	
	option = {
		name = france.18.a
		effect_tooltip = {
			add_to_faction = FROM
		}
	}
}

# [Country] Refuses
country_event = {
	id = france.19
	title = france.19.t
	desc = france.19.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = france.19.a
	}
}

# De Gaulle becomes leader
country_event = {
	id = france.20
	title = france.20.t
	desc = france.20.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = {
		name = france.20.a
		custom_effect_tooltip = france.20.a_tt
		trigger = { tag = FRA }
		set_country_flag = france_de_gaulle
		hidden_effect =  {
			load_focus_tree = free_french_focus
		}
		
		add_country_leader_role = { 
			character = FRA_charles_de_gaulle
			country_leader = {
				ideology = populism 
				expire = "1965.1.1.1" 
				traits = { 
					
				} 
			} 
		}
		FRA_charles_de_gaulle = {
			promote_character = { ideology = populism }
		}
		add_popularity = {
			ideology = liberalism
			popularity = 0.3
		}
		set_politics = {
			ruling_party = liberalism
			elections_allowed = yes
		}
	}
}
news_event = {
	id = france.21 # General Strike in FRI
	title = france.21.t
	desc  = france.21.d
	picture = GFX_news_event_worker_protests
	is_triggered_only = yes
	major = yes
	
	option = { 
		name = france.21.a
		trigger = {
			tag = FRI
		}
		add_timed_idea = {
			idea = BMP_arab_revolt
			days = 50
		}
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		add_popularity = {
			ideology = socialism
			popularity = 0.03
		}					
	}
	option = { 
		name = france.21.b
		trigger = {
			tag = FRA
		}
		#add_political_power = -10
		effect_tooltip = {
			FRI = {
				add_timed_idea = {
					idea = BMP_arab_revolt
					days = 50
				}
			}
		}
	}
	option = { 
		name = france.21.b
		trigger = {
			not = { 
				tag = FRI
			}
			is_subject_of = FRA
		}
		add_stability = -0.05
	}
	option = { 
		name = france.21.c
		trigger = {
			not = { 
				tag = FRA
				is_subject_of = FRA
			}
		}
	}	
}
# French ban on communism
country_event = {
	id = france.24
	title = france.24.t
	desc = france.24.d
	picture = GFX_report_event_molotov_ribentrop_handshake
	
	is_triggered_only = yes
	
	trigger = {
		tag = FRA
		AND = {
			has_global_flag = sov_yes_pact
			NOT = { has_government = communism }
			OR = {
				NOT = { has_country_flag = fra_banned_commies }
				NOT = { has_country_flag = fra_allowed_commies }
			}
		}
		has_completed_focus = FRA_support_daladier
		communism < 0.5
		democratic_govt = yes
		NOT = {
			has_completed_focus = FRA_popular_front_united
			has_global_flag = fall_of_france
		}
	}
	
	fire_only_once = yes
	
	option = {
		ai_chance = {	factor = 10 }
		add_political_power = -20
		name = france.24.a
		add_popularity = {
			ideology = communism
			popularity = -0.3
		}
		if = {
			limit = {
				communism > 0.1
			}
			add_stability = -0.20
		}
		else_if = {
			limit = {
				communism > 0.05
			}
			add_stability = -0.10
		}
		else = {
			add_stability = -0.05
		}
		add_timed_idea = {
			idea = FRA_communism_banned
			days = 360
		} 
		swap_ideas = {
			add_idea = FRA_disjointed_government_1
			remove_idea = FRA_disjointed_government
		}
		add_opinion_modifier = {
			target = SOV
			modifier = FRA_ban_communism
		}
		
		every_other_country = {
			limit = { 
				has_government = communism
			}
			add_opinion_modifier = {
				target = FRA
				modifier = FRA_ban_communism
			}
		}
		hidden_effect = {
			news_event = { id = news.161 hours = 6 }
		}
		set_country_flag = fra_banned_commies
	}
	option = {
		ai_chance = {	factor = 0 }
		name = france.24.b
		set_country_flag = fra_allowed_commies
	}
}
# Vichy France: Germany is handing over some of our land
country_event = {
	id = france.27
	title = france.27.t
	desc = {
		text = france.27.d_1_state 
		trigger = {
			OR = {
				NOT = { has_global_flag = ITA_claims_on_france_735 }
				has_global_flag = ITA_claims_on_france_1
			}
			OR = {
				has_global_flag = ITA_claims_on_france_735
				NOT = { has_global_flag = ITA_claims_on_france_1 }
			}
		} 
	}
	desc = {
		text = france.27.d_both
		trigger = { 
			has_global_flag = ITA_claims_on_france_735 
			has_global_flag = ITA_claims_on_france_1
		} 
	}
	picture = GFX_report_event_worried_french

	is_triggered_only = yes

	option = {
		name = france.27.a
		
		effect_tooltip = {
			if = {
				limit = { has_global_flag = ITA_claims_on_france_735 }
				ITA = { set_state_controller = 735 }
			}
			if = {
				limit = { has_global_flag = ITA_claims_on_france_1 }
				ITA = { set_state_controller = 1 }
			}
		}
		
		#Italy always get Tunisia
		if = {
			limit = { ROOT = { owns_state = 458 } }
			ITA = { transfer_state = 458 }
		}
		if = {
			limit = { ROOT = { owns_state = 665 } }
			ITA = { transfer_state = 665 }
		}
		
		
		if = {
			limit = {
				has_global_flag = ITA_claims_on_france_735
				has_global_flag = ITA_claims_on_france_1
				OR = {
					owns_state = 554
					owns_state = 677
					owns_state = 680
					owns_state = 821
				}

			}
			random_other_country = {
				limit = {
					original_tag = FRA
					democratic_govt = yes
				}
				if = {
					limit = { ROOT = { owns_state = 554 } }
					set_state_controller = 554
				}
				if = {
					limit = { ROOT = { owns_state = 677 } }
					set_state_controller = 677
				}
				if = {
					limit = { ROOT = { owns_state = 680 } }
					set_state_controller = 680
				}
				if = {
					limit = { ROOT = { owns_state = 821 } }
					set_state_controller = 821
				}
				country_event = france.28
			}
		}
	}

}

# France - Britain accepts Ally request
country_event = {
	id = france.29
	title = france.29.t
	desc = france.29.d
	picture = GFX_report_event_handshake_gfxaddon

	is_triggered_only = yes

	option = {
		name = france.29.a
	}
}

# France - Britain denies Ally request
country_event = {
	id = france.30
	title = france.30.t
	desc = france.30.d
	picture = GFX_report_event_chamberlain

	is_triggered_only	= yes

	option = {
		name = france.30.a
	}
}

	##############################
	#### MOD : FRANCE SECTION ####
	##############################
	
#Legislative Election
country_event = {
	id = france.32
	title = france.32.t
	desc = france.32.d
	picture = GFX_report_event_election_vote
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
        tag = FRA
		has_completed_focus = FRA_popular_front
		NOT = {
			has_country_flag = legislative_election
		}
	}
	
	option = {
		name = france.32.a
		set_politics = {
			ruling_party = socialism
			elections_allowed = yes
		}
		set_country_flag = legislative_election
		hidden_effect = {
			country_event = { id = france.4 days = 129 }
		}
	}
}
# The Hoare-Laval Pact
country_event = {
	id = france.33
	title = france.33.t
	desc = france.33.d
	picture = GFX_report_event_pierre_laval
	
	fire_only_once = yes
	is_triggered_only = yes
	

	
	option = {
		name = france.33.a
		retire_country_leader = yes		
		set_politics = {
			ruling_party = liberalism
			elections_allowed = yes
		}
		add_political_power = -15
		hidden_effect = {
			add_ideas = {
				FRA_albert_sarraut_interior_minister
				FRA_pierre_etienne_flandin_foreign_minister
				FRA_vincent_auriol_economic_minister
			}
		}
	}
}

# Blum resigns
country_event = {
	id = france.34
	title = france.34.t
	desc = france.34.d
	picture = GFX_report_event_generic_rally

	is_triggered_only	= yes

	option = {
		name = france.34.a
		retire_country_leader = yes
		
		set_politics = {
			ruling_party = liberalism
			elections_allowed = yes
		}
		add_country_leader_role = { 
			character = FRA_edouard_daladier
			country_leader = {
				ideology = social_liberalism 
				expire = "1965.1.1.1" 
				traits = { 
					stout_defender
					econ_interventionist
				} 
			} 
		}
		FRA_edouard_daladier = {
			promote_character = { ideology = social_liberalism  }
		}
		add_popularity = {
			ideology = socialism
			popularity = -0.20
		}
		add_popularity = {
			ideology = liberalism
			popularity = 0.25
		}
		add_popularity = {
			ideology = communism
			popularity = -0.10
		}
		set_country_flag = blum_resigned
	}
}

# Inflation event
country_event = {
	id = france.35
	title = france.35.t
	desc = france.35.d
	picture = GFX_report_event_inflation_gfxaddon
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
        tag = FRA
		date > 1936.11.01
		democratic_govt = yes
		NOT = { has_global_flag = fall_of_france }
		NOT = { has_country_flag = inflation }
	}
	
	option = {
		name = france.35.a
		custom_effect_tooltip = FRA_inflation_tooltip
		add_ideas = FRA_inflation2
		set_country_flag = inflation
	}
}

# Matignon Agreements
country_event = {
	id = france.36
	title = france.36.t
	desc = france.36.d
	picture = GFX_report_event_worker_protests
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = france.36.a
		#custom_effect_tooltip = FRA_matignon_tooltip
		set_global_flag = matignon_agreements
		mark_focus_tree_layout_dirty = yes
	}
}

# Communists remove their support
country_event = {
	id = france.37
	title = france.37.t
	desc = france.37.d
	picture = GFX_report_event_country_refuses_gfxaddon
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = FRA
		democratic_govt = yes
		OR = {
			has_completed_focus = FRA_matignon_agreements_amendement
			#has_completed_focus = FRA_communist_rhetoric
		}
		NOT = { has_global_flag = fall_of_france }
	}
	
	option = {
		name = france.37.a
		if = {
			limit = {
				is_ai = yes
			}
			add_popularity = {
				ideology = communism
				popularity = 0.02
			}
		}
		else = {
			add_popularity = {
				ideology = communism
				popularity = 0.2
			}
		}
		add_political_power = -50	
		set_country_flag = communist_resigned
	}
}

# Communists support the government
country_event = {
	id = france.38
	title = france.38.t
	desc = france.38.d
	picture = GFX_report_event_communists_cheer
	
	is_triggered_only = yes
	
	option = {
		name = france.38.a
		add_popularity = {
			ideology = communism
			popularity = -0.15
		}
		add_political_power = 75	
		set_country_flag = communist_support
	}
}

# End of the Popular Front
country_event = {
	id = france.39
	title = france.39.t
	desc = france.39.d
	picture = GFX_report_event_generic_sign_treaty2
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
        tag = FRA
		democratic_govt = yes
		NOT = {
			has_completed_focus = FRA_popular_front_united
			has_global_flag = fall_of_france
		}
		OR = {
			AND = {
			check_variable = { global.days_passed > 946 } # 1938-08-04
				NOT = { has_completed_focus = FRA_support_blum }
			}
			AND = {
			check_variable = { global.days_passed > 1269 } # 1939-06-23
				has_completed_focus = FRA_support_blum
			}
		}
	}
	
	option = {
		name = france.39.a
		ai_chance = { factor = 100 }
	}

	option = {
		name = france.39.b
        ai_chance = { factor = 1 }
		swap_ideas = {
			add_idea = FRA_reforms_failed
			remove_idea = FRA_disjointed_government
		}
		set_politics = {
			ruling_party = liberalism
			elections_allowed = yes
		}
		add_popularity = {
			ideology = liberalism
			popularity = 0.2
		}
		hidden_effect = {	
			news_event = { hours = 6 id = news.179 }
			set_country_flag = front_explosed
		}
	}
}

# Invitation BEL and LUX to Allies
country_event = {
	id = france.40
	title = france.40.t
	desc = france.40.d
	picture = GFX_report_event_worried_french
	
	is_triggered_only = yes
	
	option = {
		name = france.40.a
		ai_chance = { factor = 100 }
		add_to_faction = LUX
		add_to_faction = BEL
		LUX = {
			add_ai_strategy = {
				type = alliance
				id = "ENG"
				value = 200
			}
		}
		BEL = {
			add_ai_strategy = {
				type = alliance
				id = "ENG"
				value = 200
			}
		}
		FRA = {
			country_event = france.41
		}
	}

	option = {
		name = france.40.b
		ai_chance = { factor = 0 }
		FRA = { country_event = france.42 }
	}
}

# UK Accepts
country_event = {
	id = france.41
	title = france.41.t
	desc = france.41.d
	picture = GFX_report_event_soldiers_in_france
	
	is_triggered_only = yes
	
	option = {
		name = france.41.a
		hidden_effect = {	
			news_event = { hours = 6 id = worldnews.1 }
		}
	}
}

# UK Refuses
country_event = {
	id = france.42
	title = france.42.t
	desc = france.42.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = france.42.a
	}
}

# La Cagoule Coup
country_event = {
	id = france.43
	title = france.43.t
	desc = france.43.d
	picture = GFX_report_event_fascist_gathering
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = { remove_ideas = fascist_revolutionaries }
	}
	
	option = {
		name = france.43.a
		if = {
			limit = {
				NOT = { has_government = fascism }
			}
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
		}
		set_party_name = { ideology = fascism long_name = FRA_fascism_party3_long name = FRA_fascism_party3 }
		retire_country_leader = yes
		country_event = {id = france.73}	
		add_timed_idea = { idea = reign_of_terror days = 730 }
		add_popularity = {
			ideology = fascism
			popularity = 0.2
		}
	}
	
	option = {
		name = france.43.b
		if = {
			limit = {
				NOT = { has_government = fascism }
			}
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
		}
		set_party_name = { ideology = fascism long_name = FRA_fascism_party3_long name = FRA_fascism_party3 }
		retire_country_leader = yes
		country_event = {id = france.71}
		
		add_timed_idea = { idea = reign_of_terror days = 730 }
		add_popularity = {
			ideology = fascism
			popularity = 0.2
		}
	}
}

# PPF referendum
country_event = {
	id = france.44
	title = france.44.t
	desc = france.44.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes

	option = {
		name = france.44.a
		if = {
			limit = {
				NOT = { has_government = fascism }
			}
			retire_country_leader = yes
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
		}
		set_party_name = { ideology = fascism long_name = FRA_fascism_party2_long name = FRA_fascism_party2 }
		add_popularity = {
			ideology = fascism
			popularity = 0.2
		}
	}
}
country_event = {
	id = france.71
	title = france.71.t
	desc = france.71.d
	picture = GFX_report_event_generic_sign_treaty2
	#hidden = yes
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = france.71.a
		add_country_leader_role = {
			character = FRA_louis_franchet_desperey
			country_leader = {
				ideology = fascism_ideology 
				expire = "1965.1.1.1" 
				traits = { 
					
				} 
			} 
		}
		FRA_louis_franchet_desperey = {
			promote_character = { ideology = fascism_ideology }
		}
	}
}

country_event = {
	id = france.73
	title = france.73.t
	desc = france.73.d
	picture = GFX_report_event_generic_sign_treaty2
	#hidden = yes
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = france.73.a
		promote_character = FRA_philippe_petain
	}
}

# Petain at the government
country_event = {
	id = france.51
	title = france.51.t
	desc = france.51.d
	picture = GFX_report_event_election_vote

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
        tag = FRA
		democratic_govt = yes
		NOT = { has_completed_focus = FRA_popular_front_united }
		has_defensive_war_with = GER 
		check_variable = { global.days_passed > 1628 } # 1940-06-16
	}
	
	option = {
		name = france.51.a
		if = {
			limit = {
				FRA_philippe_petain = { is_country_leader = no }
			}
			#retire_country_leader = yes
			promote_character = FRA_philippe_petain 
		}
		set_country_leader_ideology = vichy
		
		set_country_flag = petain_lead
	}
}

# Remove inflation
country_event = {
	id = france.52
	title = france.52.t
	desc = france.52.d
	picture = GFX_report_event_generic_rally

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_war = yes
		OR = {
			has_idea = FRA_inflation1
			has_idea = FRA_inflation2
			has_idea = FRA_inflation3
		}
		check_variable = { global.days_passed > 1654 } # 1940-07-12
	}
	
	option = {
		name = france.52.a
		remove_ideas = FRA_inflation1
		hidden_effect = { 
			remove_ideas = FRA_inflation2
			remove_ideas = FRA_inflation3
		}
	}
}

# Remove reforms failed idea
country_event = {
	id = france.53
	title = france.53.t
	desc = france.53.d
	picture = GFX_report_event_generic_rally

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_defensive_war_with = GER 
		has_idea = FRA_reforms_failed
			check_variable = { global.days_passed > 1906 } # 1941-03-21
	}
	
	option = {
		name = france.53.a
		remove_ideas = FRA_reforms_failed
	}
}

# Paul Reynaud
country_event = {
	id = france.54
	title = france.54.t
	desc = france.54.d
	picture = GFX_report_event_dealmaking

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
        tag = FRA
		democratic_govt = yes
		NOT = { has_completed_focus = FRA_popular_front_united }
		has_defensive_war_with = GER 
		is_in_faction_with = POL
		POL = { has_capitulated = yes }	
		check_variable = { global.days_passed > 1339 } # 1939-09-01
	}
	option = {
		name = france.54.a
		retire_country_leader = yes
		add_country_leader_role = { 
			character = FRA_paul_reynaud
			country_leader = {
				ideology = social_democracy 
				expire = "1965.1.1.1" 
				traits = { 
					stout_defender
					industry_reformer
				} 
			} 
		}
		FRA_paul_reynaud = {
			promote_character = { ideology = social_democracy }
		}
		set_politics = {
			ruling_party = socialism
		}
		set_country_flag = reynaud_lead
	}
}
	
# Economic Agreement
country_event = {
	id = france.61
	title = france.61.t
	desc = france.61.d
	picture = GFX_report_event_journalists_speech
	
	is_triggered_only = yes
	
	option = {
		name = france.61.a
		ai_chance = { factor = 50 }
		add_tech_bonus = {
			name = FRA_economic_agreement
			bonus = 0.5
			uses = 1
			category = industry
		}
		add_tech_bonus = {
			name = FRA_economic_agreement
			bonus = 0.5
			uses = 3
			category = electronics
		}
	}

	option = {
		name = france.61.b
		ai_chance = { factor = 50 }
		add_tech_bonus = {
			name = FRA_economic_agreement
			bonus = 0.5
			uses = 2
			category = land_doctrine
		}
	}
	
	option = {
		name = france.61.c
		ai_chance = { factor = 50 }
		GER = {
			add_opinion_modifier = { target = FRA modifier = embargo}
			add_opinion_modifier = { target = FRA modifier = sanctions_relations} 
			add_opinion_modifier = { target = ENG modifier = embargo }
			add_opinion_modifier = { target = ENG modifier = sanctions_relations } 
		}
	}
}


# Appoint a Material Designer
country_event = {
	id = france.62
	title = france.62.t
	desc = france.62.d
	picture = GFX_report_event_journalists_speech
	
	is_triggered_only = yes
	
	option = {
		name = france.62.a
		ai_chance = { factor = 50 }
		add_ideas = bayonne
	}

	option = {
		name = france.62.b
		ai_chance = { factor = 50 }
		add_ideas = puteaux
	}
	
	option = {
		name = france.62.c
		ai_chance = { factor = 50 }
		add_ideas = bouton
	}
	
	option = {
		name = france.62.e
		ai_chance = { factor = 50 }
		add_political_power = 90	
	}
}

# Commit a Tank Designer
country_event = {
	id = france.63
	title = france.63.t
	desc = france.63.d
	picture = GFX_report_event_journalists_speech
	
	is_triggered_only = yes
	
	option = {
		name = france.63.a
		ai_chance = { factor = 50 }
		add_ideas = dietrich
	}

	option = {
		name = france.63.b
		ai_chance = { factor = 50 }
		add_ideas = berliet
	}
	
	option = {
		name = france.63.c
		ai_chance = { factor = 50 }
		add_ideas = delaunay
	}
	
	option = {
		name = france.63.e
		ai_chance = { factor = 50 }
		add_political_power = 90	
	}
}

### Forming Vichy
country_event = {
	id = france.65
	title = france.65.t
	desc = france.65.d
	picture = GFX_report_event_german_parade_paris
	hidden = yes
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = france.65.a
			###########
			## ITALY ##
			###########
			if = { #CORSICA
				limit = {
					1 = { #Corsica
						is_controlled_by = ITA 
					}
				}
				ITA = { set_state_controller = 1 }
			}
			else = {
				VIC = { 	
					transfer_state = 1			
				}
				1 = { add_core_of = VIC}
			}
			if = { #SAVOY
				limit = {
					735 = { #Savoy
						is_controlled_by = ITA
					}
				}
				ITA = { set_state_controller = 735 }
			}
			else = {
				VIC = { 	
					transfer_state = 735 
				}
			}
			if = { #PROVENCE
				limit = {
					735 = { #Savoy
						is_controlled_by = ITA
					}
					21 = { 
						is_controlled_by = ITA
					}
				}
				ITA = { set_state_controller = 21 }
			}
			else = {
				VIC = { 	
					transfer_state = 21 
				}
				21 = { add_core_of = VIC }
			}
			if = { #Controlling all 3 states
				limit = {
					735 = { #Savoy
						is_controlled_by = ITA
					}
					21 = { #Provence
						is_controlled_by = ITA
					}
					32 = { #Alpes
						is_controlled_by = ITA
					}
				}
				ITA = { 	
					set_state_controller = 32 
					set_state_controller = 21 
					set_state_controller = 735 
				}
			}
			else = {
				VIC = { 	
					transfer_state = 32 
					transfer_state = 21 
					transfer_state = 735 
				}
			}
			if = {
				limit = { 
					ITA = {
						controls_state = 665
						controls_state = 458
					}
				}
				ITA ={ 
					set_state_controller = 665
					set_state_controller = 458
				}	
			}
			else = {
				annex_country = {
					target = TUN
					transfer_troops = yes
				}
				if = {
					limit = { 
						ITA = {
							controls_state = 665
						}
					}
					ITA ={ 
						set_state_controller = 665					
					}
				}
				else = {
					VIC = { 
						transfer_state = 665
					}
				}
				VIC = {
					transfer_state = 458
				}
			}
			if = {
				limit = { 
					ETH = {
						controls_state = 268
					}
				}
				ETH ={ 
					set_state_controller = 268
				}
			}
			else = {
				268 = { add_core_of = VIC}
				VIC = {
					transfer_state = 268
				}
			}
			VIC = {
				transfer_state = 20
				transfer_state = 22
				transfer_state = 25
				transfer_state = 26
				transfer_state = 31
				transfer_state = 33
				transfer_state = 706
				transfer_state = 708
				transfer_state = 310
				transfer_state = 635
				transfer_state = 641
				transfer_state = 660
				transfer_state = 320
				transfer_state = 272
				transfer_state = 513
				transfer_state = 514
				transfer_state = 515
				transfer_state = 539
				transfer_state = 556
				transfer_state = 863
				transfer_state = 871
				transfer_state = 884
				transfer_state = 557
				transfer_state = 694
				transfer_state = 713
				transfer_state = 462
				transfer_state = 461
				transfer_state = 460
				transfer_state = 459
				transfer_state = 543
				transfer_state = 730
				22 = { add_core_of = VIC}
				26 = { add_core_of = VIC}
				25 = { add_core_of = VIC}
				20 = { add_core_of = VIC}
				31 = { add_core_of = VIC}
				32 = { add_core_of = VIC}
				33 = { add_core_of = VIC}
				557 = { add_core_of = VIC}
				310 = { add_core_of = VIC}
				515 = { add_core_of = VIC}
				513 = { add_core_of = VIC}
				543 = { add_core_of = VIC}
				459 = { add_core_of = VIC}
				460 = { add_core_of = VIC}
				694 = { add_core_of = VIC}
				706 = { add_core_of = VIC}
				708 = { add_core_of = VIC}
				713 = { add_core_of = VIC}
				735 = { add_core_of = VIC}
				31 = { add_core_of = VIC}
				give_military_access = GER
				give_military_access = ITA
				give_military_access = ENG
				give_military_access = FRA
				set_country_flag = FRA_armor
				set_country_flag = FRA_air
			}
			FRA={
				transfer_navy = {
					target = VIC
				}	
				transfer_units_fraction= {
					target = VIC
					size = 0.5
					stockpile_ratio = 0.35
					army_ratio = 0.1
					navy_ratio = 0
					air_ratio = 0.5
					keep_unit_leaders_trigger = {
						always = yes 
					}
				}			
				#Set same cosmetic tag they would get on capitulation
				set_cosmetic_tag = FRA_FREE
				set_nationality = { target_country = VIC character = FRA_pierre_laval }
				set_nationality = { target_country = VIC character = FRA_philippe_petain }
				set_nationality = { target_country = VIC character = FRA_charles_maurras }
				set_nationality = { target_country = VIC character = FRA_weygand_maxime }
				set_nationality = { target_country = VIC character = FRA_audet_sylvestre }
				set_nationality = { target_country = VIC character = FRA_ayme_georges }
				set_nationality = { target_country = VIC character = FRA_jeanmarie_charles_abrial }
				set_nationality = { target_country = VIC character = FRA_jeanpierre_esteva }
				set_nationality = { target_country = VIC character = FRA_reneemile_godfroy }
				set_nationality = { target_country = VIC character = FRA_jean_de_laborde }
				set_nationality = { target_country = VIC character = FRA_decoux_jean }
				set_nationality = { target_country = VIC character = FRA_gensoul_marcel }
				set_nationality = { target_country = VIC character = FRA_marcel_bucard }
				set_nationality = { target_country = VIC character = FRA_georges_valois }
				set_nationality = { target_country = VIC character = FRA_hubert_lagardelle }
				set_nationality = { target_country = VIC character = FRA_paul_baudouin }
				set_nationality = { target_country = VIC character = FRA_charles_huntziger }
				set_nationality = { target_country = VIC character = FRA_jean_francois_jannekeyn }
				set_nationality = { target_country = VIC character = FRA_philippe_henriot }
				set_nationality = { target_country = VIC character = FRA_adrien_marquet }
				set_nationality = { target_country = VIC character = FRA_pierre_costantini }
				set_nationality = { target_country = VIC character = FRA_rene_bousquet }
				set_nationality = { target_country = VIC character = FRA_marcel_deat }
				set_nationality = { target_country = VIC character = FRA_rene_belin }
				set_nationality = { target_country = VIC character = FRA_eugene_schueller }
				set_nationality = { target_country = VIC character = FRA_jacques_correze }
				set_nationality = { target_country = VIC character = FRA_eugene_deloncle }
				set_nationality = { target_country = VIC character = FRA_albert_rivaud }
				set_nationality = { target_country = VIC character = FRA_jean_marie_bergeret }
			}
			BEL = {
				transfer_state = 718
				transfer_state = 538
				transfer_state = 295
			}
			
			if = {
				limit = { 
					SYR = { 
						controls_state = 677
						controls_state = 554
						controls_state = 680
						is_puppet_of = FRA
						NOT = { is_in_faction_with = GER }
					}
				}
				#SYR = {
				#	set_variable = { pup_score = compare_autonomy_progress_ratio }
				#}
				set_autonomy = {
					target = SYR
					autonomy_state = autonomy_free
				}
				SYR = {
					leave_faction = yes
					white_peace = GER
					country_event = { id = vichy.32 hours = 2 } #repuppet
					if = {
						limit = {
							OR = {
								has_idea = Arab_democratic_drift
								has_idea = Arab_liberalism_drift
								}
							}
						remove_ideas = Arab_democratic_drift
						remove_ideas = Arab_liberalism_drift
						add_ideas = Arab_fascist_drift
					}
				}
			}
			if = {
				limit = { 
					LEB = { 
						controls_state = 553
						is_puppet_of = FRA
						NOT = { is_in_faction_with = GER }
					}
				}
				#LEB = {
				#	set_variable = { pup_score = compare_autonomy_progress_ratio }
				#}
				set_autonomy = {
					target = LEB
					autonomy_state = autonomy_free
				}
				LEB =  {
					leave_faction = yes
					white_peace = GER
					country_event = { id = vichy.33 hours = 2 } #repuppet 
					if = {
						limit = {
							OR = {
								has_idea = Arab_democratic_drift
								has_idea = Arab_liberalism_drift
								}
							}
						remove_ideas = Arab_democratic_drift
						remove_ideas = Arab_liberalism_drift
						add_ideas = Arab_fascist_drift
					}
				}
			}


			set_autonomy = {
				target = FRI
				autonomy_state = autonomy_free
			}
			FRI =  {
				leave_faction = yes
				white_peace = GER
				country_event = { id = vichy.37 hours = 2 } #repuppet 
			}
					
			VIC = {
				load_oob = "VIC_1940"
				set_country_flag = philipe_petain
				add_ideas = neutrality_idea_vichy
				add_ideas = FRA_occupation_costs_4
				inherit_technology = FRA
				set_country_flag = FRA_armor
				set_country_flag = FRA_air
				set_temp_variable = { slots = FRA.amount_research_slots }
				if = {
					limit = { check_variable = { slots > 2 } }
					subtract_from_temp_variable = { slots = 2 }
					multiply_temp_variable = { slots = -1 }
					meta_effect = {
						text = {
							VIC = { add_research_slot = [NUM] }
						}
						NUM = "[?slots]"
					}
				}
				add_opinion_modifier = { target = GER modifier = very_large_increase }
				diplomatic_relation = { country = GER relation = non_aggression_pact active = yes }
				diplomatic_relation = { country = ITA relation = non_aggression_pact active = yes }
				##Historical Free France Fleet
				transfer_ship = {
					prefer_name = "Mistral"
					type = destroyer
					target = FRA
				}
				transfer_ship = {
					prefer_name = "Ouragan"
					type = destroyer
					target = FRA
				}
				transfer_ship = {
					prefer_name = "Le Triomphant" #not built at start so not sure it will pick it up
					type = destroyer
					target = FRA
				}
				transfer_ship = {
					prefer_name = "Tigre"
					type = destroyer
					target = FRA
				}
				transfer_ship = {
					prefer_name = "LÃ©opard"
					type = destroyer
					target = FRA
				}
				transfer_ship = {
					prefer_name = "BÃ©arn"
					type = carrier
					target = FRA
				}
				transfer_ship = {
					prefer_name = "Paris"
					type = battleship
					target = FRA
				}
				transfer_ship = {
					prefer_name = "Courbet"
					type = battleship
					target = FRA
				}
				every_other_country = {
					limit = {
						is_in_faction_with = ENG
					}
					add_opinion_modifier = { target = VIC modifier = western_betrayal }
				}
				
				if = {
					limit = {
						21 = { owner = { tag = VIC } }
					}
					give_resource_rights = { receiver = GER state = 21 resources = { coal iron bauxite } }
				}
				
				country_event = { id = vichy.35 days = 30 }
				# FRA Player Switches to Vichy
				if = {
					limit = { FRA = { has_country_flag = become_vichy } }
					change_tag_from = FRA
					recalculate_tag_change = yes
				}
			}
			GER = {
				add_ideas={
					german_payments_vichy 
				}
				#give_military_access = VIC
				add_opinion_modifier = { target = VIC modifier = very_large_increase }
			}
			ITA = {
				#give_military_access = VIC
				add_opinion_modifier = { target = VIC modifier = medium_increase }
			}
			VIC = {
				if = {
					limit = { has_character = FRA_philippe_petain }
					FRA_philippe_petain = { remove_country_leader_role = { ideology = vichy } }#remove this line after advisor token change, and remove Petain's starting country leader role
					add_country_leader_role = {
						character = FRA_philippe_petain
						country_leader = {
							desc = "POLITICS_PHILIPPE_PETAIN_DESC"
							ideology = vichy
							expire = "1965.1.1.1" 
							traits = { dictator fascist_sympathies war_hero } 
						} 
					}
					FRA_philippe_petain = {
						promote_character = { ideology = vichy }
					}
				}
			}
			ENG = {
				mark_focus_tree_layout_dirty = yes
			}
			CAN = {
				mark_focus_tree_layout_dirty = yes
			}
			SAF = {
				mark_focus_tree_layout_dirty = yes
			}
			RAJ = {
				mark_focus_tree_layout_dirty = yes
			}
			AST = {
				mark_focus_tree_layout_dirty = yes
			}
			NZL = {
				mark_focus_tree_layout_dirty = yes
			}
			IRE = {
				if = {
					limit = {
						is_in_faction_with = ENG
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

# Given control over some colonies to FRA-Free
#country_event = {
#	id = france.66
#	title = france.66.t
#	desc = france.66.d
#	picture = GFX_report_event_flag_of_france_gfxaddon
#	hidden = yes
#	
#	fire_only_once = yes
#	is_triggered_only = yes
#	
#	option = {
#		name = france.66.a
#		
#		ai_chance = {
#			factor = 100
#		}
#		
#		hidden_effect = {
#			transfer_state = 706
#			transfer_state = 708
#			transfer_state = 268
#			transfer_state = 310
#			transfer_state = 635
#			transfer_state = 641
#			transfer_state = 728
#			transfer_state = 320
#			transfer_state = 272
#			transfer_state = 556
#			BEL = {
#				transfer_state = 718
#				transfer_state = 538
#				transfer_state = 295
#			}			
#		}
#	}
#}
#country_event = {
#	id = france.67
#	title = france.67.t
#	desc = france.67.d
#	picture = GFX_report_event_generic_sign_treaty2
#	#hidden = yes
#	
#	fire_only_once = yes
#	is_triggered_only = yes
#	
#	option = {
#		name = france.67.a
#		
#		ai_chance = {
#			factor = 100
#		}
#		
#		hidden_effect = {
#			VIC = {
#				if = {
#					limit = { 
#						TUN = { 
#							controls_state = 458
#							not = { is_in_faction_with = GER }
#						}
#					}
#					transfer_state = 458
#					458 = { add_core_of = VIC}
#					annex_country = {
#						target = TUN
#						transfer_troops = yes
#					}
#				}
#				if = {
#					limit = { 
#						TUN = { 
#							controls_state = 665
#							not = { is_in_faction_with = GER }
#						}
#					}
#					transfer_state = 665
#					665 = { add_core_of = VIC }
#				}
#			}
#		}
#	}
#	option = {
#		name = france.67.b
#		
#		ai_chance = {
#			factor = 0
#		}
#	}
#}
#country_event = {
#	id = france.68
#	title = france.68.t
#	desc = france.68.d
#	picture = GFX_report_event_generic_sign_treaty2
#	#hidden = yes
#	
#	fire_only_once = yes
#	is_triggered_only = yes
#	
#	option = {
#		name = france.68.a
#		
#		ai_chance = {
#			factor = 100
#		}
#		
#		hidden_effect = {
#			VIC = {
#				if = {
#					limit = { 
#						MAR = { 
#							controls_state = 461
#							not = { is_in_faction_with = GER }
#						}
#					}
#					transfer_state = 461
#					461 = { add_core_of = VIC}
#					annex_country = {
#						target = MAR
#						transfer_troops = yes
#					}
#				}
#				if = {
#					limit = { 
#						MAR = { 
#							controls_state = 462
#							not = { is_in_faction_with = GER }
#						}
#					}
#					transfer_state = 462
#					462 = { add_core_of = VIC}
#				}
#			}
#		}
#	}
#
#	option = {
#		name = france.68.b
#		
#		ai_chance = {
#			factor = 0
#		}
#	}
#}

# 71, 72, 73, 77 

add_namespace = franceBiceE

# Election Crisis Event
country_event = {
	id = franceBiceE.00
	title = franceBiceE.00.t
	desc = franceBiceE.00.d
	picture = GFX_report_event_fra_protests
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		date > 1936.4.25
		has_war = no
		democratic_govt = yes
		NOT = {
			has_global_flag = fall_of_france
			has_country_flag = FRA_in_crisis
		}
	}
	
	option = {
		name = franceBiceE.00.a
		add_ideas = { FRA_general_strike_3 }
		hidden_effect = {
			set_country_flag = FRA_in_crisis
			set_country_flag = FRA_election_crisis
		}
		add_stability = -0.1
		mark_focus_tree_layout_dirty = yes
	}
}

# Conservatives win election
country_event = {
	id = franceBiceE.01
	title = franceBiceE.01.t
	desc = franceBiceE.01.d
	picture = GFX_report_event_fra_louis_marin
	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		has_completed_focus = FRA_democratic_gov
		NOT = {
			has_country_flag = legislative_election
		}
	}
	
	option = {
		name = franceBiceE.01.a
		set_politics = {
			ruling_party = conservatism
			elections_allowed = yes
		}
		set_country_flag = legislative_election
	}
}

# Electoral Gridlock in France
country_event = {
	id = franceBiceE.02
	title = franceBiceE.02.t
	desc = franceBiceE.02.d
	picture = GFX_report_event_francebice2
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		tag = FRA
	}

	option = {
		name = franceBiceE.02.a
		set_country_flag = legislative_election
	}
}

# Begin Spanish Civil War Crisis
country_event = {
	id = franceBiceE.03
	title = franceBiceE.03.t
	desc = franceBiceE.03.d
	picture = GFX_report_event_spain_civil_war_volunteers
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = legislative_election
		date > 1937.3.1
		has_war = no
		NOT = {
			has_country_flag = FRA_in_crisis
			has_global_flag = fall_of_france
		}
		SPR = {
			exists = yes
			has_civil_war = yes
			surrender_progress > 0.15
		}
	}
	
	option = {
		name = franceBiceE.03.a
		hidden_effect = {
			set_country_flag = FRA_in_crisis
			set_country_flag = FRA_spanish_crisis
		}
		add_stability = -0.1
		add_war_support = 0.05	
		mark_focus_tree_layout_dirty = yes
	}
}

# A Great Power in Name Only
country_event = {
	id = franceBiceE.04
	title = franceBiceE.04.t
	desc = franceBiceE.04.d
	picture = GFX_report_event_francebice4
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = FRA
		has_completed_focus = FRA_military_review
	}
	
	option = {
		name = franceBiceE.04.a
	}
}
# Election Crisis Primer Event
country_event = {
	id = franceBiceE.05
	title = franceBiceE.05.t
	desc = franceBiceE.05.d
	picture = GFX_report_event_francebice2
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		democratic_govt = yes
		date > 1936.3.25
	}
	
	option = {
		name = franceBiceE.05.a
	}
}
# Frances Asks for German Embargo
country_event = {
	id = franceBiceE.06
	title = franceBiceE.06.t
	desc = franceBiceE.06.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.06.a
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				original_tag = HOL
				HOL = {
					democratic_govt = yes
				}
			}
			modifier = {
				add = 100
				original_tag = BEL
				BEL = {
					democratic_govt = yes
				}
			}
			modifier = {
				add = 50
				is_historical_focus_on = no
				original_tag = DEN
				DEN = {
					democratic_govt = yes
				}
			}
			modifier = {
				add = 50
				is_historical_focus_on = no
				original_tag = YUG
				YUG = {
					democratic_govt = yes
				}
			}
		}
		FRA = {
			country_event = franceBiceE.07
		}
	#	GER = {
	#		country_event = franceBiceE.07b
	#	}
		add_opinion_modifier = {
			target = GER
			modifier = embargo
		}
	}
	
	option = {
		name = franceBiceE.06.b
		ai_chance = {
			base = 50
			modifier = {
				add = 50
				has_opinion = {
					target = GER
					value > 80
				}
			}
		}
		FRA = { country_event = franceBiceE.08 }
	}
}

# [Country] Accepts
country_event = {
	id = franceBiceE.07
	title = franceBiceE.07.t
	desc = franceBiceE.07.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.07.a
		add_opinion_modifier = {
			target = FROM
			modifier = small_increase
		}
	}
}

# [Country] Refuses
country_event = {
	id = franceBiceE.08
	title = franceBiceE.08.t
	desc = franceBiceE.08.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.08.a
		add_opinion_modifier = {
			target = FROM
			modifier = small_decrease
		}
	}
}

# French Ultimatum
country_event = {
	id = franceBiceE.09
	title = franceBiceE.09.t
	desc = franceBiceE.09.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.09.b
		ai_chance = {
			factor = 0
			modifier = {
				factor = 20
				GER = {
					has_war_with = SOV
				}
			}
			modifier = {
				factor = 40
				GER = {
					has_war_with = USA
				}
			}
		}
		add_opinion_modifier = {
			target = GER
			modifier = embargo
		}
		FRA = {
			country_event = franceBiceE.10
		}
	}
	
	option = {
		name = franceBiceE.09.a
		ai_chance = { factor = 40 }
		FRA = { country_event = franceBiceE.08 }
	}
}

# [Country] Accepts
country_event = {
	id = franceBiceE.10
	title = franceBiceE.10.t
	desc = franceBiceE.10.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	trigger = {
		TAG = FRA
	}
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.10.a
		add_opinion_modifier = {
			target = FROM
			modifier = small_increase
		}
	}
}

# [Country] Refuses
country_event = {
	id = franceBiceE.11
	title = franceBiceE.11.t
	desc = franceBiceE.11.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.11.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				FROM = {
					is_major = yes
				}
			}
			modifier = {
				factor = 0
				FROM = {
					is_in_faction_with = SOV
				}
			}
		}
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
		declare_war_on = {
			target = FROM
			type = puppet_wargoal_focus
		}
	}
	option = {
		name = franceBiceE.11.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 100
				surrender_progress > 0.2
			}
			modifier = {
				factor = 100
				FROM = {
					is_in_faction_with = SOV
				}
			}
		}
		FROM = { country_event = franceBiceE.12 }
	}
}

# France Backs Down
country_event = {
	id = franceBiceE.12
	title = franceBiceE.12.t
	desc = franceBiceE.12.d
	picture = GFX_report_event_worried_french

	is_triggered_only = yes

	option = {
		name = franceBiceE.12.a
	}
}

# Ask UK For Help in Spain
country_event = {
	id = franceBiceE.13
	title = franceBiceE.13.t
	desc = franceBiceE.13.d
	picture = report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.13.a
		ai_chance = { factor = 100 }
		SPR = {
			add_equipment_to_stockpile = { type = infantry_equipment amount = 1000 producer = ENG }
		}
		FRA = { country_event = franceBiceE.14 }
	}
	option = {
		name = franceBiceE.13.b
		ai_chance = { factor = 0 }
		FRA = { country_event = franceBiceE.15 }
	}
}

# Britain Accepts
country_event = {
	id = franceBiceE.14
	title = franceBiceE.14.t
	desc = franceBiceE.14.d
	picture = report_event_degaulle_churchill

	is_triggered_only = yes

	option = {
		name = franceBiceE.14.a
	}
}

# Britain Declines
country_event = {
	id = franceBiceE.15
	title = franceBiceE.15.t
	desc = franceBiceE.15.d
	picture = report_event_spain_civil_war_volunteers

	is_triggered_only = yes

	option = {
		name = franceBiceE.15.a
	}
}

# Ask UK to declare war on Spain
country_event = {
	id = franceBiceE.16
	title = franceBiceE.16.t
	desc = franceBiceE.16.d
	picture = report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.16.a		# Decalre War
		ai_chance = {
			base = 30
			modifier = {
				add = 10
				ENG = {
					has_completed_focus = ENG_global_defense
				}
			}
			modifier = {
				add = 20
				has_opinion = {
					target = FRA
					value > 50
				}
			}
			modifier = {
				add = 30
				ENG = {
					has_completed_focus = ENG_support_spain
				}
			}
			modifier = {
				factor = 0
				OR = {
					ENG = { has_war_with = JAP }
					ENG = { has_war_with = SOV }
					ENG = { has_war_with = USA }
					ENG = { has_war_with = FRA }
				}
			}
		}
		ENG = {
			declare_war_on = {
				target = SPA
				type = topple_government
			}
			add_to_faction = FRA
			add_to_faction = SPR
		}
	}
	option = {
		name = franceBiceE.16.b		# Refuse
		ai_chance = {
			base = 20
			modifier = {
				add = 10
				SPR = {
					surrender_progress > 0.2
				}
			}
			modifier = {
				add = 30
				ENG = {
					has_completed_focus = uk_rock_focus
				}
			}
			modifier = {
				add = 30
				has_opinion = {
					target = FRA
					value < 0
				}
			}
		}
		FRA = {
			country_event = franceBiceE.15
			set_country_flag = fra_uk_refused_spain_alliance
		}
	}
}

# France Back to Work
country_event = {
	id = franceBiceE.17
	title = franceBiceE.17.t
	desc = franceBiceE.17.d
	picture = GFX_report_event_fra_louis_marin

	is_triggered_only = yes

	option = {
		name = franceBiceE.17.a
		mark_focus_tree_layout_dirty = yes
	}
}

# Recognise Fascist Spain
country_event = {
	id = franceBiceE.18
	title = franceBiceE.18.t
	desc = franceBiceE.18.d
	picture = GFX_report_event_spain_civil_war_volunteers

	is_triggered_only = yes

	option = {
		name = franceBiceE.18.a
		mark_focus_tree_layout_dirty = yes
	}
}

# Spanish Democracy
country_event = {
	id = franceBiceE.19
	title = franceBiceE.19.t
	desc = franceBiceE.19.d
	picture = GFX_report_event_spain_civil_war_volunteers

	is_triggered_only = yes

	option = {
		name = franceBiceE.19.a
		mark_focus_tree_layout_dirty = yes
	}
}

# Spanish Puppet
country_event = {
	id = franceBiceE.20
	title = franceBiceE.20.t
	desc = franceBiceE.20.d
	picture = GFX_report_event_spain_civil_war_volunteers

	is_triggered_only = yes

	option = {
		name = franceBiceE.20.a
		mark_focus_tree_layout_dirty = yes
	}
}

# Inflation gets Worse
country_event = {
	id = franceBiceE.21
	title = franceBiceE.21.t
	desc = franceBiceE.21.d
	picture = GFX_report_event_inflation_gfxaddon
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		date > 1937.8.1
		NOT = { has_global_flag = fall_of_france }
	}
	
	option = {
		name = franceBiceE.21.a
		if = {
			limit = {
				has_idea = FRA_inflation2
			}
			swap_ideas = {
				remove_idea = FRA_inflation2
				add_idea = FRA_inflation3
			}
		}
		if = {
			limit = {
				has_idea = FRA_inflation1
			}
			swap_ideas = {
				remove_idea = FRA_inflation1
				add_idea = FRA_inflation2
			}
		}
		if = {
			limit = {
				NOT = {
					has_idea = FRA_inflation1
					has_idea = FRA_inflation2
					has_idea = FRA_inflation3
				}
			}
			add_ideas = FRA_inflation1
		}
		hidden_effect = {
			set_country_flag = FRA_inflation2_flag
		}
	}
}

# Begin Budget Crisis
country_event = {
	id = franceBiceE.22
	title = franceBiceE.22.t
	desc = franceBiceE.22.d
	picture = GFX_report_event_inflation_gfxaddon
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = legislative_election
		date > 1938.4.1
		NOT = {
			has_war = yes
			has_global_flag = fall_of_france
		}
		OR = {
			has_idea = FRA_inflation3
			AND = {
				has_idea = FRA_matignon_agreements
				has_idea = FRA_inflation2
			}
			AND = {
				has_idea = FRA_stagnant_econ_3
				has_idea = FRA_inflation2
			}
			AND = {
				has_idea = FRA_stagnant_econ_4
				has_idea = FRA_inflation2
			}
			AND = {
				has_idea = FRA_stagnant_econ_5
				has_idea = FRA_inflation2
			}
		}
	}
	
	option = {
		name = franceBiceE.22.a
		if = {
			limit = {
				is_ai = no
			}
			swap_ideas = {
				remove_idea = FRA_inflation3
				add_idea = FRA_inflation4
			}
			add_stability = -0.1
		}	
		else = {
			improve_stag_econ = yes
			swap_ideas = {
				remove_idea = FRA_inflation3
				add_idea = FRA_inflation2
			}			
		}
		hidden_effect = {
			set_country_flag = FRA_in_crisis
			set_country_flag = FRA_budget_crisis_flag
			GER = { country_event = franceBiceE.81 }
			ENG = { country_event = franceBiceE.81 }
		}
		mark_focus_tree_layout_dirty = yes
	}
}

# Free France Appeals to Colonies
country_event = {
	id = franceBiceE.23
	title = franceBiceE.23.t
	desc = franceBiceE.23.d
	picture = GFX_report_event_francebice23
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.23.a		# Remain Loyal to Vichy.
		FRA = { country_event = franceBiceE.24 }
		ai_chance = {
			factor = 80
		}
	}
	option = {
		name = franceBiceE.23.b		# Join the French Resistance!
		add_stability = -0.2
		FRA = {
			puppet = ROOT
			country_event = franceBiceE.25
		}
		VIC = { country_event = franceBiceE.30 }
		ai_chance = {
			factor = 0
			modifier = {
				add = 50
				GER = {
					has_war_with = SOV
				}
			}
			modifier = {
				add = 150
				GER = {
					has_war_with = USA
				}
			}
		}
	}
}

# [Country] Remains Loyal to Vichy
country_event = {
	id = franceBiceE.24
	title = franceBiceE.24.t
	desc = franceBiceE.24.d
	picture = GFX_report_event_francebice24
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.24.a
	}
}

# [Country] Joins Free France
country_event = {
	id = franceBiceE.25
	title = franceBiceE.25.t
	desc = franceBiceE.25.d
	picture = GFX_report_event_francebice23
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.25.a
	}
}

# Pacific Colonies Join Free France
country_event = {
	id = franceBiceE.26
	title = franceBiceE.26.t
	desc = franceBiceE.26.d
	picture = GFX_report_event_francebice23
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.26.a
	}
}

# Free France Appeals to the Navy
country_event = {
	id = franceBiceE.27
	title = franceBiceE.27.t
	desc = franceBiceE.27.d
	picture = GFX_report_event_francebice27
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.27.a		# Keep the Navy Loyal to us.
		FRA = { country_event = franceBiceE.28 }
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = franceBiceE.27.b		# Let the Navy join Degualle.
		FRA = { country_event = franceBiceE.29 }
		transfer_navy = {
			target = FRA
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				GER = {
					has_war_with = SOV
				}
			}
			modifier = {
				add = 150
				GER = {
					has_war_with = USA
				}
			}
		}
	}
}

# The Navy Remains Loyal to Vichy
country_event = {
	id = franceBiceE.28
	title = franceBiceE.28.t
	desc = franceBiceE.28.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.28.a
	}
}

# The Navy Defects to Free France!
country_event = {
	id = franceBiceE.29
	title = franceBiceE.29.t
	desc = franceBiceE.29.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.29.a
	}
}

# [Country] Has Defected to Free France!
country_event = {
	id = franceBiceE.30
	title = franceBiceE.30.t
	desc = franceBiceE.30.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.30.a
	}
}

# The Army of Africa Defects to Free France
country_event = {
	id = franceBiceE.31
	title = franceBiceE.31.t
	desc = franceBiceE.31.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.31.a
		hidden_effect = {
			load_oob = "FRA_Torch_historical"
			set_country_flag = FRA_africa_army_defection
		}
	}
}

# German Response to French Intervention in Spanish Civil War
country_event = {
	id = franceBiceE.40
	title = franceBiceE.40.t
	desc = franceBiceE.40.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	trigger = {
		tag = GER
		FRA = {
			has_war_with = SPA
		}
	}
	
	option = {
		name = franceBiceE.40.a		# Declare war on France
		GER = {
			declare_war_on = {
				target = FRA
				type = annex_everything
			}
			add_stability = -0.2
			add_war_support = 0.1
		}
		if = {
			limit = {
				FRA = {
					NOT = { is_in_faction_with = ENG }
					NOT = { is_in_faction_with = SOV }
				}
			}
			FRA = {
				set_rule = { can_create_factions = yes }
				create_faction = "french_entente_alliance"
				set_country_flag = FRA_surrounded_by_spain
				set_country_flag = fra_finalize_little_entente
			}
			FRA = {
				add_to_faction = SPR
			}
			CZE = {
				country_event = { days = 5 id = franceBiceE.41 }
			}
			ROM = {
				country_event = { days = 8 id = franceBiceE.41 }
			}
			YUG = {
				country_event = { days = 12 id = franceBiceE.41 }
			}
			POL = {
				country_event = { days = 16 id = franceBiceE.41 }
			}
		}
		hidden_effect = {
			news_event = { id = franceBiceE.82 hours = 6 }
			FRA = {
				clr_country_flag = FRA_in_crisis
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 15
				AND = {
					ROM = { democratic_govt = no }
					YUG = { democratic_govt = no }
				}
			}
			modifier = {
				add = 15
				AND = {
					POL = { democratic_govt = no }
					CZE = { democratic_govt = no }
				}
			}
			modifier = {
				add = 20
				GER = {
					is_in_faction_with = ITA
				}
			}
			modifier = {
				add = 50
				GER = {
					has_army_manpower = {
						size > 999999
					}
				}
			}
		}
	}
	option = {
		name = franceBiceE.40.b		# We are not yet ready
		ai_chance = {
			base = 50
			modifier = {
				add = 25
				OR = {
					FRA = { is_in_faction_with = POL }
					FRA = { is_in_faction_with = ROM }
					FRA = { is_in_faction_with = CZE }
				}
			}
			modifier = {
				add = 50
				OR = {
					FRA = { is_in_faction_with = SOV }
					FRA = { is_in_faction_with = ENG }
				}
			}
		}
	}
}

# France calls on Little Entente to war against Germany
country_event = {
	id = franceBiceE.41
	title = franceBiceE.41.t
	desc = franceBiceE.41.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.41.a		# Declare war on Germany
		declare_war_on = {
			target = GER
			type = topple_government
		}
		if = {
			limit = {
				FRA = { is_faction_leader = yes }
			}
			FRA = {
				add_to_faction = ROOT
			}
		}
		if = {
			limit = {
				FRA = { is_in_faction_with = ENG }
				ENG = { is_faction_leader = yes }
			}
			ENG = {
				add_to_faction = ROOT
			}
		}
		if = {
			limit = {
				FRA = { is_in_faction_with = SOV }
				SOV = { is_faction_leader = yes }
			}
			SOV = {
				add_to_faction = ROOT
			}
		}
		ai_chance = {
			base = 10
			modifier = {
				add = 20
				OR = {
					ROM = { has_war_with = GER }
					CZE = { has_war_with = GER }
					POL = { has_war_with = GER }
					YUG = { has_war_with = GER }
				}
			}
			modifier = {
				add = 20
				has_army_manpower = {
					size > 300000
				}
			}
			modifier = {
				add = 30
				OR = {
					democratic_govt = yes
					has_opinion = {
						target = FRA
						value > 70
					}
				}
			}
			modifier = {
				add = 50
				OR = {
					ENG = { has_war_with = GER }
					SOV = { has_war_with = GER }
				}
			}
		}
	}
	option = {
		name = franceBiceE.41.b		# We remain neutral
		add_stability = 0.1
		FRA = { country_event = { id = franceBiceE.42 } }
		ai_chance = {
			base = 20
			modifier = {
				add = 20
				is_historical_focus_on = yes
			}
			modifier = {
				add = 20
				OR = {
					GER = { num_faction_members > 3 }
					ITA = { is_in_faction_with = GER }
				}
			}
			modifier = {
				add = 30
				OR = {
					GER = {
						has_army_manpower = {
							size > 999999
						}
					}
					has_opinion = {
						target = GER
						value > 70
					}
				}
			}
			modifier = {
				add = 500
				has_government = fascism
			}
		}
	}
}

# FROM Declares Neutrality
country_event = {
	id = franceBiceE.42
	title = franceBiceE.42.t
	desc = franceBiceE.42.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {		# Dissapointing
		name = franceBiceE.42.a
		add_opinion_modifier = {
			target = FROM
			modifier = small_decrease
		}
	}
}

# Germany: FROM Embargoes Us!
country_event = {
	id = franceBiceE.45
	title = franceBiceE.45.t
	desc = franceBiceE.45.d
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.45.a
		add_opinion_modifier = {
			target = FROM
			modifier = small_decrease
		}
	}
}

########## BiceE France News Events ##########

# France Intervenes in Spain
news_event = {
	id = franceBiceE.80
	title = franceBiceE.80.t
	desc = franceBiceE.80.d
	
	fire_only_once = yes
	picture = GFX_news_event_032
	is_triggered_only = yes
	
	major = yes
	
	option = {
		name = franceBiceE.80.a
		trigger = {
			NOT = {
				tag = GER
				tag = ITA
				tag = SPR
				tag = SPA
			}
		}
	}
	option = {
		name = franceBiceE.80.b
		trigger = {
			OR = {
				tag = GER
				tag = ITA
			}
		}
	}
	option = {
		name = franceBiceE.80.c
		trigger = {
			tag = SPR
		}
		add_opinion_modifier = { target = FRA modifier = very_large_increase }
	}
	option = {
		name = franceBiceE.80.e
		trigger = {
			tag = SPA
		}
	}
}

# French Inflation Crisis News (GER and ENG)
country_event = {
	id = franceBiceE.81
	title = franceBiceE.81.t
	desc = franceBiceE.81.d
	
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.81.a
	}
}

# France Appeals to Little Entente
news_event = {
	id = franceBiceE.82
	title = franceBiceE.82.t
	desc = franceBiceE.82.d
	
	fire_only_once = yes
	is_triggered_only = yes
	major = yes
	
	option = {
		name = franceBiceE.82.a
		trigger = {
			NOT = {
				tag = GER
			}
		}
	}
	option = {
		name = franceBiceE.82.b
		trigger = {
			tag = GER
		}
	}
}

# French 36 Election - Popular Front (GER and ENG)
news_event = {
	id = franceBiceE.83
	title = franceBiceE.83.t
	desc = franceBiceE.83.d
	
	picture = GFX_news_event_election_vote
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.83.a
	}
}

# French 36 Election - Conservative Government (GER and ENG)
country_event = {
	id = franceBiceE.84
	title = franceBiceE.84.t
	desc = franceBiceE.84.d
	
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.84.a
	}
}

# France Rushes to Finalize Little Entente Alliance
news_event = {
	id = franceBiceE.85
	title = franceBiceE.85.t
	desc = franceBiceE.85.d
	
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	fire_only_once = yes
	is_triggered_only = yes
	major = yes
	
	option = {
		name = franceBiceE.85.a
		trigger = {
			tag = FRA
		}
		if = {
			limit = {
				NOT = { has_completed_focus = FRA_invite_yugoslavia }
				YUG = {
					exists = yes
					is_puppet = no
					NOT = { has_war_with = FRA }
				}
			}
			YUG = { country_event = { id = france.17 days = 12 } }
		}
		if = {
			limit = {
				NOT = { has_completed_focus = FRA_invite_romania }
				ROM = {
					exists = yes
					is_puppet = no
					NOT = { has_war_with = FRA }
				}
			}
			ROM = { country_event = { id = france.17 days = 14 } }
		}
		if = {
			limit = {
				NOT = { has_completed_focus = FRA_invite_poland }
				POL = {
					exists = yes
					is_puppet = no
					NOT = { has_war_with = FRA }
				}
			}
			POL = { country_event = { id = france.17 days = 16 } }
		}
		set_country_flag = fra_finalize_little_entente
	}
	option = {
		name = franceBiceE.85.b
		trigger = {
			tag = GER
		}
	}
	option = {
		name = franceBiceE.85.c
		trigger = {
			NOT = {
				tag = GER
				tag = FRA
			}
		}
	}
}

# Louis Marin resigns (Daladier)
country_event = {
	id = franceBiceE.86
	title = franceBiceE.86.t
	desc = franceBiceE.86.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes

	option = {
		name = franceBiceE.86.a
		retire_country_leader = yes
		
		set_politics = {
			ruling_party = liberalism
			elections_allowed = yes
		}
		add_country_leader_role = { 
			character = FRA_edouard_daladier
			country_leader = {
				ideology = social_liberalism 
				expire = "1965.1.1.1" 
				traits = { 
					stout_defender
					econ_interventionist
				} 
			} 
		}
		FRA_edouard_daladier = {
			promote_character = { ideology = social_liberalism }
		}
		
		add_popularity = {
			ideology = conservatism
			popularity = -0.20
		}
		add_popularity = {
			ideology = liberalism
			popularity = 0.25
		}
		add_popularity = {
			ideology = communism
			popularity = -0.10
		}
		set_country_flag = blum_resigned
	}
}

# Louis Marin resigns (Blum)
country_event = {
	id = franceBiceE.87
	title = franceBiceE.87.t
	desc = franceBiceE.87.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes

	option = {
		name = franceBiceE.87.a
		retire_country_leader = yes
		
		set_politics = {
			ruling_party = socialism
			elections_allowed = yes
		}
		
		add_popularity = {
			ideology = conservatism
			popularity = -0.20
		}
		add_popularity = {
			ideology = socialism
			popularity = 0.25
		}
		add_popularity = {
			ideology = communism
			popularity = -0.10
		}
		set_country_flag = blum_resigned
	}
}

######### Free France News Events ##########

# French Pacific Colonies Defect to Free France!
country_event = {
	id = franceBiceE.90
	title = franceBiceE.90.t
	desc = franceBiceE.90.d
	
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.90.a
	}
}

# West Africa Defects to Free France!
country_event = {
	id = franceBiceE.91
	title = franceBiceE.91.t
	desc = franceBiceE.91.d
	
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.91.a
	}
}

# Vichy Navy Defects to Free France
country_event = {
	id = franceBiceE.92
	title = franceBiceE.92.t
	desc = franceBiceE.92.d
	
	picture = GFX_report_event_flag_of_france_gfxaddon
	
	is_triggered_only = yes
	
	option = {
		name = franceBiceE.92.a
	}
}

### EOF ###

