###################################################
#Black I.C.E. Politics by Aquillo
###################################################

add_namespace = foreign_minister

@MIN_DAYS = 20
@MAX_DAYS = 60
@MIN_DAYS_WAR = 50
@MAX_DAYS_WAR = 150

@LAST_EVENT_CHANCE_1 = 0.05
@LAST_EVENT_CHANCE_2 = 0.25
@LAST_EVENT_CHANCE_3 = 0.50

#foreign minister adventures
country_event = {
	id = foreign_minister.1
	title = foreign_minister.1.t
	hidden = yes  #timeout
    timeout_days = 1
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = has_foreign_minister
	}
	
	immediate = { 
		random_list = {
			seed = global.daily_random
			#trade mission
			20 = {
				country_event = foreign_minister.2
				modifier = {
					factor = 2
					has_idea_with_trait = smooth_talking_charmer
				}
				modifier = {
					factor = 0.5
					has_idea_with_trait = ideological_crusader
				}
				modifier = {
					factor = 10
					has_idea = SOV_maksim_litvinov_foreign_minister
				}	
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_trade_mission } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_trade_mission } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_trade_mission } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_trade_mission }
			}
			#Equipment Purchase
			20 = {
				country_event = foreign_minister.3
				modifier = {
					factor = 2
					has_idea_with_trait = tough_negotiator
				}
				modifier = {
					factor = 0.5
					has_idea_with_trait = compassionate_gentleman
				}
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_equipment_purchase } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_equipment_purchase } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_equipment_purchase } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_equipment_purchase }
			}	
			#Small Treaty
			20 = {
				country_event = foreign_minister.6
				modifier = {
					factor = 2
					has_idea_with_trait = compassionate_gentleman
				}
				modifier = {
					factor = 0.5
					has_idea_with_trait = iron_fisted_brute
				}
				modifier = {
					factor = 10
					has_idea = SOV_maksim_litvinov_foreign_minister
				}
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_small_treaty } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_small_treaty } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_small_treaty } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_small_treaty }
			}
			#Minor Ultimatum
			20 = {
				country_event = foreign_minister.7
				modifier = {
					factor = 2
					has_idea_with_trait = iron_fisted_brute
				}
				modifier = {
					factor = 0.5
					has_idea_with_trait = policy_expert
				}
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_minor_ultimatum } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_minor_ultimatum } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_minor_ultimatum } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_minor_ultimatum }
			}	
			#Ask to Join a mini embargo
			20 = {
				country_event = foreign_minister.8
				modifier = {
					factor = 2
					has_idea_with_trait = ideological_crusader
				}
				modifier = {
					factor = 0.5
					has_idea_with_trait = tough_negotiator
				}
				modifier = {
					factor = 10
					has_idea = SOV_maksim_litvinov_foreign_minister
				}	
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_mini_embargo } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_mini_embargo } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_mini_embargo } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_mini_embargo }
			}
			#PP boost
			20 = {
				country_event = foreign_minister.9
				modifier = {
					factor = 2
					has_idea_with_trait = policy_expert
				}
				modifier = {
					factor = 0.5
					has_idea_with_trait = ideological_crusader
				}	
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_joint_industrial } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_joint_industrial } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_joint_industrial } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_joint_industrial }
			}
			#Autonomy boost
			20 = {
				country_event = foreign_minister.10
				modifier = {
					factor = 0
					is_subject = no
				}
				modifier = {
					factor = 0
					NOT = { has_dlc = "Together for Victory" }
				}
				modifier = {
					factor = 2
					has_idea_with_trait = independent_guy
				}
				modifier = {
					factor = 0.5
					has_idea_with_trait = overlord_guy
				}
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_autonomy_increase } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_autonomy_increase } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_autonomy_increase } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_autonomy_increase }
			}
			#Autonomy decrease
			10 = {
				country_event = foreign_minister.11
				modifier = {
					factor = 0
					num_subjects < 1
				}	
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_autonomy_decrease } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_autonomy_decrease } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_autonomy_decrease } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_autonomy_decrease }
			}
			#Army Training
			20 = {
				country_event = foreign_minister.12
				modifier = {
					factor = 2
					has_idea_with_trait = tough_guy
				}
				modifier = {
					factor = 0
					is_faction_leader = yes
				}			
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_army_training } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_army_training } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_army_training } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_army_training }		
			}
			#Foreign Volunteers
			15 = {
				country_event = foreign_minister.13		
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_volunteer } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_volunteer } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_volunteer } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_volunteer }
			}
			#Foreign influence
			10 = {
				country_event = foreign_minister.14
				modifier = {
					factor = 2
					has_idea_with_trait = ideological_crusader
				}
				modifier = {
					#monarchy doesn't really spread so well
					factor = 0
					has_government = monarchism 
				}
				modifier = {
					#can't spread when you are a subject
					factor = 0
					is_subject = yes
				}			
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_influence } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_influence } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_influence } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_influence }
			}
			#Foreign peace
			10 = {
				country_event = foreign_minister.15
				modifier = {
					factor = 10
					has_idea = SOV_maksim_litvinov_foreign_minister
				}			
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_peace } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_peace } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_peace } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_peace }					
			}
			#Private Import
			4 = {
				set_variable_to_random = {
					var = foreign_minister_resource
					min = 0
					max = 9
					integer = yes
				}
				country_event = foreign_minister.17
				
				modifier = {
					factor = 5
					has_country_flag = has_free_trade
				}
				modifier = {
					factor = 2
					has_country_flag = has_export_focus
				}
				modifier = {
					factor = 0.2
					has_country_flag = has_closed_economy
				}		
				modifier = {
					factor = 1.1
					has_idea_with_trait = tough_negotiator
				}		
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_private_import } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_private_import } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_private_import } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_private_import }
			}
			#Expats
			12 = {
				country_event = foreign_minister.18
				modifier = {
					factor = 1.5
					has_idea_with_trait = smooth_talking_charmer
				}	
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_expats } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_expats } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_expats } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_expats }
			}
			#LON speech
			12 = {
				country_event = foreign_minister.19
				modifier = {
					factor = 1.5
					has_idea_with_trait = smooth_talking_charmer
				}
				modifier = {
					factor = 1.25
					has_idea_with_trait = ideological_crusader
				}
				modifier = {
					factor = 0
					NOT = {
						has_country_flag = league_member
					}
				}	
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_league_speech } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_league_speech } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_league_speech } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_league_speech }
			}
			#Food sale
			15 = {
				country_event = foreign_minister.20
				modifier = {
					factor = 0
					check_variable = { food < 125 }
				}	
				
				modifier = {
					factor = recent_mult?1
					if = { limit = { check_variable = { last_foreign_event_1 = token:foreign_food_sale } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_1 } }
					else_if = { limit = { check_variable = { last_foreign_event_2 = token:foreign_food_sale } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_2 } }
					else_if = { limit = { check_variable = { last_foreign_event_3 = token:foreign_food_sale } } set_temp_variable = { recent_mult = @LAST_EVENT_CHANCE_3 } }
				}
				set_temp_variable = { selected = token:foreign_food_sale }
			}
		}
		
		set_variable = { last_foreign_event_3 = last_foreign_event_2 }
		set_variable = { last_foreign_event_2 = last_foreign_event_1 }
		set_variable = { last_foreign_event_1 = selected }
	}
}

#trade mission
country_event = {
	id = foreign_minister.2
	title = foreign_minister.2.t
	desc  = foreign_minister.2.desc
	is_triggered_only = yes
	picture = GFX_report_event_generic_negotiations
	minor_flavor = yes
	
	option = {
		name = foreign_minister.2.a
		random_other_country = {
			limit = {
				not = { 
					has_war_with = ROOT 
					is_subject_of = ROOT
				}
				
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = trade_mission
			}
		}
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Equipment Purchase or Sale?
country_event = {
	id = foreign_minister.3
	title = foreign_minister.3.t
	desc  = foreign_minister.3.desc
	is_triggered_only = yes
	picture = GFX_event_arms_producer
	minor_flavor = yes

	option = {
		ai_chance = {
			factor = 50
		}
		name = foreign_minister.3.a #buy weapons
		country_event = { id = foreign_minister.4 days = 5 random_days = 10 }
		if = {
			limit = {
				OR = {
					check_variable = { global.event_random < 60 }
					AND = {
						OR = {
							has_idea_with_trait = tough_negotiator
							has_idea_with_trait = smooth_talking_charmer
							has_idea_with_trait = tough_guy
						}										
						check_variable = { global.event_random < 25 }
					}
				}				
			}
			custom_effect_tooltip = foreign_minister_buy_normal
		}
		else = {
			custom_effect_tooltip = foreign_minister_buy_good
			set_country_flag = good_deal
		}		
	}
	option = {
		ai_chance = {
			factor = 50
		}
		name = foreign_minister.3.b #sell weapons
		country_event = { id = foreign_minister.5 days = 5 random_days = 10 }
		if = {
			limit = {
				OR = {
					check_variable = { global.event_random < 60 }
					AND = {
						OR = {
							has_idea_with_trait = tough_negotiator
							has_idea_with_trait = smooth_talking_charmer
						}										
						check_variable = { global.event_random < 25 }
					}
				}				
			}
			custom_effect_tooltip = foreign_minister_sell_normal
		}
		else = {
			custom_effect_tooltip = foreign_minister_sell_good
			set_country_flag = good_deal
		}
	}
}
#Equipment buy stuff
country_event = {
	id = foreign_minister.4
	title = foreign_minister.4.t
	desc  = foreign_minister.4.desc
	is_triggered_only = yes
	picture = GFX_event_arms_producer
	minor_flavor = yes

	option = {
		name = foreign_minister.4.a #buy weapons
		random_other_country = {
			limit = {
				not = { 
					has_war_with = ROOT 
				}
				is_in_faction = no
				has_opinion = {
					target = ROOT
					value > 0
				}
				has_equipment = {
					infantry_equipment > 99
				}
			}
			if = {
				limit = {
					ROOT = {
						has_country_flag = good_deal
					}
				}
				send_equipment = {
					equipment = infantry_equipment
					amount = 75
					target = ROOT
				}
			}
			else = {
				send_equipment = {
					equipment = infantry_equipment
					amount = 50
					target = ROOT
				}
			}
			add_political_power = 10
		}
		
	}
	option = {
		name = foreign_minister.4.b #say no
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Equipment sell stuff
country_event = {
	id = foreign_minister.5
	title = foreign_minister.5.t
	desc  = foreign_minister.5.desc
	is_triggered_only = yes
	picture = GFX_event_arms_producer
	minor_flavor = yes

	option = {
		name = foreign_minister.5.a #sell weapons
		if = {
			limit = {
				has_country_flag = good_deal
			}
			add_political_power = 25
		}
		else = {
			add_political_power = 15
		}
		random_other_country = {
			limit = {
				not = { 
					has_war_with = ROOT 
				}
				is_in_faction = no
				has_opinion = {
					target = ROOT
					value > 0
				}
			}
			ROOT = {
				send_equipment = {
					equipment = infantry_equipment
					amount = 100
					target = PREV
				}
			}
		}	
	}
	option = {
		name = foreign_minister.5.b #say no
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Small Treaty
country_event = {
	id = foreign_minister.6
	title = foreign_minister.6.t
	desc  = foreign_minister.6.desc
	is_triggered_only = yes
	picture = GFX_report_event_diplomats
	minor_flavor = yes
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_idea = SOV_maksim_litvinov_foreign_minister
				}
				random_other_country = {
					limit = {
						not = { 
							has_government = fascism
							is_subject_of = ROOT							
						}
					}
					save_event_target_as = treaty_target
				}
			}
			else = {
				random_other_country = {
					limit = {
						not = { 
							has_war_with = ROOT 
							is_subject_of = ROOT
						}
					}		
					save_event_target_as = treaty_target
				}
			}
		}
	}
	option = {
		name = foreign_minister.6.a
		event_target:treaty_target = {
			add_opinion_modifier = {
				target = ROOT
				modifier = tiny_increase
			}
		}
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Mini Ultimatum
country_event = {
	id = foreign_minister.7
	title = foreign_minister.7.t
	desc  = foreign_minister.7.desc
	is_triggered_only = yes
	picture = GFX_report_event_ultimatum
	minor_flavor = yes
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					not = { has_war_with = ROOT }
					is_in_faction = no
					strength_ratio = {
						tag = ROOT
						ratio < 1
					}
					is_subject = no
				}
				save_event_target_as = ulti_target
			}
		}
	}
	option = {
		name = foreign_minister.7.a
		add_political_power = 10
		event_target:ulti_target = { #lets update this line
			add_opinion_modifier = {
				target = ROOT
				modifier = kinda_angry
			}
			add_political_power = -5				
		}
	}
	option = {
		name = foreign_minister.7.b
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Ask to Join a mini embargo
country_event = {
	id = foreign_minister.8
	title = foreign_minister.8.t
	desc  = foreign_minister.8.desc
	is_triggered_only = yes
	picture = GFX_report_event_merchant_ship_gfxaddon
	minor_flavor = yes
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_idea = SOV_maksim_litvinov_foreign_minister
				}
				GER = {
					save_event_target_as = embargo_target
				}
			}
			else = {
				random_other_country = {
					limit = {
						has_opinion = {
							target = ROOT
							value < -20
						}
					}
					save_event_target_as = embargo_target
				}
			}
		}
	}
	option = {
		name = foreign_minister.8.a
		random_other_country = {
			limit = {
				has_opinion = {
					target = ROOT
					value > 0
				}
			}
			add_opinion_modifier = {
				target = event_target:embargo_target
				modifier = minor_embargo
			}
			reverse_add_opinion_modifier = {
				target = ROOT
				modifier = tiny_increase
			}
		}
	}
	option = {
		name = foreign_minister.8.b
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Industry Developement
country_event = {
	id = foreign_minister.9
	title = foreign_minister.9.t
	desc  = foreign_minister.9.desc
	is_triggered_only = yes
	picture = GFX_event_truck_maintainence
	minor_flavor = yes
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					not = { has_war_with = ROOT }
					is_subject = no
				}	
				save_event_target_as = industry_target
			}
		}
	}
	option = {
		name = foreign_minister.9.a
		add_political_power = 10
		event_target:industry_target = {
			add_political_power = 5
			add_intel = {
				target = ROOT
				civilian_intel = 2
			}
		}
		add_intel = {
			target = event_target:industry_target
			civilian_intel = 2
		}
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Autonomy boost
country_event = {
	id = foreign_minister.10
	title = foreign_minister.10.t
	desc  = foreign_minister.10.desc
	is_triggered_only = yes
	picture = GFX_report_event_generic_read_write
	minor_flavor = yes
	immediate = {
	}
	option = {
		name = foreign_minister.10.a
		add_autonomy_ratio = {
			value = 0.02
			localization = diplomatic_effort_autonomy
		}
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Autonomy decrease
country_event = {
	id = foreign_minister.11
	title = foreign_minister.11.t
	desc  = foreign_minister.11.desc
	is_triggered_only = yes
	picture = GFX_report_event_generic_read_write
	minor_flavor = yes
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					is_subject_of = ROOT
				}	
				save_event_target_as = subject_target
			}
		}
	}
	option = {
		name = foreign_minister.11.a
		add_political_power = 5
		event_target:subject_target = {
			add_autonomy_ratio = {
				value = -0.01
				localization = diplomatic_effort_autonomy
			}
		}
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Joint Army Training
country_event = {
	id = foreign_minister.12
	title = foreign_minister.12.t
	desc  = foreign_minister.12.desc
	is_triggered_only = yes
	picture = GFX_report_event_little_entente_joint_training
	minor_flavor = yes
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					not = { has_war_with = ROOT }
					is_in_faction = no
					num_divisions > 0
					has_opinion = {
						target = ROOT
						value > 0
					}
				}
				save_event_target_as = army_target
			}
		}
	}
	option = {
		name = foreign_minister.12.a
		army_experience = 7
		IF = {
			limit = {
				has_deployed_air_force_size = {
					size > 0
				}
			}
			air_experience = 3
		}
		event_target:army_target = {
			army_experience = 5
			IF = {
				limit = {
					has_deployed_air_force_size = {
						size > 0
					}
				}
				air_experience = 2
			}
		}
		add_intel = {
			target = event_target:army_target
			army_intel = 2
			airforce_intel = 1
		}		
	}
	option = {
		name = foreign_minister.12.b
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Foreign Volunteers
country_event = {
	id = foreign_minister.13
	title = foreign_minister.13.t
	desc  = foreign_minister.13.d
	is_triggered_only = yes
	picture = GFX_report_event_little_entente_joint_training
	minor_flavor = yes
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					not = { has_war_with = ROOT }
				}	
				save_event_target_as = vol_target
			}
		}
	}
	option = {
		name = foreign_minister.13.a
		add_manpower = 50		
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Foreign politics
country_event = {
	id = foreign_minister.14
	title = foreign_minister.14.t
	desc  = foreign_minister.14.d
	is_triggered_only = yes
	picture = GFX_report_event_diplomats
	minor_flavor = yes
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					has_elections = yes 
					same_ideology = no
				}	
				save_event_target_as = politic_target
			}
		}
	}
	option = {
		name = foreign_minister.14.a
		if = {
			limit = {
				has_government = conservatism
			}
			event_target:politic_target = {
				add_timed_idea = {
					idea = organised_conservatism
					days = 100
				}
			}
		}
		else_if = {
			limit = {
				has_government = liberalism
			}
			event_target:politic_target = {
				add_timed_idea = {
					idea = organised_liberalism
					days = 100
				}
			}
		}
		else_if = {
			limit = {
				has_government = socialism
			}
			event_target:politic_target = {
				add_timed_idea = {
					idea = organised_socialism
					days = 100
				}
			}
		}
		else_if = {
			limit = {
				has_government = agrarianism
			}
			event_target:politic_target = {
				add_timed_idea = {
					idea = organised_agrarianism
					days = 100
				}
			}
		}
		else_if = {
			limit = {
				has_government = communism
			}
			event_target:politic_target = {
				add_timed_idea = {
					idea = organised_communism
					days = 100
				}
			}
		}
		else_if = {
			limit = {
				has_government = fascism
			}
			event_target:politic_target = {
				add_timed_idea = {
					idea = organised_fascism
					days = 100
				}
			}
		}
		else_if = {
			limit = {
				has_government = neutrality
			}
			event_target:politic_target = {
				add_timed_idea = {
					idea = organised_neutrality
					days = 100
				}
			}
		}
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Foreign peace
country_event = {
	id = foreign_minister.15
	title = foreign_minister.15.t
	desc  = foreign_minister.15.d
	is_triggered_only = yes
	picture = GFX_report_event_handshake_gfxaddon
	minor_flavor = yes
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					not = { has_war_with = ROOT }
					has_opinion = {
						target = ROOT
						value < 0
					}
				}	
				save_event_target_as = peace_target
			}
		}
	}
	option = {
		name = foreign_minister.15.a
		event_target:peace_target = {
			add_war_support = -0.02
			country_event = { id = foreign_minister.16 }
		}
	}
	option = {
		name = foreign_minister.15.b
	}

	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Foreign peace notified
country_event = {
	id = foreign_minister.16
	title = foreign_minister.16.t
	desc  = foreign_minister.16.d
	is_triggered_only = yes
	picture = GFX_report_event_peace_announcement_gfxaddon
	minor_flavor = yes
	immediate = {
	}
	option = {
		name = foreign_minister.16.a
		effect_tooltip = {
			add_war_support = -0.02
		}
	}

}
#Private Import
country_event = {
	id = foreign_minister.17
	title = foreign_minister.17.t
	desc  = foreign_minister.17.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_city
	minor_flavor = yes
	option = {
		name = foreign_minister.11.a
		
		set_temp_variable = { targeted_resource = global.resources^foreign_minister_resource }
		clear_variable = foreign_minister_resource
		meta_effect = {
			text = {
				add_timed_idea = {
					idea = [X]_imports
					days = 60
				}
			}
			X = "[?targeted_resource.GetTokenKey]"
		}
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Expats coming home
country_event = {
	id = foreign_minister.18
	title = foreign_minister.18.t
	desc  = foreign_minister.18.d
	is_triggered_only = yes
	picture = GFX_report_event_politics_2
	minor_flavor = yes
	immediate = {
	}
	option = {
		name = foreign_minister.13.a
		add_timed_idea = {
			idea = returning_countrymen
			days = 75
		}
	}

	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Speech to the LON
country_event = {
	id = foreign_minister.19
	title = foreign_minister.19.t
	desc  = foreign_minister.19.d
	is_triggered_only = yes
	picture = GFX_news_event_league_of_nations
	minor_flavor = yes
	immediate = {
	}
	option = {
		name = foreign_minister.19.b
		
		add_stability = 0.01
		for_each_scope_loop = {
			array = global.league_member
			tooltip = every_league_member_tt
			add_stability = 0.02

		}	
	}
	option = {
		name = foreign_minister.19.a
		
		add_war_support = 0.01
		for_each_scope_loop = {
			array = global.league_member
			tooltip = every_league_member_tt
			add_war_support = 0.02

		}	
	}
	option = {
		name = foreign_minister.19.c
		add_political_power = -15
		add_named_threat = {
			threat = 0.25
			name = foreign_minister.19.c
		}
	}
	
	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
#Food Sale
country_event = {
	id = foreign_minister.20
	title = foreign_minister.20.t
	desc  = foreign_minister.20.d
	is_triggered_only = yes
	picture = GFX_report_event_handshake_gfxaddon
	minor_flavor = yes
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					not = { has_war_with = ROOT }
				}	
				save_event_target_as = food_target
			}
		}
	}
	option = {
		name = foreign_minister.20.a
		subtract_from_variable = { food = 100 tooltip = food_sold_tt}
		event_target:food_target = {
			add_to_variable = { food = 100 tooltip = food_given_tt }
			add_opinion_modifier = {
				target = ROOT
				modifier = tiny_increase
			}			
		}
		add_political_power = 25
	}
	option = {
		name = foreign_minister.20.b
	}

	after = {
		if = {
			limit = { has_war = yes }
			set_temp_variable = { min_time = @MIN_DAYS_WAR }
			set_temp_variable = { max_time = @MAX_DAYS_WAR }
		}
		else = {
			set_temp_variable = { min_time = @MIN_DAYS }
			set_temp_variable = { max_time = @MAX_DAYS }
		}
		hidden_effect = { country_event = { id = foreign_minister.1 days = min_time random_days = max_time } }
	}
}
### EOF ###
